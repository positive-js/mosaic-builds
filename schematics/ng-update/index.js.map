{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../packages/mosaic/schematics/ng-update/index.ts"],"names":[],"mappings":";;AACA,wDAA+G;AAC/G,iCAAsC;AAEtC,sGAAgG;AAChG,iDAAmD;AAGnD,MAAM,gBAAgB,GAA+B;IACjD,aAAa;IACb,gEAA6B;CAChC,CAAC;AAEF,SAAgB,UAAU;IACtB,OAAO,yCAA4B,CAC/B,0BAAa,CAAC,EAAE,EAAE,gBAAgB,EAAE,gCAAiB,EAAE,mBAAmB,CAAC,CAAC;AACpF,CAAC;AAHD,gCAGC;AAED,SAAS,mBAAmB,CAAC,OAAyB,EAAE,aAA4B,EAAE,WAAoB;IAEtG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAK,CAAC,qBAAqB,aAAa,EAAE,CAAC,CAAC,CAAC;IAEjE,IAAI,WAAW,EAAE;QACb,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,cAAM,CACtB,oFAAoF;YACpF,6CAA6C,CAAC,CAAC,CAAC;KACvD;AACL,CAAC","sourcesContent":["import { Rule, SchematicContext } from '@angular-devkit/schematics';\nimport { createMigrationSchematicRule, NullableDevkitMigration, TargetVersion } from '@angular/cdk/schematics';\nimport { green, yellow } from 'chalk';\n\nimport { SecondaryEntryPointsMigration } from './update-9.0.0-345e264/secondary-entry-points-migration';\nimport { mosaicUpgradeData } from './upgrade-data';\n\n\nconst mosaicMigrations: NullableDevkitMigration[]  = [\n    // @ts-ignore\n    SecondaryEntryPointsMigration\n];\n\nexport function updateToV9(): Rule {\n    return createMigrationSchematicRule(\n        TargetVersion.V9, mosaicMigrations, mosaicUpgradeData, onMigrationComplete);\n}\n\nfunction onMigrationComplete(context: SchematicContext, targetVersion: TargetVersion, hasFailures: boolean): void {\n\n    context.logger.info(green(`Updated Mosaic to ${targetVersion}`));\n\n    if (hasFailures) {\n        context.logger.warn(yellow(\n            ' Some issues were detected but could not be fixed automatically. Please check the ' +\n            'output above and fix these issues manually.'));\n    }\n}\n"]}