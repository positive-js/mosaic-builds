{"version":3,"file":"ptsecurity-mosaic-link.js","sources":["../../../packages/mosaic/link/link.component.ts","../../../packages/mosaic/link/link.module.ts","../../../packages/mosaic/link/ptsecurity-mosaic-link.ts"],"sourcesContent":["import { FocusMonitor } from '@angular/cdk/a11y';\nimport {\n    Input,\n    ElementRef,\n    OnDestroy,\n    ChangeDetectorRef,\n    Directive,\n    ContentChild\n} from '@angular/core';\nimport {\n    CanDisable,\n    CanDisableCtor,\n    HasTabIndex,\n    HasTabIndexCtor,\n    mixinDisabled,\n    mixinTabIndex,\n    toBoolean\n} from '@ptsecurity/mosaic/core';\nimport { McIcon } from '@ptsecurity/mosaic/icon';\n\n\nexport class McLinkBase {}\n\n// tslint:disable-next-line: naming-convention\nexport const McLinkMixinBase: HasTabIndexCtor & CanDisableCtor &\n    typeof McLinkBase = mixinTabIndex(mixinDisabled(McLinkBase));\n\nexport const baseURLRegex = /^http(s)?:\\/\\//;\n\n@Directive({\n    selector: '[mc-link]',\n    exportAs: 'mcLink',\n    inputs: ['tabIndex'],\n    host: {\n        class: 'mc-link',\n        '[class.mc-link_no-underline]': 'noUnderline',\n        '[class.mc-link_use-visited]': 'useVisited',\n        '[class.mc-link_pseudo]': 'pseudo',\n        '[class.mc-link_print]': 'printMode',\n        '[class.mc-text-only]': '!hasIcon',\n        '[class.mc-text-with-icon]': 'hasIcon',\n        '[attr.disabled]': 'disabled || null',\n        '[attr.tabindex]': 'tabIndex',\n        '[attr.print]': 'print'\n    }\n})\n\nexport class McLink extends McLinkMixinBase implements OnDestroy, HasTabIndex, CanDisable {\n    @Input()\n    get disabled() {\n        return this._disabled;\n    }\n\n    set disabled(value: any) {\n        const newValue = toBoolean(value);\n\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this.changeDetector.markForCheck();\n        }\n    }\n\n    private _disabled = false;\n\n    @Input()\n    get pseudo() {\n        return this._pseudo;\n    }\n\n    set pseudo(value: any) {\n        this._pseudo = toBoolean(value);\n    }\n\n    private _pseudo = false;\n\n    @Input()\n    get noUnderline() {\n        return this._noUnderline;\n    }\n\n    set noUnderline(value: any) {\n        this._noUnderline = toBoolean(value);\n    }\n\n    private _noUnderline = false;\n\n    @Input()\n    get useVisited() {\n        return this._useVisited;\n    }\n\n    set useVisited(value: any) {\n        this._useVisited = toBoolean(value);\n    }\n\n    private _useVisited = false;\n\n    get hasIcon(): boolean {\n        return !!this.icon;\n    }\n\n    @Input()\n    get print() {\n        return this._print || this.getHostElement().href?.replace(baseURLRegex, '');\n    }\n\n    set print(value: any) {\n        this.printMode = toBoolean(value);\n\n        this._print = value;\n    }\n\n    private _print: string;\n\n    printMode: boolean;\n\n    @ContentChild(McIcon) icon: McIcon;\n\n    constructor(\n        private elementRef: ElementRef,\n        private focusMonitor: FocusMonitor,\n        private changeDetector: ChangeDetectorRef\n    ) {\n        super();\n\n        this.focusMonitor.monitor(elementRef.nativeElement, true);\n    }\n\n    ngOnDestroy() {\n        this.focusMonitor.stopMonitoring(this.elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.getHostElement().focus();\n    }\n\n    getHostElement() {\n        return this.elementRef.nativeElement;\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McLink } from './link.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule\n    ],\n    declarations: [McLink],\n    exports: [McLink]\n})\nexport class McLinkModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}