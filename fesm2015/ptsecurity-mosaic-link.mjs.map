{"version":3,"file":"ptsecurity-mosaic-link.mjs","sources":["../../../packages/mosaic/link/link.component.ts","../../../packages/mosaic/link/link.module.ts","../../../packages/mosaic/link/ptsecurity-mosaic-link.ts"],"sourcesContent":["import { FocusMonitor } from '@angular/cdk/a11y';\nimport {\n    Input,\n    ElementRef,\n    OnDestroy,\n    ChangeDetectorRef,\n    Directive,\n    ContentChild\n} from '@angular/core';\nimport {\n    CanDisable,\n    CanDisableCtor,\n    HasTabIndex,\n    HasTabIndexCtor,\n    mixinDisabled,\n    mixinTabIndex,\n    toBoolean\n} from '@ptsecurity/mosaic/core';\nimport { McIcon } from '@ptsecurity/mosaic/icon';\n\n\nexport class McLinkBase {}\n\n// tslint:disable-next-line: naming-convention\nexport const McLinkMixinBase: HasTabIndexCtor & CanDisableCtor &\n    typeof McLinkBase = mixinTabIndex(mixinDisabled(McLinkBase));\n\nexport const baseURLRegex = /^http(s)?:\\/\\//;\n\n@Directive({\n    selector: '[mc-link]',\n    exportAs: 'mcLink',\n    inputs: ['tabIndex'],\n    host: {\n        class: 'mc-link',\n        '[class.mc-link_no-underline]': 'noUnderline',\n        '[class.mc-link_use-visited]': 'useVisited',\n        '[class.mc-link_pseudo]': 'pseudo',\n        '[class.mc-link_print]': 'printMode',\n        '[class.mc-text-only]': '!hasIcon',\n        '[class.mc-text-with-icon]': 'hasIcon',\n        '[attr.disabled]': 'disabled || null',\n        '[attr.tabindex]': 'tabIndex',\n        '[attr.print]': 'print'\n    }\n})\n\nexport class McLink extends McLinkMixinBase implements OnDestroy, HasTabIndex, CanDisable {\n    @Input()\n    get disabled() {\n        return this._disabled;\n    }\n\n    set disabled(value: any) {\n        const newValue = toBoolean(value);\n\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this.changeDetector.markForCheck();\n        }\n    }\n\n    private _disabled = false;\n\n    @Input()\n    get pseudo() {\n        return this._pseudo;\n    }\n\n    set pseudo(value: any) {\n        this._pseudo = toBoolean(value);\n    }\n\n    private _pseudo = false;\n\n    @Input()\n    get noUnderline() {\n        return this._noUnderline;\n    }\n\n    set noUnderline(value: any) {\n        this._noUnderline = toBoolean(value);\n    }\n\n    private _noUnderline = false;\n\n    @Input()\n    get useVisited() {\n        return this._useVisited;\n    }\n\n    set useVisited(value: any) {\n        this._useVisited = toBoolean(value);\n    }\n\n    private _useVisited = false;\n\n    get hasIcon(): boolean {\n        return !!this.icon;\n    }\n\n    @Input()\n    get print() {\n        return this._print || this.getHostElement().href?.replace(baseURLRegex, '');\n    }\n\n    set print(value: any) {\n        this.printMode = toBoolean(value);\n\n        this._print = value;\n    }\n\n    private _print: string;\n\n    printMode: boolean;\n\n    @ContentChild(McIcon) icon: McIcon;\n\n    constructor(\n        private elementRef: ElementRef,\n        private focusMonitor: FocusMonitor,\n        private changeDetector: ChangeDetectorRef\n    ) {\n        super();\n\n        this.focusMonitor.monitor(elementRef.nativeElement, true);\n    }\n\n    ngOnDestroy() {\n        this.focusMonitor.stopMonitoring(this.elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.getHostElement().focus();\n    }\n\n    getHostElement() {\n        return this.elementRef.nativeElement;\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McLink } from './link.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule\n    ],\n    declarations: [McLink],\n    exports: [McLink]\n})\nexport class McLinkModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}