{"version":3,"file":"dropdown.js","sources":["../../../packages/mosaic/dropdown/dropdown.module.ts","../../../packages/mosaic/dropdown/dropdown-trigger.ts","../../../packages/mosaic/dropdown/dropdown.component.ts","../../../packages/mosaic/dropdown/dropdown-animations.ts","../../../packages/mosaic/dropdown/dropdown-errors.ts","../../../packages/mosaic/dropdown/dropdown-item.ts","../../../packages/mosaic/dropdown/dropdown-panel.ts","../../../packages/mosaic/dropdown/dropdown-content.ts"],"sourcesContent":["import { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\n\nimport { McDropdownContent } from './dropdown-content';\nimport { McDropdownItem } from './dropdown-item';\nimport { MC_DROPDOWN_SCROLL_STRATEGY_FACTORY_PROVIDER, McDropdownTrigger } from './dropdown-trigger';\nimport { McDropdown } from './dropdown.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        OverlayModule,\n        McIconModule\n    ],\n    exports: [McDropdown, McDropdownItem, McDropdownTrigger, McDropdownContent],\n    declarations: [McDropdown, McDropdownItem, McDropdownTrigger, McDropdownContent],\n    providers: [MC_DROPDOWN_SCROLL_STRATEGY_FACTORY_PROVIDER]\n})\nexport class McDropdownModule {}\n","import { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n    FlexibleConnectedPositionStrategy,\n    HorizontalConnectionPos,\n    Overlay,\n    OverlayConfig,\n    OverlayRef,\n    VerticalConnectionPos,\n    ScrollStrategy\n} from '@angular/cdk/overlay';\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport {\n    AfterContentInit,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    InjectionToken,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    Self,\n    ViewContainerRef\n} from '@angular/core';\nimport { FocusMonitor, FocusOrigin } from '@ptsecurity/cdk/a11y';\nimport { LEFT_ARROW, RIGHT_ARROW, SPACE, ENTER } from '@ptsecurity/cdk/keycodes';\nimport { asapScheduler, merge, of as observableOf, Subscription } from 'rxjs';\nimport { delay, filter, take, takeUntil } from 'rxjs/operators';\n\nimport { throwMcDropdownMissingError } from './dropdown-errors';\nimport { McDropdownItem } from './dropdown-item';\nimport { McDropdownPanel } from './dropdown-panel';\nimport { DropdownPositionX, DropdownPositionY } from './dropdown-positions';\nimport { McDropdown } from './dropdown.component';\n\n\n/** Injection token that determines the scroll handling while the dropdown is open. */\nexport const MC_DROPDOWN_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mc-dropdown-scroll-strategy');\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport function MC_DROPDOWN_SCROLL_STRATEGY_FACTORY(overlay: Overlay): () => ScrollStrategy {\n    return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MC_DROPDOWN_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MC_DROPDOWN_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MC_DROPDOWN_SCROLL_STRATEGY_FACTORY\n};\n\n/** Default top padding of the nested dropdown panel. */\nexport const NESTED_PANEL_TOP_PADDING = 2;\n\n/** Options for binding a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({passive: true});\n\n/**\n * This directive is intended to be used in conjunction with an mc-dropdown tag.  It is\n * responsible for toggling the display of the provided dropdown instance.\n */\n@Directive({\n    selector: `[mcDropdownTriggerFor]`,\n    host: {\n        'aria-haspopup': 'true',\n        '[attr.aria-expanded]': 'opened || null',\n        '(mousedown)': 'handleMousedown($event)',\n        '(keydown)': 'handleKeydown($event)',\n        '(click)': 'handleClick($event)'\n    },\n    exportAs: 'mcDropdownTrigger'\n})\nexport class McDropdownTrigger implements AfterContentInit, OnDestroy {\n\n    /** The text direction of the containing app. */\n    get dir(): Direction {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n\n\n    /** References the dropdown instance that the trigger is associated with. */\n    @Input('mcDropdownTriggerFor')\n    get dropdown() {\n        return this._dropdown;\n    }\n\n    set dropdown(dropdown: McDropdownPanel) {\n        if (dropdown === this._dropdown) { return; }\n\n        this._dropdown = dropdown;\n        this.closeSubscription.unsubscribe();\n\n        if (dropdown) {\n            this.closeSubscription = dropdown.closed.asObservable().subscribe((reason) => {\n                this.destroy();\n\n                // If a click closed the dropdown, we should close the entire chain of nested dropdowns.\n                if ((reason === 'click' || reason === 'tab') && this._parent) {\n                    this._parent.closed.emit(reason);\n                }\n            });\n        }\n    }\n\n    // Tracking input type is necessary so it's possible to only auto-focus\n    // the first item of the list when the dropdown is opened via the keyboard\n    openedBy: 'mouse' | 'touch' | null = null;\n\n    /** Data to be passed along to any lazily-rendered content. */\n    @Input('mcDropdownTriggerData') data: any;\n\n    /** Event emitted when the associated dropdown is opened. */\n    @Output() readonly dropdownOpened: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Event emitted when the associated dropdown is closed. */\n    @Output() readonly dropdownClosed: EventEmitter<void> = new EventEmitter<void>();\n\n    private _dropdown: McDropdownPanel;\n\n    /** Whether the dropdown is open. */\n    get opened(): boolean {\n        return this._opened;\n    }\n\n    private _opened: boolean = false;\n\n    private portal: TemplatePortal;\n\n    private overlayRef: OverlayRef | null = null;\n\n    private closeSubscription = Subscription.EMPTY;\n\n    private hoverSubscription = Subscription.EMPTY;\n\n    constructor(private _overlay: Overlay,\n                private _element: ElementRef<HTMLElement>,\n                private _viewContainerRef: ViewContainerRef,\n                @Inject(MC_DROPDOWN_SCROLL_STRATEGY) private _scrollStrategy: any,\n                @Optional() private _parent: McDropdown,\n                @Optional() @Self() private _dropdownItemInstance: McDropdownItem,\n                @Optional() private _dir: Directionality,\n                private _focusMonitor?: FocusMonitor) {\n\n        _element.nativeElement.addEventListener('touchstart', this.handleTouchStart,\n            passiveEventListenerOptions);\n\n        if (_dropdownItemInstance) {\n            _dropdownItemInstance.triggersNestedDropdown = this.triggersNestedDropdown();\n        }\n    }\n\n    ngAfterContentInit() {\n        this.check();\n        this.handleHover();\n    }\n\n    ngOnDestroy() {\n        if (this.overlayRef) {\n            this.overlayRef.dispose();\n            this.overlayRef = null;\n        }\n\n        this._element.nativeElement.removeEventListener('touchstart', this.handleTouchStart,\n            passiveEventListenerOptions);\n\n        this.cleanUpSubscriptions();\n        this.closeSubscription.unsubscribe();\n    }\n\n    /** Whether the dropdown triggers a nested dropdown or a top-level one. */\n    triggersNestedDropdown(): boolean {\n        return !!(this._dropdownItemInstance && this._parent);\n    }\n\n    /** Toggles the dropdown between the open and closed states. */\n    toggle(): void {\n        // tslint:disable-next-line:no-void-expression\n        return this._opened ? this.close() : this.open();\n    }\n\n    /** Opens the dropdown. */\n    open(): void {\n        if (this._opened) { return; }\n\n        this.check();\n\n        const overlayRef = this.createOverlay();\n        const overlayConfig = overlayRef.getConfig();\n\n        this.setPosition(overlayConfig.positionStrategy as FlexibleConnectedPositionStrategy);\n        overlayConfig.hasBackdrop = this.dropdown.hasBackdrop == null ? !this.triggersNestedDropdown() :\n            this.dropdown.hasBackdrop;\n        overlayRef.attach(this.getPortal());\n\n        if (this.dropdown.lazyContent) {\n            this.dropdown.lazyContent.attach(this.data);\n        }\n\n        this.closeSubscription = this.closingActions().subscribe(() => this.close());\n        this.init();\n\n        if (this.dropdown instanceof McDropdown) {\n            this.dropdown.startAnimation();\n        }\n    }\n\n    /** Closes the dropdown. */\n    close(): void {\n        this.dropdown.closed.emit();\n    }\n\n    /**\n     * Focuses the dropdown trigger.\n     * @param origin Source of the dropdown trigger's focus.\n     */\n    focus(origin: FocusOrigin = 'program') {\n        if (this._focusMonitor) {\n            this._focusMonitor.focusVia(this._element.nativeElement, origin);\n        } else {\n            this._element.nativeElement.focus();\n        }\n    }\n\n    /** Handles mouse presses on the trigger. */\n    handleMousedown(event: MouseEvent): void {\n        // Since right or middle button clicks won't trigger the `click` event,\n        // we shouldn't consider the dropdown as opened by mouse in those cases.\n        this.openedBy = event.button === 0 ? 'mouse' : null;\n\n        // Since clicking on the trigger won't close the dropdown if it opens a nested dropdown,\n        // we should prevent focus from moving onto it via click to avoid the\n        // highlight from lingering on the dropdown item.\n        if (this.triggersNestedDropdown()) {\n            event.preventDefault();\n        }\n    }\n\n    /** Handles key presses on the trigger. */\n    handleKeydown(event: KeyboardEvent): void {\n        // tslint:disable-next-line:deprecation\n        const keyCode = event.key || event.keyCode;\n\n        if (keyCode === SPACE || keyCode === ENTER) {\n            this.open();\n        }\n\n        if (this.triggersNestedDropdown() && (\n            (keyCode === RIGHT_ARROW && this.dir === 'ltr') ||\n            (keyCode === LEFT_ARROW && this.dir === 'rtl'))) {\n            this.open();\n        }\n    }\n\n    /** Handles click events on the trigger. */\n    handleClick(event: MouseEvent): void {\n        if (this.triggersNestedDropdown()) {\n            // Stop event propagation to avoid closing the parent dropdown.\n            event.stopPropagation();\n            this.open();\n        } else {\n            this.toggle();\n        }\n    }\n\n    /**\n     * Handles touch start events on the trigger.\n     * Needs to be an arrow function so we can easily use addEventListener and removeEventListener.\n     */\n    private handleTouchStart = () => this.openedBy = 'touch';\n\n    /** Closes the dropdown and does the necessary cleanup. */\n    private destroy() {\n        if (!this.overlayRef || !this.opened) {\n            return;\n        }\n\n        const dropdown = this.dropdown;\n\n        this.closeSubscription.unsubscribe();\n        this.overlayRef.detach();\n\n        if (dropdown instanceof McDropdown) {\n            dropdown.resetAnimation();\n\n            if (dropdown.lazyContent) {\n                // Wait for the exit animation to finish before detaching the content.\n                dropdown.animationDone\n                    .pipe(\n                        filter((event) => event.toState === 'void'),\n                        take(1),\n                        // Interrupt if the content got re-attached.\n                        takeUntil(dropdown.lazyContent.attached)\n                    )\n                    .subscribe({next: () => dropdown.lazyContent.detach(), error: undefined, complete: () => {\n                        // No matter whether the content got re-attached, reset the dropdown.\n                        this.reset();\n                    }});\n            } else {\n                this.reset();\n            }\n        } else {\n            this.reset();\n\n            if (dropdown.lazyContent) {\n                dropdown.lazyContent.detach();\n            }\n        }\n    }\n\n    /**\n     * This method sets the dropdown state to open and focuses the first item if\n     * the dropdown was opened via the keyboard.\n     */\n    private init(): void {\n        this.dropdown.parent = this.triggersNestedDropdown() ? this._parent : undefined;\n        this.dropdown.direction = this.dir;\n        this.setIsOpened(true);\n        this.dropdown.focusFirstItem(this.openedBy || 'program');\n    }\n\n    /**\n     * This method resets the dropdown when it's closed, most importantly restoring\n     * focus to the dropdown trigger if the dropdown was opened via the keyboard.\n     */\n    private reset(): void {\n        this.setIsOpened(false);\n\n        // We should reset focus if the user is navigating using a keyboard or\n        // if we have a top-level trigger which might cause focus to be lost\n        // when clicking on the backdrop.\n        if (!this.openedBy) {\n            // Note that the focus style will show up both for `program` and\n            // `keyboard` so we don't have to specify which one it is.\n            this.focus();\n        } else if (!this.triggersNestedDropdown()) {\n            this.focus(this.openedBy);\n        }\n\n        this.openedBy = null;\n    }\n\n    // set state rather than toggle to support triggers sharing a dropdown\n    private setIsOpened(isOpen: boolean): void {\n        this._opened = isOpen;\n        // tslint:disable-next-line:no-void-expression\n        this._opened ? this.dropdownOpened.emit() : this.dropdownClosed.emit();\n\n        if (this.triggersNestedDropdown()) {\n            this._dropdownItemInstance.highlighted = isOpen;\n        }\n    }\n\n    /**\n     * This method checks that a valid instance of McDropdown has been passed into\n     * mcDropdownTriggerFor. If not, an exception is thrown.\n     */\n    private check() {\n        if (!this.dropdown) {\n            throwMcDropdownMissingError();\n        }\n    }\n\n    /**\n     * This method creates the overlay from the provided dropdown's template and saves its\n     * OverlayRef so that it can be attached to the DOM when open is called.\n     */\n    private createOverlay(): OverlayRef {\n        if (!this.overlayRef) {\n            const config = this.getOverlayConfig();\n            this.subscribeToPositions(config.positionStrategy as FlexibleConnectedPositionStrategy);\n            this.overlayRef = this._overlay.create(config);\n\n            // Consume the `keydownEvents` in order to prevent them from going to another overlay.\n            // Ideally we'd also have our keyboard event logic in here, however doing so will\n            // break anybody that may have implemented the `McDropdownPanel` themselves.\n            this.overlayRef.keydownEvents().subscribe();\n        }\n\n        return this.overlayRef;\n    }\n\n    /**\n     * This method builds the configuration object needed to create the overlay, the OverlayState.\n     * @returns OverlayConfig\n     */\n    private getOverlayConfig(): OverlayConfig {\n        return new OverlayConfig({\n            positionStrategy: this._overlay.position()\n                .flexibleConnectedTo(this._element)\n                .withLockedPosition()\n                .withTransformOriginOn('.mc-dropdown__panel'),\n            backdropClass: this.dropdown.backdropClass || 'cdk-overlay-transparent-backdrop',\n            scrollStrategy: this._scrollStrategy(),\n            direction: this._dir\n        });\n    }\n\n    /**\n     * Listens to changes in the position of the overlay and sets the correct classes\n     * on the dropdown based on the new position. This ensures the animation origin is always\n     * correct, even if a fallback position is used for the overlay.\n     */\n    private subscribeToPositions(position: FlexibleConnectedPositionStrategy): void {\n        if (this.dropdown.setPositionClasses) {\n            position.positionChanges.subscribe((change) => {\n                const posX: DropdownPositionX = change.connectionPair.overlayX === 'start' ? 'after' : 'before';\n                const posY: DropdownPositionY = change.connectionPair.overlayY === 'top' ? 'below' : 'above';\n\n                this.dropdown.setPositionClasses!(posX, posY);\n            });\n        }\n    }\n\n    /**\n     * Sets the appropriate positions on a position strategy\n     * so the overlay connects with the trigger correctly.\n     * @param positionStrategy Strategy whose position to update.\n     */\n    private setPosition(positionStrategy: FlexibleConnectedPositionStrategy) {\n        let [originX, originFallbackX, overlayX, overlayFallbackX]: HorizontalConnectionPos[] =\n            this.dropdown.xPosition === 'before' ?\n                ['end', 'start', 'end', 'start'] :\n                ['start', 'end', 'start', 'end'];\n\n        // tslint:disable-next-line:prefer-const\n        let [overlayY, overlayFallbackY, originY, originFallbackY]: VerticalConnectionPos[] =\n            this.dropdown.yPosition === 'above' ?\n                ['bottom', 'top', 'bottom', 'top'] :\n                ['top', 'bottom', 'top', 'bottom'];\n\n        let offsetY = 0;\n\n        if (this.triggersNestedDropdown()) {\n            // When the dropdown is nested, it should always align itself\n            // to the edges of the trigger, instead of overlapping it.\n            overlayFallbackX = originX = this.dropdown.xPosition === 'before' ? 'start' : 'end';\n            originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n            offsetY = overlayY === 'bottom' ? NESTED_PANEL_TOP_PADDING : -NESTED_PANEL_TOP_PADDING;\n        } else {\n            if (!this.dropdown.overlapTriggerY) {\n                originY = overlayY === 'top' ? 'bottom' : 'top';\n                originFallbackY = overlayFallbackY === 'top' ? 'bottom' : 'top';\n            }\n\n            if (!this.dropdown.overlapTriggerX) {\n                overlayFallbackX = originX = this.dropdown.xPosition === 'before' ? 'start' : 'end';\n                originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n            }\n        }\n\n        positionStrategy.withPositions([\n            { originX, originY, overlayX, overlayY, offsetY },\n            { originX: originFallbackX, originY, overlayX: overlayFallbackX, overlayY, offsetY },\n            {\n                originX,\n                originY: originFallbackY,\n                overlayX,\n                overlayY: overlayFallbackY,\n                offsetY: -offsetY\n            },\n            {\n                originX: originFallbackX,\n                originY: originFallbackY,\n                overlayX: overlayFallbackX,\n                overlayY: overlayFallbackY,\n                offsetY: -offsetY\n            }\n        ]);\n    }\n\n    /** Cleans up the active subscriptions. */\n    private cleanUpSubscriptions(): void {\n        this.closeSubscription.unsubscribe();\n        this.hoverSubscription.unsubscribe();\n    }\n\n    /** Returns a stream that emits whenever an action that should close the dropdown occurs. */\n    private closingActions() {\n        const backdrop = this.overlayRef!.backdropClick();\n        const detachments = this.overlayRef!.detachments();\n        const parentClose = this._parent ? this._parent.closed : observableOf();\n        const hover = this._parent ? this._parent.hovered().pipe(\n            filter((active) => active !== this._dropdownItemInstance),\n            filter(() => this._opened)\n        ) : observableOf();\n\n        return merge(backdrop, parentClose, hover, detachments);\n    }\n\n    /** Handles the cases where the user hovers over the trigger. */\n    private handleHover() {\n        // Subscribe to changes in the hovered item in order to toggle the panel.\n        if (!this.triggersNestedDropdown()) {\n            return;\n        }\n\n        this.hoverSubscription = this._parent.hovered()\n        // Since we might have multiple competing triggers for the same dropdown (e.g. a nested dropdown\n        // with different data and triggers), we have to delay it by a tick to ensure that\n        // it won't be closed immediately after it is opened.\n            .pipe(\n                filter((active) => active === this._dropdownItemInstance && !active.disabled),\n                delay(0, asapScheduler)\n            )\n            .subscribe(() => {\n                this.openedBy = 'mouse';\n\n                // If the same dropdown is used between multiple triggers, it might still be animating\n                // while the new trigger tries to re-open it. Wait for the animation to finish\n                // before doing so. Also interrupt if the user moves to another item.\n                if (this.dropdown instanceof McDropdown && this.dropdown.isAnimating) {\n                    // We need the `delay(0)` here in order to avoid\n                    // 'changed after checked' errors in some cases. See #12194.\n                    this.dropdown.animationDone\n                        .pipe(take(1), delay(0, asapScheduler), takeUntil(this._parent.hovered()))\n                        .subscribe(() => this.open());\n                } else {\n                    this.open();\n                }\n            });\n    }\n\n    /** Gets the portal that should be attached to the overlay. */\n    private getPortal(): TemplatePortal {\n        // Note that we can avoid this check by keeping the portal on the dropdown panel.\n        // While it would be cleaner, we'd have to introduce another required method on\n        // `McDropdownPanel`, making it harder to consume.\n        if (!this.portal || this.portal.templateRef !== this.dropdown.templateRef) {\n            this.portal = new TemplatePortal(this.dropdown.templateRef, this._viewContainerRef);\n        }\n\n        return this.portal;\n    }\n\n}\n","import { AnimationEvent } from '@angular/animations';\nimport { Direction } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    Component,\n    ContentChild,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    InjectionToken,\n    Input,\n    NgZone,\n    OnDestroy,\n    Output,\n    TemplateRef,\n    QueryList,\n    ViewChild,\n    ViewEncapsulation,\n    OnInit\n} from '@angular/core';\nimport { FocusKeyManager, FocusOrigin } from '@ptsecurity/cdk/a11y';\nimport { ESCAPE, LEFT_ARROW, RIGHT_ARROW, DOWN_ARROW, UP_ARROW } from '@ptsecurity/cdk/keycodes';\nimport { merge, Observable, Subject, Subscription } from 'rxjs';\nimport { startWith, switchMap, take } from 'rxjs/operators';\n\nimport { mcDropdownAnimations } from './dropdown-animations';\nimport { McDropdownContent } from './dropdown-content';\nimport { throwMcDropdownInvalidPositionX, throwMcDropdownInvalidPositionY } from './dropdown-errors';\nimport { McDropdownItem } from './dropdown-item';\nimport { MC_DROPDOWN_PANEL, McDropdownPanel } from './dropdown-panel';\nimport { DropdownPositionX, DropdownPositionY } from './dropdown-positions';\n\n\n/** Default `mc-dropdown` options that can be overridden. */\n// tslint:disable-next-line:naming-convention\nexport interface McDropdownDefaultOptions {\n    /** The x-axis position of the dropdown. */\n    xPosition: DropdownPositionX;\n\n    /** The y-axis position of the dropdown. */\n    yPosition: DropdownPositionY;\n\n    /** Whether the dropdown should overlap the dropdown trigger horizontally. */\n    overlapTriggerX: boolean;\n\n    /** Whether the dropdown should overlap the dropdown trigger vertically. */\n    overlapTriggerY: boolean;\n\n    /** Class to be applied to the dropdown's backdrop. */\n    backdropClass: string;\n\n    /** Whether the dropdown has a backdrop. */\n    hasBackdrop?: boolean;\n}\n\n/** Injection token to be used to override the default options for `mc-dropdown`. */\nexport const MC_DROPDOWN_DEFAULT_OPTIONS =\n    new InjectionToken<McDropdownDefaultOptions>('mc-dropdown-default-options', {\n        providedIn: 'root',\n        factory: MC_DROPDOWN_DEFAULT_OPTIONS_FACTORY\n    });\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport function MC_DROPDOWN_DEFAULT_OPTIONS_FACTORY(): McDropdownDefaultOptions {\n    return {\n        overlapTriggerX: true,\n        overlapTriggerY: false,\n        xPosition: 'after',\n        yPosition: 'below',\n        backdropClass: 'cdk-overlay-transparent-backdrop'\n    };\n}\n\n@Component({\n    selector: 'mc-dropdown',\n    exportAs: 'mcDropdown',\n    templateUrl: 'dropdown.html',\n    styleUrls: ['dropdown.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    animations: [\n        mcDropdownAnimations.transformDropdown,\n        mcDropdownAnimations.fadeInItems\n    ],\n    providers: [\n        { provide: MC_DROPDOWN_PANEL, useExisting: McDropdown }\n    ]\n})\nexport class McDropdown implements AfterContentInit, McDropdownPanel<McDropdownItem>, OnInit, OnDestroy {\n\n    /** Position of the dropdown in the X axis. */\n    @Input()\n    get xPosition(): DropdownPositionX {\n        return this._xPosition;\n    }\n\n    set xPosition(value: DropdownPositionX) {\n        if (value !== 'before' && value !== 'after') {\n            throwMcDropdownInvalidPositionX();\n        }\n        this._xPosition = value;\n        this.setPositionClasses();\n    }\n\n    /** Position of the dropdown in the Y axis. */\n    @Input()\n    get yPosition(): DropdownPositionY {\n        return this._yPosition;\n    }\n\n    set yPosition(value: DropdownPositionY) {\n        if (value !== 'above' && value !== 'below') {\n            throwMcDropdownInvalidPositionY();\n        }\n        this._yPosition = value;\n        this.setPositionClasses();\n    }\n\n    /** Whether the dropdown should overlap its trigger vertically. */\n    @Input()\n    get overlapTriggerY(): boolean {\n        return this._overlapTriggerY;\n    }\n\n    set overlapTriggerY(value: boolean) {\n        this._overlapTriggerY = coerceBooleanProperty(value);\n    }\n\n    /** Whether the dropdown should overlap its trigger horizontally. */\n    @Input()\n    get overlapTriggerX(): boolean {\n        return this._overlapTriggerX;\n    }\n\n    set overlapTriggerX(value: boolean) {\n        this._overlapTriggerX = coerceBooleanProperty(value);\n    }\n\n    /** Whether the dropdown has a backdrop. */\n    @Input()\n    get hasBackdrop(): boolean | undefined {\n        return this._hasBackdrop;\n    }\n\n    set hasBackdrop(value: boolean | undefined) {\n        this._hasBackdrop = coerceBooleanProperty(value);\n    }\n\n    /**\n     * This method takes classes set on the host mc-dropdown element and applies them on the\n     * dropdown template that displays in the overlay container.  Otherwise, it's difficult\n     * to style the containing dropdown from outside the component.\n     * @param classes list of class names\n     */\n    @Input('class')\n    set panelClass(classes: string) {\n        const previousPanelClass = this.previousPanelClass;\n\n        if (previousPanelClass && previousPanelClass.length) {\n            previousPanelClass.split(' ').forEach((className: string) => {\n                this.classList[className] = false;\n            });\n        }\n\n        this.previousPanelClass = classes;\n\n        if (classes && classes.length) {\n            classes.split(' ').forEach((className: string) => {\n                this.classList[className] = true;\n            });\n\n            this._elementRef.nativeElement.className = '';\n        }\n    }\n    private _xPosition: DropdownPositionX = this._defaultOptions.xPosition;\n    private _yPosition: DropdownPositionY = this._defaultOptions.yPosition;\n    private _overlapTriggerX: boolean = this._defaultOptions.overlapTriggerX;\n    private _overlapTriggerY: boolean = this._defaultOptions.overlapTriggerY;\n    private _hasBackdrop: boolean | undefined = this._defaultOptions.hasBackdrop;\n\n    /** Config object to be passed into the dropdown's ngClass */\n    classList: { [key: string]: boolean } = {};\n\n    /** Current state of the panel animation. */\n    panelAnimationState: 'void' | 'enter' = 'void';\n\n    /** Emits whenever an animation on the dropdown completes. */\n    animationDone = new Subject<AnimationEvent>();\n\n    /** Whether the dropdown is animating. */\n    isAnimating: boolean;\n\n    /** Parent dropdown of the current dropdown panel. */\n    parent: McDropdownPanel | undefined;\n\n    /** Layout direction of the dropdown. */\n    direction: Direction;\n\n    /** Class to be added to the backdrop element. */\n    @Input() backdropClass: string = this._defaultOptions.backdropClass;\n\n    /** @docs-private */\n    @ViewChild(TemplateRef, {static: false}) templateRef: TemplateRef<any>;\n\n    /**\n     * List of the items inside of a dropdown.\n     */\n    @ContentChildren(McDropdownItem) items: QueryList<McDropdownItem>;\n\n    /**\n     * Dropdown content that will be rendered lazily.\n     * @docs-private\n     */\n    @ContentChild(McDropdownContent, {static: false}) lazyContent: McDropdownContent;\n\n    /** Event emitted when the dropdown is closed. */\n    @Output() readonly closed: EventEmitter<void | 'click' | 'keydown' | 'tab'> =\n        new EventEmitter<void | 'click' | 'keydown' | 'tab'>();\n\n    private previousPanelClass: string;\n\n    private keyManager: FocusKeyManager<McDropdownItem>;\n\n    /** Dropdown items inside the current dropdown. */\n    private itemsArray: McDropdownItem[] = [];\n\n    /** Emits whenever the amount of dropdown items changes. */\n    private itemChanges = new Subject<McDropdownItem[]>();\n\n    /** Subscription to tab events on the dropdown panel */\n    private tabSubscription = Subscription.EMPTY;\n\n    constructor(\n        private _elementRef: ElementRef<HTMLElement>,\n        private _ngZone: NgZone,\n        @Inject(MC_DROPDOWN_DEFAULT_OPTIONS) private _defaultOptions: McDropdownDefaultOptions) { }\n\n    ngOnInit() {\n        this.setPositionClasses();\n    }\n\n    ngAfterContentInit() {\n        this.keyManager = new FocusKeyManager<McDropdownItem>(this.items).withWrap().withTypeAhead();\n        this.tabSubscription = this.keyManager.tabOut.subscribe(() => this.closed.emit('tab'));\n    }\n\n    ngOnDestroy() {\n        this.tabSubscription.unsubscribe();\n        this.closed.complete();\n    }\n\n    /** Stream that emits whenever the hovered dropdown item changes. */\n    hovered(): Observable<McDropdownItem> {\n        return this.itemChanges.pipe(\n            startWith(this.itemsArray),\n            switchMap((items) => merge(...items.map((item) => item.hovered)))\n        );\n    }\n\n    /** Handle a keyboard event from the dropdown, delegating to the appropriate action. */\n    handleKeydown(event: KeyboardEvent) {\n        // tslint:disable-next-line:deprecation\n        const keyCode = event.keyCode;\n\n        switch (keyCode) {\n            case ESCAPE:\n                this.closed.emit('keydown');\n                break;\n            case LEFT_ARROW:\n                if (this.parent && this.direction === 'ltr') {\n                    this.closed.emit('keydown');\n                }\n                break;\n            case RIGHT_ARROW:\n                if (this.parent && this.direction === 'rtl') {\n                    this.closed.emit('keydown');\n                }\n                break;\n            default:\n                if (keyCode === UP_ARROW || keyCode === DOWN_ARROW) {\n                    this.keyManager.setFocusOrigin('keyboard');\n                }\n\n                this.keyManager.onKeydown(event);\n        }\n    }\n\n    handleClick() {\n        this.closed.emit('click');\n    }\n\n    /**\n     * Focus the first item in the dropdown.\n     * @param origin Action from which the focus originated. Used to set the correct styling.\n     */\n    focusFirstItem(origin: FocusOrigin = 'program'): void {\n        // When the content is rendered lazily, it takes a bit before the items are inside the DOM.\n        if (this.lazyContent) {\n            this._ngZone.onStable.asObservable()\n                .pipe(take(1))\n                .subscribe(() => this.keyManager.setFocusOrigin(origin).setFirstItemActive());\n        } else {\n            this.keyManager.setFocusOrigin(origin).setFirstItemActive();\n        }\n    }\n\n    /**\n     * Resets the active item in the dropdown. This is used when the dropdown is opened, allowing\n     * the user to start from the first option when pressing the down arrow.\n     */\n    resetActiveItem() {\n        this.keyManager.setActiveItem(-1);\n    }\n\n    /**\n     * Registers a dropdown item with the dropdown.\n     * @docs-private\n     */\n    addItem(item: McDropdownItem) {\n        // We register the items through this method, rather than picking them up through\n        // `ContentChildren`, because we need the items to be picked up by their closest\n        // `mc-dropdown` ancestor. If we used `@ContentChildren(McDropdownItem, {descendants: true})`,\n        // all descendant items will bleed into the top-level dropdown in the case where the consumer\n        // has `mc-dropdown` instances nested inside each other.\n        if (this.itemsArray.indexOf(item) === -1) {\n            this.itemsArray.push(item);\n            this.itemChanges.next(this.itemsArray);\n        }\n    }\n\n    /**\n     * Removes an item from the dropdown.\n     * @docs-private\n     */\n    removeItem(item: McDropdownItem) {\n        const index = this.itemsArray.indexOf(item);\n\n        if (this.itemsArray.indexOf(item) > -1) {\n            this.itemsArray.splice(index, 1);\n            this.itemChanges.next(this.itemsArray);\n        }\n    }\n\n    /**\n     * Adds classes to the dropdown panel based on its position. Can be used by\n     * consumers to add specific styling based on the position.\n     * @param posX Position of the dropdown along the x axis.\n     * @param posY Position of the dropdown along the y axis.\n     * @docs-private\n     */\n    setPositionClasses(posX: DropdownPositionX = this.xPosition, posY: DropdownPositionY = this.yPosition) {\n        const classes = this.classList;\n        classes['mc-dropdown-before'] = posX === 'before';\n        classes['mc-dropdown-after'] = posX === 'after';\n        classes['mc-dropdown-above'] = posY === 'above';\n        classes['mc-dropdown-below'] = posY === 'below';\n    }\n\n    /** Starts the enter animation. */\n    startAnimation() {\n        this.panelAnimationState = 'enter';\n    }\n\n    /** Resets the panel animation to its initial state. */\n    resetAnimation() {\n        this.panelAnimationState = 'void';\n    }\n\n    /** Callback that is invoked when the panel animation completes. */\n    onAnimationDone(event: AnimationEvent) {\n        this.animationDone.next(event);\n        this.isAnimating = false;\n    }\n\n    onAnimationStart(event: AnimationEvent) {\n        this.isAnimating = true;\n\n        // Scroll the content element to the top as soon as the animation starts. This is necessary,\n        // because we move focus to the first item while it's still being animated, which can throw\n        // the browser off when it determines the scroll position. Alternatively we can move focus\n        // when the animation is done, however moving focus asynchronously will interrupt screen\n        // readers which are in the process of reading out the dropdown already. We take the `element`\n        // from the `event` since we can't use a `ViewChild` to access the pane.\n        if (event.toState === 'enter' && this.keyManager.activeItemIndex === 0) {\n            event.element.scrollTop = 0;\n        }\n    }\n}\n","import {\n    trigger,\n    state,\n    style,\n    animate,\n    transition,\n    query,\n    group,\n    AnimationTriggerMetadata\n} from '@angular/animations';\n\n\n/**\n * Animations used by the mc-dropdown component.\n * @docs-private\n */\nexport const mcDropdownAnimations: {\n    readonly transformDropdown: AnimationTriggerMetadata;\n    readonly fadeInItems: AnimationTriggerMetadata;\n} = {\n    /**\n     * This animation controls the dropdown panel's entry and exit from the page.\n     *\n     * When the dropdown panel is added to the DOM, it scales in and fades in its border.\n     *\n     * When the dropdown panel is removed from the DOM, it simply fades out after a brief\n     * delay to display the ripple.\n     */\n    transformDropdown: trigger('transformDropdown', [\n        state('void', style({\n            opacity: 0,\n            transform: 'scale(0.8)'\n        })),\n        transition('void => enter', group([\n            query('.mc-dropdown__content', animate('50ms linear', style({opacity: 1}))),\n            animate('50ms cubic-bezier(0, 0, 0.2, 1)', style({transform: 'scale(1)'}))\n        ])),\n        transition('* => void', animate('50ms 25ms linear', style({opacity: 0})))\n    ]),\n\n\n    /**\n     * This animation fades in the background color and content of the dropdown panel\n     * after its containing element is scaled in.\n     */\n    fadeInItems: trigger('fadeInItems', [\n        // now. Remove next time we do breaking changes.\n        state('showing', style({opacity: 1})),\n        transition('void => *', [\n            style({opacity: 0}),\n            animate('200ms 60ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n        ])\n    ])\n};\n\nexport const fadeInItems = mcDropdownAnimations.fadeInItems;\n\nexport const transformDropdown = mcDropdownAnimations.transformDropdown;\n","/**\n * Throws an exception for the case when dropdown trigger doesn't have a valid mc-dropdown instance\n * @docs-private\n */\nexport function throwMcDropdownMissingError() {\n    throw Error(`mcDropdownTriggerFor: must pass in an mc-dropdown instance.\n    Example:\n      <mc-dropdown #dropdown=\"mcDropdown\"></mc-dropdown>\n      <button [mcDropdownTriggerFor]=\"dropdown\"></button>`);\n}\n\n/**\n * Throws an exception for the case when dropdown's x-position value isn't valid.\n * In other words, it doesn't match 'before' or 'after'.\n * @docs-private\n */\nexport function throwMcDropdownInvalidPositionX() {\n    throw Error(`xPosition value must be either 'before' or after'.\n      Example: <mc-dropdown xPosition=\"before\" #dropdown=\"mcDropdown\"></mc-dropdown>`);\n}\n\n/**\n * Throws an exception for the case when dropdown's y-position value isn't valid.\n * In other words, it doesn't match 'above' or 'below'.\n * @docs-private\n */\nexport function throwMcDropdownInvalidPositionY() {\n    throw Error(`yPosition value must be either 'above' or below'.\n      Example: <mc-dropdown yPosition=\"above\" #dropdown=\"mcDropdown\"></mc-dropdown>`);\n}\n","import { DOCUMENT } from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    OnDestroy,\n    ViewEncapsulation,\n    Inject,\n    Optional,\n    Input,\n    ViewChild\n} from '@angular/core';\nimport { IFocusableOption, FocusMonitor, FocusOrigin } from '@ptsecurity/cdk/a11y';\nimport { CanDisable, CanDisableCtor, mixinDisabled } from '@ptsecurity/mosaic/core';\nimport { Subject } from 'rxjs';\n\nimport { MC_DROPDOWN_PANEL, McDropdownPanel } from './dropdown-panel';\n\n\n// Boilerplate for applying mixins to McDropdownItem.\n/** @docs-private */\nexport class McDropdownItemBase {}\n// tslint:disable-next-line:naming-convention\nexport const McDropdownItemMixinBase: CanDisableCtor & typeof McDropdownItemBase =\n    mixinDisabled(McDropdownItemBase);\n\n/**\n * This directive is intended to be used inside an mc-dropdown tag.\n * It exists mostly to set the role attribute.\n */\n@Component({\n    selector: 'mc-dropdown-item, [mc-dropdown-item]',\n    exportAs: 'mcDropdownItem',\n    inputs: ['disabled'],\n    host: {\n        class: 'mc-dropdown__item',\n        '[class.mc-dropdown__item_highlighted]': 'highlighted',\n        '[attr.role]': 'role',\n        '[attr.tabindex]': 'getTabIndex()',\n        '[class.mc-disabled]': 'disabled',\n        '(click)': 'checkDisabled($event)',\n        '(mouseenter)': 'handleMouseEnter()'\n    },\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <div #content>\n            <ng-content></ng-content>\n        </div>\n        <i *ngIf=\"triggersNestedDropdown\" mc-icon=\"mc-angle-right-M_16\" class=\"mc-dropdown__trigger\"></i>\n    `\n})\nexport class McDropdownItem extends McDropdownItemMixinBase implements IFocusableOption, CanDisable, OnDestroy {\n\n    /** ARIA role for the dropdown item. */\n    @Input() role: 'menuitem' | 'menuitemradio' | 'menuitemcheckbox' = 'menuitem';\n\n    @ViewChild('content', { static: false }) content;\n\n    /** Stream that emits when the dropdown item is hovered. */\n    readonly hovered: Subject<McDropdownItem> = new Subject<McDropdownItem>();\n\n    /** Whether the dropdown item is highlighted. */\n    highlighted: boolean = false;\n\n    /** Whether the dropdown item acts as a trigger for a nested dropdown. */\n    triggersNestedDropdown: boolean = false;\n\n    constructor(\n        private _elementRef: ElementRef<HTMLElement>,\n        private _focusMonitor: FocusMonitor,\n        @Inject(DOCUMENT) private document: any,\n        @Optional() @Inject(MC_DROPDOWN_PANEL) private _parentDropdownPanel?: McDropdownPanel<McDropdownItem>\n    ) {\n        super();\n\n        if (_focusMonitor) {\n            // Start monitoring the element so it gets the appropriate focused classes. We want\n            // to show the focus style for dropdown items only when the focus was not caused by a\n            // mouse or touch interaction.\n            _focusMonitor.monitor(this._elementRef.nativeElement, false);\n        }\n\n        if (_parentDropdownPanel && _parentDropdownPanel.addItem) {\n            _parentDropdownPanel.addItem(this);\n        }\n    }\n\n    /** Focuses the dropdown item. */\n    focus(origin: FocusOrigin = 'program'): void {\n        if (this._focusMonitor) {\n            this._focusMonitor.focusVia(this.getHostElement(), origin);\n        } else {\n            this.getHostElement().focus();\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._focusMonitor) {\n            this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n        }\n\n        if (this._parentDropdownPanel && this._parentDropdownPanel.removeItem) {\n            this._parentDropdownPanel.removeItem(this);\n        }\n\n        this.hovered.complete();\n    }\n\n    /** Used to set the `tabindex`. */\n    getTabIndex(): string {\n        return this.disabled ? '-1' : '0';\n    }\n\n    /** Returns the host DOM element. */\n    getHostElement(): HTMLElement {\n        return this._elementRef.nativeElement;\n    }\n\n    /** Prevents the default element actions if it is disabled. */\n    checkDisabled(event: MouseEvent): void {\n        if (this.disabled) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    /** Emits to the hover stream. */\n    handleMouseEnter() {\n        this.hovered.next(this);\n    }\n\n    /** Gets the label to be used when determining whether the option should be focused. */\n    getLabel(): string {\n        const element: HTMLElement = this.content.nativeElement;\n        // tslint:disable-next-line:no-magic-numbers\n        const textNodeType = this.document ? this.document.TEXT_NODE : 3;\n        let output = '';\n\n        if (element.childNodes) {\n            const length = element.childNodes.length;\n\n            // Go through all the top-level text nodes and extract their text.\n            // We skip anything that's not a text node to prevent the text from\n            // being thrown off by something like an icon.\n            for (let i = 0; i < length; i++) {\n                if (element.childNodes[i].nodeType === textNodeType) {\n                    output += element.childNodes[i].textContent;\n                }\n            }\n        }\n\n        return output.trim();\n    }\n}\n","import { Direction } from '@angular/cdk/bidi';\nimport { EventEmitter, TemplateRef, InjectionToken } from '@angular/core';\nimport { FocusOrigin } from '@ptsecurity/cdk/a11y';\n\nimport { McDropdownContent } from './dropdown-content';\nimport { DropdownPositionX, DropdownPositionY } from './dropdown-positions';\n\n\n/**\n * Injection token used to provide the parent dropdown to dropdown-specific components.\n * @docs-private\n */\nexport const MC_DROPDOWN_PANEL = new InjectionToken<McDropdownPanel>('MC_DROPDOWN_PANEL');\n\n/**\n * Interface for a custom dropdown panel that can be used with `mcDropdownTriggerFor`.\n * @docs-private\n */\n// tslint:disable-next-line:naming-convention\nexport interface McDropdownPanel<T = any> {\n    xPosition: DropdownPositionX;\n    yPosition: DropdownPositionY;\n    overlapTriggerX: boolean;\n    overlapTriggerY: boolean;\n    templateRef: TemplateRef<any>;\n    closed: EventEmitter<void | 'click' | 'keydown' | 'tab'>;\n    parent?: McDropdownPanel | undefined;\n    direction?: Direction;\n    lazyContent?: McDropdownContent;\n    backdropClass?: string;\n    hasBackdrop?: boolean;\n    focusFirstItem(origin?: FocusOrigin): void;\n    resetActiveItem(): void;\n    setPositionClasses?(x: DropdownPositionX, y: DropdownPositionY): void;\n    addItem?(item: T): void;\n    removeItem?(item: T): void;\n}\n","import { TemplatePortal, DomPortalOutlet } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n    Directive,\n    TemplateRef,\n    ComponentFactoryResolver,\n    ApplicationRef,\n    Injector,\n    ViewContainerRef,\n    Inject,\n    OnDestroy\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\n\n/**\n * Dropdown content that will be rendered lazily once the dropdown is opened.\n */\n@Directive({\n    selector: 'ng-template[mcDropdownContent]'\n})\nexport class McDropdownContent implements OnDestroy {\n\n    /** Emits when the dropdown content has been attached. */\n    attached = new Subject<void>();\n    private portal: TemplatePortal;\n    private outlet: DomPortalOutlet;\n\n    constructor(\n        private _template: TemplateRef<any>,\n        private _componentFactoryResolver: ComponentFactoryResolver,\n        private _appRef: ApplicationRef,\n        private _injector: Injector,\n        private _viewContainerRef: ViewContainerRef,\n        @Inject(DOCUMENT) private _document: any\n    ) {}\n\n    /**\n     * Attaches the content with a particular context.\n     * @docs-private\n     */\n    attach(context: any = {}) {\n        if (!this.portal) {\n            this.portal = new TemplatePortal(this._template, this._viewContainerRef);\n        }\n\n        this.detach();\n\n        if (!this.outlet) {\n            this.outlet = new DomPortalOutlet(\n                this._document.createElement('div'),\n                this._componentFactoryResolver,\n                this._appRef,\n                this._injector\n            );\n        }\n\n        const element: HTMLElement = this._template.elementRef.nativeElement;\n\n        // Because we support opening the same dropdown from different triggers (which in turn have their\n        // own `OverlayRef` panel), we have to re-insert the host element every time, otherwise we\n        // risk it staying attached to a pane that's no longer in the DOM.\n        element.parentNode!.insertBefore(this.outlet.outletElement, element);\n        this.portal.attach(this.outlet, context);\n        this.attached.next();\n    }\n\n    /**\n     * Detaches the content.\n     * @docs-private\n     */\n    detach() {\n        if (this.portal.isAttached) {\n            this.portal.detach();\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.outlet) {\n            this.outlet.dispose();\n        }\n    }\n}\n"],"names":["observableOf"],"mappings":"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"}