{"version":3,"file":"ptsecurity-mosaic-progress-spinner.js","sources":["ng://@ptsecurity/mosaic/progress-spinner/progress-spinner.component.ts","ng://@ptsecurity/mosaic/progress-spinner/progress-spinner.module.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    ViewEncapsulation,\n    ElementRef,\n    Input\n} from '@angular/core';\nimport { CanColor, CanColorCtor, mixinColor, ThemePalette } from '@ptsecurity/mosaic/core';\n\n\nexport type ProgressSpinnerMode = 'determinate' | 'indeterminate';\n\nlet idIterator = 0;\n\nconst MIN_PERCENT = 0;\nconst MAX_PERCENT = 100;\n\nexport class McProgressSpinnerBase {\n    // tslint:disable-next-line:naming-convention\n    constructor(public _elementRef: ElementRef) {}\n}\n\n// tslint:disable-next-line:naming-convention\nexport const McProgressSpinnerMixinBase:\n    CanColorCtor & typeof McProgressSpinnerBase = mixinColor(McProgressSpinnerBase, ThemePalette.Primary);\n\nconst MAX_DASH_ARRAY = 273;\n\n@Component({\n    selector: 'mc-progress-spinner',\n    templateUrl: './progress-spinner.component.html',\n    styleUrls: ['./progress-spinner.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    inputs: ['color'],\n    host: {\n        class: 'mc-progress-spinner',\n        '[attr.id]': 'id'\n    }\n})\nexport class McProgressSpinner extends McProgressSpinnerMixinBase implements CanColor {\n    @Input() id: string = `mc-progress-spinner-${idIterator++}`;\n    @Input() value: number = 0;\n    @Input() mode: ProgressSpinnerMode = 'determinate';\n\n    constructor(elementRef: ElementRef) {\n        super(elementRef);\n    }\n\n    get percentage(): number {\n        return Math.max(MIN_PERCENT, Math.min(MAX_PERCENT, this.value)) / MAX_PERCENT;\n    }\n\n    get dashOffsetPercent(): string {\n        return `${MAX_DASH_ARRAY - this.percentage * MAX_DASH_ARRAY}%`;\n    }\n}\n","import { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McProgressSpinner } from './progress-spinner.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PlatformModule\n    ],\n    exports: [\n        McProgressSpinner\n    ],\n    declarations: [\n        McProgressSpinner\n    ]\n})\nexport class McProgressSpinnerModule {}\n"],"names":[],"mappings":";;;;;;;;;;;;IAYI,UAAU,GAAG,CAAC;;IAEZ,WAAW,GAAG,CAAC;;IACf,WAAW,GAAG,GAAG;;;IAInB,+BAAmB,WAAuB;QAAvB,gBAAW,GAAX,WAAW,CAAY;KAAI;IAClD,4BAAC;AAAD,CAAC,IAAA;;;IADe,4CAA8B;;;;IAIjC,0BAA0B,GACW,UAAU,CAAC,qBAAqB,EAAE,YAAY,CAAC,OAAO;;IAElG,cAAc,GAAG,GAAG;;IAca,qCAA0B;IAK7D,2BAAY,UAAsB;QAAlC,YACI,kBAAM,UAAU,CAAC,SACpB;QANQ,QAAE,GAAW,yBAAuB,UAAU,EAAI,CAAC;QACnD,WAAK,GAAW,CAAC,CAAC;QAClB,UAAI,GAAwB,aAAa,CAAC;;KAIlD;IAED,sBAAI,yCAAU;;;;QAAd;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC;SACjF;;;OAAA;IAED,sBAAI,gDAAiB;;;;QAArB;YACI,OAAU,cAAc,GAAG,IAAI,CAAC,UAAU,GAAG,cAAc,MAAG,CAAC;SAClE;;;OAAA;;gBA3BJ,SAAS,SAAC;oBACP,QAAQ,EAAE,qBAAqB;oBAC/B,glBAAgD;oBAEhD,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;oBACrC,MAAM,EAAE,CAAC,OAAO,CAAC;oBACjB,IAAI,EAAE;wBACF,KAAK,EAAE,qBAAqB;wBAC5B,WAAW,EAAE,IAAI;qBACpB;;iBACJ;;;;gBAnCG,UAAU;;;qBAqCT,KAAK;wBACL,KAAK;uBACL,KAAK;;IAaV,wBAAC;CAAA,CAhBsC,0BAA0B,GAgBhE;;;IAfG,+BAA4D;;IAC5D,kCAA2B;;IAC3B,iCAAmD;;;;;;;;;ICpCvD;KAYuC;;gBAZtC,QAAQ,SAAC;oBACN,OAAO,EAAE;wBACL,YAAY;wBACZ,cAAc;qBACjB;oBACD,OAAO,EAAE;wBACL,iBAAiB;qBACpB;oBACD,YAAY,EAAE;wBACV,iBAAiB;qBACpB;iBACJ;;IACqC,8BAAC;CAZvC;;;;;;;;;;;;;;;;;;;;;;"}