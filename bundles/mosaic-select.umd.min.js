/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@ptsecurity/cdk/a11y"),require("@ptsecurity/cdk/bidi"),require("@ptsecurity/cdk/coercion"),require("@ptsecurity/cdk/collections"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/cdk/overlay"),require("@angular/core"),require("@angular/forms"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/form-field"),require("@ptsecurity/mosaic/tag"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@ptsecurity/mosaic/icon")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/select",["exports","@angular/animations","@ptsecurity/cdk/a11y","@ptsecurity/cdk/bidi","@ptsecurity/cdk/coercion","@ptsecurity/cdk/collections","@ptsecurity/cdk/keycodes","@ptsecurity/cdk/overlay","@angular/core","@angular/forms","@ptsecurity/mosaic/core","@ptsecurity/mosaic/form-field","@ptsecurity/mosaic/tag","rxjs","rxjs/operators","@angular/common","@ptsecurity/mosaic/icon"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.select={}),e.ng.animations,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.cdk.keycodes,e.ng.cdk.overlay,e.ng.core,e.ng.forms,e.ng.mosaic.core,e.ng.mosaic.formField,e.ng.mosaic.tag,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.mosaic.icon)}(this,function(e,t,i,n,o,r,s,a,c,l,p,d,h,u,g,_,m){"use strict";function f(e,t){function i(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function y(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function v(e,t){return function(i,n){t(i,n,e)}}function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function b(){return Error("Cannot change `multiple` mode of select after initialization.")}function C(){return Error("Value must be an array in multiple-selection mode.")}function w(){return Error("`compareWith` must be a function.")}function k(e){return function(){return e.scrollStrategies.reposition()}}var S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},M={transformPanel:t.trigger("transformPanel",[t.state("void",t.style({transform:"scaleY(0)",minWidth:"100%",opacity:0})),t.transition("void => *",t.group([t.query("@fadeInContent",t.animateChild()),t.animate("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),t.transition("* => void",[t.animate("250ms 100ms linear",t.style({opacity:0}))])]),fadeInContent:t.trigger("fadeInContent",[t.state("showing",t.style({opacity:1})),t.transition("void => showing",[t.style({opacity:0}),t.animate("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},x=0,I=new c.InjectionToken("mc-select-scroll-strategy"),E={provide:I,deps:[a.Overlay],useFactory:k},R=function(){function e(e,t){this.source=e,this.value=t}return e}(),D=function(){function e(e,t,i,n,o){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=o}return e}(),T=p.mixinTabIndex(p.mixinDisabled(p.mixinErrorState(D))),P=function(){function e(){}return e=y([c.Directive({selector:"mc-select-trigger"})],e)}(),A=function(e){function t(t,i,n,o,r,s,a,l,p,d,h,_,m){var f=e.call(this,s,r,l,p,h)||this;return f._viewportRuler=t,f._changeDetectorRef=i,f._ngZone=n,f._renderer=o,f._dir=a,f._parentFormField=d,f.ngControl=h,f._scrollStrategyFactory=m,f._triggerFontSize=0,f._optionIds="",f._transformOrigin="top",f._panelDoneAnimating=!1,f._panelDoneAnimatingStream=new u.Subject,f._scrollStrategy=f._scrollStrategyFactory(),f._offsetY=0,f._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}],f.controlType="mc-select",f.optionSelectionChanges=u.defer(function(){return f.options?u.merge.apply(void 0,f.options.map(function(e){return e.onSelectionChange})):f._ngZone.onStable.asObservable().pipe(g.take(1),g.switchMap(function(){return f.optionSelectionChanges}))}),f.openedChange=new c.EventEmitter,f._openedStream=f.openedChange.pipe(g.filter(function(e){return e}),g.map(function(){})),f._closedStream=f.openedChange.pipe(g.filter(function(e){return!e}),g.map(function(){})),f.selectionChange=new c.EventEmitter,f.valueChange=new c.EventEmitter,f.hiddenItems=0,f._panelOpen=!1,f._required=!1,f._scrollTop=0,f._multiple=!1,f._uid="mc-select-"+x++,f._destroy=new u.Subject,f._focused=!1,f._onChange=function(){},f._onTouched=function(){},f._compareWith=function(e,t){return e===t},f.ngControl&&(f.ngControl.valueAccessor=f),f.tabIndex=parseInt(_)||0,f.id=f.id,f}f(t,e),_=t,Object.defineProperty(t.prototype,"focused",{get:function(){return this._focused||this._panelOpen},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=o.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this._selectionModel)throw b();this._multiple=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){if("function"!=typeof e)throw w();this._compareWith=e,this._selectionModel&&this._initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this._value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._selectionModel=new r.SelectionModel(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(g.distinctUntilChanged(),g.takeUntil(this._destroy)).subscribe(function(){e.panelOpen?(e._scrollTop=0,e.openedChange.emit(!0)):(e.openedChange.emit(!1),e._panelDoneAnimating=!1,e.overlayDir.offsetX=0,e._changeDetectorRef.markForCheck())})},t.prototype.ngAfterContentInit=function(){var e=this;this._initKeyManager(),this._selectionModel.onChange.pipe(g.takeUntil(this._destroy)).subscribe(function(e){e.added.forEach(function(e){return e.select()}),e.removed.forEach(function(e){return e.deselect()})}),this.options.changes.pipe(g.startWith(null),g.takeUntil(this._destroy)).subscribe(function(){e._resetOptions(),e._initializeSelection()})},t.prototype.ngAfterViewInit=function(){var e=this;this.tags.changes.subscribe(function(){setTimeout(function(){return e._calculateHiddenItems()},0)})},t.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},t.prototype.ngOnChanges=function(e){e.disabled&&this.stateChanges.next()},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()},t.prototype.toggle=function(){this.panelOpen?this.close():this.open()},t.prototype.open=function(){var e=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(g.take(1)).subscribe(function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e._triggerFontSize+"px")}))},t.prototype.close=function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())},t.prototype.writeValue=function(e){this.options&&this._setSelectionByValue(e)},t.prototype.registerOnChange=function(e){this._onChange=e},t.prototype.registerOnTouched=function(e){this._onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(t.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerValue",{get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map(function(e){return e.viewValue});return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerValues",{get:function(){if(this.empty)return[];if(this._multiple){var e=this._selectionModel.selected;return this._isRtl()&&e.reverse(),e}return[this._selectionModel.selected[0]]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return!this._selectionModel||this._selectionModel.isEmpty()},enumerable:!0,configurable:!0}),t.prototype._isRtl=function(){return!!this._dir&&"rtl"===this._dir.value},t.prototype._handleKeydown=function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))},t.prototype._onFadeInDone=function(){this._panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck()},t.prototype._onFocus=function(){this.disabled||(this._focused=!0,this.stateChanges.next())},t.prototype._onBlur=function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())},t.prototype._onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(g.take(1)).subscribe(function(){e._changeDetectorRef.detectChanges(),e._calculateOverlayOffsetX(),e.panel.nativeElement.scrollTop=e._scrollTop})},t.prototype._getPanelTheme=function(){return this._parentFormField?"mc-"+this._parentFormField.color:""},t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t.prototype._calculateOverlayScroll=function(e,t,i){var n=this._getItemHeight(),o=n*e,r=n/2,s=o-t+r;return Math.min(Math.max(0,s),i)},t.prototype.onContainerClick=function(){this.focus(),this.open()},t.prototype.onRemoveMatcherItem=function(e,t){t.stopPropagation(),e.deselect()},Object.defineProperty(t.prototype,"shouldLabelFloat",{get:function(){return this._panelOpen||!this.empty},enumerable:!0,configurable:!0}),t.prototype._calculateHiddenItems=function(){if(!this.empty){var e=0,t=this._getTotalItemsWidthInMatcher(),i=0;if(this.tags.forEach(function(t){t.nativeElement.offsetTop<t.nativeElement.offsetHeight&&(i+=t.nativeElement.getBoundingClientRect().width+4,e++)}),this.hiddenItems=this.selected.length-e,this.hiddenItems){var n=this.trigger.nativeElement.querySelector(".mc-select__match-hidden-text"),o=this.trigger.nativeElement.querySelector(".mc-select__match-list"),r=n.offsetTop<n.offsetHeight,s=o.getBoundingClientRect().width,a=s+86;if(r&&t<a&&(this.hiddenItems=0),i===s||i+86<s)return void this._changeDetectorRef.markForCheck();!r&&t+86>a&&this.hiddenItems++}this._changeDetectorRef.markForCheck()}},t.prototype._getTotalItemsWidthInMatcher=function(){var e=this.trigger.nativeElement.cloneNode(!0);e.querySelector(".mc-select__match-hidden-text").remove(),this._renderer.setStyle(e,"position","absolute"),this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(e,"top","-100%"),this._renderer.setStyle(e,"left","0"),this._renderer.appendChild(this.trigger.nativeElement,e);var t=0;return e.querySelectorAll("mc-tag").forEach(function(e){t+=e.getBoundingClientRect().width+4}),e.remove(),t},t.prototype._handleClosedKeydown=function(e){var t=e.keyCode,i=t===s.DOWN_ARROW||t===s.UP_ARROW||t===s.LEFT_ARROW||t===s.RIGHT_ARROW;t===s.ENTER||t===s.SPACE||(this.multiple||e.altKey)&&i?(e.preventDefault(),this.open()):this.multiple||this._keyManager.onKeydown(e)},t.prototype._handleOpenKeydown=function(e){var t=e.keyCode,i=t===s.DOWN_ARROW||t===s.UP_ARROW,n=this._keyManager;if(t===s.HOME||t===s.END)e.preventDefault(),t===s.HOME?n.setFirstItemActive():n.setLastItemActive();else if(i&&e.altKey)e.preventDefault(),this.close();else if(t!==s.ENTER&&t!==s.SPACE||!n.activeItem)if(this._multiple&&t===s.A&&e.ctrlKey){e.preventDefault();var o=this.options.some(function(e){return!e.selected});this.options.forEach(function(e){o&&!e.disabled?e.select():e.deselect()})}else{var r=n.activeItemIndex;n.onKeydown(e),this._multiple&&i&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==r&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()},t.prototype._initializeSelection=function(){var e=this;Promise.resolve().then(function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value)})},t.prototype._setSelectionByValue=function(e){var t=this;if(this.multiple&&e){if(!Array.isArray(e))throw C();this._selectionModel.clear(),e.forEach(function(e){return t._selectValue(e)}),this._sortValues()}else{this._selectionModel.clear();var i=this._selectValue(e);i&&this._keyManager.setActiveItem(i)}this._changeDetectorRef.markForCheck()},t.prototype._selectValue=function(e){var t=this,i=this.options.find(function(i){try{return null!=i.value&&t._compareWith(i.value,e)}catch(e){return c.isDevMode()&&console.warn(e),!1}});return i&&this._selectionModel.select(i),i},t.prototype._initKeyManager=function(){var e=this;this._keyManager=new i.ActiveDescendantKeyManager(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._keyManager.tabOut.pipe(g.takeUntil(this._destroy)).subscribe(function(){e.focus(),e.close()}),this._keyManager.change.pipe(g.takeUntil(this._destroy)).subscribe(function(){e._panelOpen&&e.panel?e._scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()})},t.prototype._resetOptions=function(){var e=this,t=u.merge(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(g.takeUntil(t)).subscribe(function(t){e._onSelect(t.source,t.isUserInput),t.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())}),u.merge.apply(void 0,this.options.map(function(e){return e._stateChanges})).pipe(g.takeUntil(t)).subscribe(function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()}),this._setOptionIds()},t.prototype._onSelect=function(e,t){var i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()},t.prototype._sortValues=function(){var e=this;if(this.multiple){var t=this.options.toArray();this._selectionModel.sort(function(i,n){return e.sortComparator?e.sortComparator(i,n,t):t.indexOf(i)-t.indexOf(n)}),this.stateChanges.next()}},t.prototype._propagateChanges=function(e){var t=null;t=this.multiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new R(this,t)),this._changeDetectorRef.markForCheck()},t.prototype._setOptionIds=function(){this._optionIds=this.options.map(function(e){return e.id}).join(" ")},t.prototype._highlightCorrectOption=function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))},t.prototype._scrollActiveOptionIntoView=function(){var e=this._keyManager.activeItemIndex||0,t=p._countGroupLabelsBeforeOption(e,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=p._getOptionScrollPosition(e+t,this._getItemHeight(),this.panel.nativeElement.scrollTop,224)},t.prototype._getOptionIndex=function(e){return this.options.reduce(function(t,i,n){return void 0===t?e===i?n:void 0:t},void 0)},t.prototype._calculateOverlayPosition=function(){var e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,224),n=t*e,o=n-i,r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=p._countGroupLabelsBeforeOption(r,this.options,this.optionGroups);var s=i/2;this._scrollTop=this._calculateOverlayScroll(r,s,o),this._offsetY=this._calculateOverlayOffsetY(),this._checkOverlayWithinViewport(o)},t.prototype._calculateOverlayOffsetX=function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),n=this._isRtl(),o=this._selectionModel.selected[0]||this.options.first;e=o&&o.group?2:1,n||(e*=-1);var r=0-(t.left+e-(n?2:0)),s=t.right+e-i.width+(n?0:2);r>0?e+=r+8:s>0&&(e-=s+8),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()},t.prototype._calculateOverlayOffsetY=function(){return 0},t.prototype._checkOverlayWithinViewport=function(e){var t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,o=i.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*t,224),a=s-r-this._triggerRect.height;a>o?this._adjustPanelUp(a,o):r>n?this._adjustPanelDown(r,n,e):this._transformOrigin=this._getOriginBasedOnOption()},t.prototype._adjustPanelUp=function(e,t){var i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")},t.prototype._adjustPanelDown=function(e,t,i){var n=Math.round(e-t);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")},t.prototype._getOriginBasedOnOption=function(){var e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return"50% "+(Math.abs(this._offsetY)-t+e/2)+"px 0px"},t.prototype._getItemCount=function(){return this.options.length+this.optionGroups.length},t.prototype._getItemHeight=function(){return 32};var _;return y([c.ViewChild("trigger"),O("design:type",c.ElementRef)],t.prototype,"trigger",void 0),y([c.ViewChildren(h.McTag),O("design:type",c.QueryList)],t.prototype,"tags",void 0),y([c.ViewChild("panel"),O("design:type",c.ElementRef)],t.prototype,"panel",void 0),y([c.ViewChild(a.CdkConnectedOverlay),O("design:type",a.CdkConnectedOverlay)],t.prototype,"overlayDir",void 0),y([c.ContentChildren(p.McOption,{descendants:!0}),O("design:type",c.QueryList)],t.prototype,"options",void 0),y([c.ContentChildren(p.McOptgroup),O("design:type",c.QueryList)],t.prototype,"optionGroups",void 0),y([c.Input(),O("design:type",Object)],t.prototype,"panelClass",void 0),y([c.ContentChild(P),O("design:type",P)],t.prototype,"customTrigger",void 0),y([c.Input(),O("design:type",String),O("design:paramtypes",[String])],t.prototype,"placeholder",null),y([c.Input(),O("design:type",Boolean),O("design:paramtypes",[Boolean])],t.prototype,"required",null),y([c.Input(),O("design:type",Boolean),O("design:paramtypes",[Boolean])],t.prototype,"multiple",null),y([c.Input(),O("design:type",Function),O("design:paramtypes",[Function])],t.prototype,"compareWith",null),y([c.Input(),O("design:type",Object),O("design:paramtypes",[Object])],t.prototype,"value",null),y([c.Input(),O("design:type",p.ErrorStateMatcher)],t.prototype,"errorStateMatcher",void 0),y([c.Input(),O("design:type",Function)],t.prototype,"sortComparator",void 0),y([c.Input(),O("design:type",String),O("design:paramtypes",[String])],t.prototype,"id",null),y([c.Output(),O("design:type",c.EventEmitter)],t.prototype,"openedChange",void 0),y([c.Output("opened"),O("design:type",u.Observable)],t.prototype,"_openedStream",void 0),y([c.Output("closed"),O("design:type",u.Observable)],t.prototype,"_closedStream",void 0),y([c.Output(),O("design:type",c.EventEmitter)],t.prototype,"selectionChange",void 0),y([c.Output(),O("design:type",c.EventEmitter)],t.prototype,"valueChange",void 0),t=_=y([c.Component({selector:"mc-select",exportAs:"mcSelect",template:'<div cdk-overlay-origin class="mc-select__trigger" (click)="toggle()" [class.mc-select__trigger_multiple]="multiple" #origin="cdkOverlayOrigin" #trigger><div class="mc-select__matcher" [ngSwitch]="empty"><span class="mc-select__placeholder" *ngSwitchCase="true">{{ placeholder || \' \' }}</span> <span *ngSwitchCase="false" [ngSwitch]="!!customTrigger"><div *ngSwitchDefault [ngSwitch]="multiple" class="mc-select__match-container"><span *ngSwitchCase="false" class="mc-select__matcher-text">{{ triggerValue }}</span><div *ngSwitchCase="true" class="mc-select__match-list"><mc-tag *ngFor="let option of triggerValues">{{ option.viewValue || option.value }} <i mc-icon="mc-close-S_16" (click)="onRemoveMatcherItem(option, $event)"></i></mc-tag></div><div class="mc-select__match-hidden-text" [style.display]="hiddenItems > 0 ? \'block\' : \'none\'">...ещё {{ hiddenItems }}</div></div><ng-content select="mc-select-trigger" *ngSwitchCase="true"></ng-content></span></div><div class="mc-select__arrow-wrapper"><i class="mc-select__arrow mc mc-angle-L_16"></i></div></div><ng-template cdk-connected-overlay cdkConnectedOverlayLockPosition cdkConnectedOverlayHasBackdrop cdkConnectedOverlayBackdropClass="cdk-overlay-transparent-backdrop" [cdkConnectedOverlayScrollStrategy]="_scrollStrategy" [cdkConnectedOverlayOrigin]="origin" [cdkConnectedOverlayOpen]="panelOpen" [cdkConnectedOverlayPositions]="_positions" [cdkConnectedOverlayMinWidth]="_triggerRect?.width" [cdkConnectedOverlayWidth]="_triggerRect?.width" [cdkConnectedOverlayOffsetY]="_offsetY" (backdropClick)="close()" (attach)="_onAttached()" (detach)="close()"><div #panel class="mc-select__panel {{ _getPanelTheme() }}" [ngClass]="panelClass" (@transformPanel.done)="_panelDoneAnimatingStream.next($event.toState)" [style.transformOrigin]="_transformOrigin" [class.mc-select-panel-done-animcing]="_panelDoneAnimating" [style.font-size.px]="_triggerFontSize" (keydown)="_handleKeydown($event)"><div class="mc-select__content" [@fadeInContent]="\'showing\'" (@fadeInContent.done)="_onFadeInDone()"><ng-content></ng-content></div></div></ng-template>',styles:[".mc-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mc-divider.mc-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mc-divider.mc-divider-inset{margin-left:80px}[dir=rtl] .mc-divider.mc-divider-inset{margin-left:auto;margin-right:80px}.mc-select{box-sizing:border-box;display:inline-block;width:100%;outline:0}.mc-select.mc-disabled .mc-select__trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mc-select__trigger{display:inline-table;box-sizing:border-box;position:relative;height:30px;cursor:pointer;padding:3px 7px 3px 15px}.mc-select__trigger.mc-select__trigger_multiple{padding-left:7px}.mc-select__matcher{display:table-cell;vertical-align:middle;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mc-select__match-list{display:flex;flex-wrap:wrap;overflow:hidden;max-height:24px;margin:0;padding-left:0}.mc-select__match-list .mc-tag{margin-right:4px}.mc-select__match-container{display:flex;flex-direction:row;justify-content:space-between;width:100%;cursor:pointer}.mc-select__match-container .mc-select__match-hidden-text{flex:0 0 70px;align-self:center;padding:0 8px;text-align:right}.mc-select__match-item{display:flex;border:1px solid transparent;border-radius:3px;padding-left:7px;margin-right:4px;max-width:100%}.mc-select__arrow-wrapper{display:table-cell;vertical-align:middle}.mc-form-field-appearance-fill .mc-select__arrow-wrapper,.mc-form-field-appearance-standard .mc-select__arrow-wrapper{transform:translateY(-50%)}.mc-form-field-appearance-outline .mc-select__arrow-wrapper{transform:translateY(-25%)}.mc-select__panel{max-height:224px;min-width:100%;overflow:auto;border-width:1px;border-style:solid;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:4px 0}.mc-select__content{height:100%}.mc-select__panel .mc-optgroup-label,.mc-select__panel .mc-option{font-size:inherit;line-height:32px;height:32px}.mc-form-field-type-mc-select:not(.mc-form-field-disabled) .mc-form-field-flex{cursor:pointer}.mc-form-field-type-mc-select .mc-form-field-label{width:calc(100% - 18px)}"],inputs:["disabled","tabIndex"],encapsulation:c.ViewEncapsulation.None,changeDetection:c.ChangeDetectionStrategy.OnPush,host:{"[attr.id]":"id","[attr.tabindex]":"tabIndex",class:"mc-select","[class.mc-disabled]":"disabled","[class.mc-select-invalid]":"errorState","[class.mc-select-required]":"required","(keydown)":"_handleKeydown($event)","(focus)":"_onFocus()","(blur)":"_onBlur()","(window:resize)":"_calculateHiddenItems()"},animations:[M.transformPanel,M.fadeInContent],providers:[{provide:d.McFormFieldControl,useExisting:_},{provide:p.MC_OPTION_PARENT_COMPONENT,useExisting:_}]}),v(6,c.Optional()),v(7,c.Optional()),v(8,c.Optional()),v(9,c.Optional()),v(10,c.Self()),v(10,c.Optional()),v(11,c.Attribute("tabindex")),v(12,c.Inject(I)),O("design:paramtypes",[a.ViewportRuler,c.ChangeDetectorRef,c.NgZone,c.Renderer2,p.ErrorStateMatcher,c.ElementRef,n.Directionality,l.NgForm,l.FormGroupDirective,d.McFormField,l.NgControl,String,Object])],t)}(T),F=function(){function e(){}return e=y([c.NgModule({imports:[_.CommonModule,a.OverlayModule,p.McOptionModule,m.McIconModule,h.McTagModule],exports:[d.McFormFieldModule,A,P,p.McOptionModule,_.CommonModule],declarations:[A,P],providers:[E]})],e)}();e.ɵa18=M,e.McSelectModule=F,e.SELECT_PANEL_MAX_HEIGHT=224,e.SELECT_PANEL_PADDING_X=1,e.SELECT_PANEL_INDENT_PADDING_X=2,e.SELECT_ITEM_HEIGHT_EM=2,e.SELECT_PANEL_VIEWPORT_PADDING=8,e.MC_SELECT_SCROLL_STRATEGY=I,e.MC_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY=k,e.MC_SELECT_SCROLL_STRATEGY_PROVIDER=E,e.McSelectChange=R,e.McSelectBase=D,e._McSelectMixinBase=T,e.McSelectTrigger=P,e.McSelect=A,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-select.umd.min.js.map
