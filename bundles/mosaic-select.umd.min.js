/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@ptsecurity/cdk/a11y"),require("@ptsecurity/cdk/bidi"),require("@ptsecurity/cdk/coercion"),require("@ptsecurity/cdk/collections"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/cdk/overlay"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/form-field"),require("@ptsecurity/mosaic/input"),require("@ptsecurity/mosaic/tags"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@ptsecurity/mosaic/icon")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/select",["exports","@angular/core","@angular/forms","@ptsecurity/cdk/a11y","@ptsecurity/cdk/bidi","@ptsecurity/cdk/coercion","@ptsecurity/cdk/collections","@ptsecurity/cdk/keycodes","@ptsecurity/cdk/overlay","@ptsecurity/mosaic/core","@ptsecurity/mosaic/form-field","@ptsecurity/mosaic/input","@ptsecurity/mosaic/tags","rxjs","rxjs/operators","@angular/common","@ptsecurity/mosaic/icon"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.select={}),e.ng.core,e.ng.forms,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.cdk.keycodes,e.ng.cdk.overlay,e.ng.mosaic.core,e.ng.mosaic.formField,e.ng.mosaic.input,e.ng.mosaic.tags,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.mosaic.icon)}(this,function(e,t,i,n,o,r,s,c,a,l,p,h,u,d,g,m,f){"use strict";function y(e,t){function i(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},_=0,C=function(){function e(e,t){this.source=e,this.value=t}return e}(),O=function(){function e(e,t,i,n,o){this.elementRef=e,this.defaultErrorStateMatcher=t,this.parentForm=i,this.parentFormGroup=n,this.ngControl=o}return e}(),b=l.mixinTabIndex(l.mixinDisabled(l.mixinErrorState(O))),S=function(){function e(e){this.searchChangesSubscription=new d.Subscription,this.isSearchChanged=!1,e.canCleanerClearByEsc=!1}return e.prototype.focus=function(){this.input.focus()},e.prototype.reset=function(){this.input.ngControl.reset()},e.prototype.ngAfterContentInit=function(){var e=this;if(!this.input)throw Error("McSelectSearch does not work without mcInput");if(!this.input.ngControl)throw Error("McSelectSearch does not work without ngControl");this.searchChangesSubscription=this.input.ngControl.valueChanges.subscribe(function(){e.isSearchChanged=!0})},e.prototype.ngOnDestroy=function(){this.searchChangesSubscription.unsubscribe()},e.prototype.handleKeydown=function(e){e.keyCode===c.ESCAPE&&this.input.value&&(this.reset(),e.stopPropagation())},e.decorators=[{type:t.Directive,args:[{selector:"[mcSelectSearch]",exportAs:"mcSelectSearch",host:{"(keydown)":"handleKeydown($event)"}}]}],e.ctorParameters=function(){return[{type:p.McFormField}]},e.propDecorators={input:[{type:t.ContentChild,args:[h.McInput,{static:!1}]}]},e}(),w=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"mc-select-trigger"}]}],e}(),M=function(e){function h(i,n,o,r,s,c,a,l,p,h,u,m,f){var y=e.call(this,c,s,l,p,u)||this;return y._viewportRuler=i,y._changeDetectorRef=n,y._ngZone=o,y._renderer=r,y._dir=a,y._parentFormField=h,y.ngControl=u,y._scrollStrategyFactory=f,y.controlType="mc-select",y.hiddenItems=0,y.oneMoreText="...ещё",y.noOptionsText="Ничего не найдено",y.triggerFontSize=0,y.previousSelectionModelSelected=[],y.optionIds="",y.transformOrigin="top",y.panelDoneAnimating=!1,y.panelDoneAnimatingStream=new d.Subject,y.scrollStrategy=y._scrollStrategyFactory(),y.offsetY=0,y.positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}],y.optionSelectionChanges=d.defer(function(){return y.options?d.merge.apply(void 0,y.options.map(function(e){return e.onSelectionChange}).concat(y.selectionModel.selected.map(function(e){return e.onSelectionChange}))):y._ngZone.onStable.asObservable().pipe(g.take(1),g.switchMap(function(){return y.optionSelectionChanges}))}),y.openedChange=new t.EventEmitter,y.openedStream=y.openedChange.pipe(g.filter(function(e){return e}),g.map(function(){})),y.closedStream=y.openedChange.pipe(g.filter(function(e){return!e}),g.map(function(){})),y.selectionChange=new t.EventEmitter,y.valueChange=new t.EventEmitter,y._required=!1,y._multiple=!1,y._focused=!1,y._panelOpen=!1,y.scrollTop=0,y.uid="mc-select-"+_++,y.destroy=new d.Subject,y.onChange=function(){},y.onTouched=function(){},y._compareWith=function(e,t){return e===t},y.ngControl&&(y.ngControl.valueAccessor=y),y.tabIndex=parseInt(m)||0,y.id=y.id,y}return y(h,e),Object.defineProperty(h.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"required",{get:function(){return this._required},set:function(e){this._required=r.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this.selectionModel)throw l.getMcSelectDynamicMultipleError();this._multiple=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){if("function"!=typeof e)throw l.getMcSelectNonFunctionValueError();this._compareWith=e,this.selectionModel&&this.initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this._value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"focused",{get:function(){return this._focused||this._panelOpen},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"isEmptySearchResult",{get:function(){return this.search&&0===this.options.length&&!!this.search.input.value},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){var e=this;this.selectionModel=new s.SelectionModel(this.multiple),this.stateChanges.next(),this.panelDoneAnimatingStream.pipe(g.distinctUntilChanged(),g.takeUntil(this.destroy)).subscribe(function(){e.panelOpen?(e.scrollTop=0,e.openedChange.emit(!0)):(e.openedChange.emit(!1),e.panelDoneAnimating=!1,e.overlayDir.offsetX=0,e._changeDetectorRef.markForCheck())})},h.prototype.ngAfterContentInit=function(){var e=this;this.initKeyManager(),this.selectionModel.changed.pipe(g.takeUntil(this.destroy)).subscribe(function(e){e.added.forEach(function(e){return e.select()}),e.removed.forEach(function(e){return e.deselect()})}),this.options.changes.pipe(g.startWith(null),g.takeUntil(this.destroy)).subscribe(function(){e.resetOptions(),e.initializeSelection()})},h.prototype.ngAfterViewInit=function(){var e=this;this.tags.changes.subscribe(function(){setTimeout(function(){return e.calculateHiddenItems()},0)})},h.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},h.prototype.ngOnChanges=function(e){e.disabled&&this.stateChanges.next()},h.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete(),this.stateChanges.complete()},h.prototype.resetSearch=function(){this.search&&(this.search.reset(),this.search.isSearchChanged=!1)},h.prototype.toggle=function(){this.panelOpen?this.close():this.open()},h.prototype.open=function(){var e=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this.keyManager.withHorizontalOrientation(null),this.calculateOverlayPosition(),this.highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(g.take(1)).subscribe(function(){e.triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e.triggerFontSize+"px")}))},h.prototype.close=function(){this._panelOpen&&(this.resetSearch(),this._panelOpen=!1,this.keyManager.withHorizontalOrientation(this.isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this.onTouched())},h.prototype.writeValue=function(e){this.options&&this.setSelectionByValue(e)},h.prototype.registerOnChange=function(e){this.onChange=e},h.prototype.registerOnTouched=function(e){this.onTouched=e},h.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(h.prototype,"selected",{get:function(){return this.multiple?this.selectionModel.selected:this.selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"triggerValue",{get:function(){if(this.empty)return"";if(this._multiple){var e=this.selectionModel.selected.map(function(e){return e.viewValue});return this.isRtl()&&e.reverse(),e.join(", ")}return this.selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"triggerValues",{get:function(){if(this.empty)return[];if(this._multiple){var e=this.selectionModel.selected;return this.isRtl()&&e.reverse(),e}return[this.selectionModel.selected[0]]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"empty",{get:function(){return!this.selectionModel||this.selectionModel.isEmpty()},enumerable:!0,configurable:!0}),h.prototype.isRtl=function(){return!!this._dir&&"rtl"===this._dir.value},h.prototype.handleKeydown=function(e){this.disabled||(this.panelOpen?this.handleOpenKeydown(e):this.handleClosedKeydown(e))},h.prototype.onFadeInDone=function(){this.panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck(),this.search&&this._panelOpen&&this.search.focus()},h.prototype.onFocus=function(){this.disabled||(this._focused=!0,this.stateChanges.next())},h.prototype.onBlur=function(){this._focused=!1,this.disabled||this.panelOpen||(this.onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())},h.prototype.onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(g.take(1)).subscribe(function(){e._changeDetectorRef.detectChanges(),e.calculateOverlayOffsetX(),e.optionsContainer.nativeElement.scrollTop=e.scrollTop,e.updateScrollSize()})},h.prototype.getPanelTheme=function(){return this._parentFormField?"mc-"+this._parentFormField.color:""},h.prototype.focus=function(){this.elementRef.nativeElement.focus()},h.prototype.calculateOverlayScroll=function(e,t,i){var n=this.getItemHeight(),o=n*e,r=n/2,s=o-t+r;return Math.min(Math.max(0,s),i)},h.prototype.onContainerClick=function(){this.focus(),this.open()},h.prototype.onRemoveMatcherItem=function(e,t){t.stopPropagation(),e.deselect()},h.prototype.calculateHiddenItems=function(){if(!this.empty&&this.multiple){var e=0,t=this.getTotalItemsWidthInMatcher(),i=0;if(this.tags.forEach(function(t){t.nativeElement.offsetTop<t.nativeElement.offsetHeight&&(i+=t.nativeElement.getBoundingClientRect().width+4,e++)}),this.hiddenItems=this.selected.length-e,this.hiddenItems){var n=this.trigger.nativeElement.querySelector(".mc-select__match-hidden-text"),o=this.trigger.nativeElement.querySelector(".mc-select__match-list"),r=n.offsetTop<n.offsetHeight,s=o.getBoundingClientRect().width,c=s+86;if(r&&t<c&&(this.hiddenItems=0),i===s||i+86<s)return void this._changeDetectorRef.markForCheck();!r&&t+86>c&&this.hiddenItems++}this._changeDetectorRef.markForCheck()}},h.prototype.getHeightOfOptionsContainer=function(){return this.optionsContainer.nativeElement.getClientRects()[0].height},h.prototype.updateScrollSize=function(){this.options.first&&this.keyManager.withScrollSize(Math.floor(this.getHeightOfOptionsContainer()/this.options.first.getHeight()))},h.prototype.getTotalItemsWidthInMatcher=function(){var e=this.trigger.nativeElement.cloneNode(!0);e.querySelector(".mc-select__match-hidden-text").remove(),this._renderer.setStyle(e,"position","absolute"),this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(e,"top","-100%"),this._renderer.setStyle(e,"left","0"),this._renderer.appendChild(this.trigger.nativeElement,e);var t=0;return e.querySelectorAll("mc-tag").forEach(function(e){t+=e.getBoundingClientRect().width+4}),e.remove(),t},h.prototype.handleClosedKeydown=function(e){var t=e.keyCode,i=t===c.DOWN_ARROW||t===c.UP_ARROW||t===c.LEFT_ARROW||t===c.RIGHT_ARROW;t===c.ENTER||t===c.SPACE||(this.multiple||e.altKey)&&i?(e.preventDefault(),this.open()):this.multiple||this.keyManager.onKeydown(e)},h.prototype.handleOpenKeydown=function(e){var t=e.keyCode,i=t===c.DOWN_ARROW||t===c.UP_ARROW,n=this.keyManager;if(i&&e.altKey)e.preventDefault(),this.close();else if(t===c.HOME)e.preventDefault(),n.setFirstItemActive();else if(t===c.END)e.preventDefault(),n.setLastItemActive();else if(t===c.PAGE_UP)e.preventDefault(),n.setPreviousPageItemActive();else if(t===c.PAGE_DOWN)e.preventDefault(),n.setNextPageItemActive();else if(t!==c.ENTER&&t!==c.SPACE||!n.activeItem)if(this._multiple&&t===c.A&&e.ctrlKey){e.preventDefault();var o=this.options.some(function(e){return!e.selected});this.options.forEach(function(e){o&&!e.disabled?e.select():e.deselect()})}else{var r=n.activeItemIndex;n.onKeydown(e),this._multiple&&i&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==r&&n.activeItem.selectViaInteraction()}else e.preventDefault(),n.activeItem.selectViaInteraction()},h.prototype.initializeSelection=function(){var e=this;Promise.resolve().then(function(){e.setSelectionByValue(e.ngControl?e.ngControl.value:e._value)})},h.prototype.setSelectionByValue=function(e){var t=this;if(this.previousSelectionModelSelected=this.selectionModel.selected,this.multiple&&e){if(!Array.isArray(e))throw l.getMcSelectNonArrayValueError();this.selectionModel.clear(),e.forEach(function(e){return t.selectValue(e)}),this.sortValues()}else{this.selectionModel.clear();var i=this.selectValue(e);i&&this.keyManager.setActiveItem(i)}this._changeDetectorRef.markForCheck()},h.prototype.getCorrespondOption=function(e){var i=this;return this.options.toArray().concat(this.previousSelectionModelSelected).find(function(n){try{return null!=n.value&&i._compareWith(n.value,e)}catch(e){return t.isDevMode()&&console.warn(e),!1}})},h.prototype.selectValue=function(e){var t=this.getCorrespondOption(e);return t&&this.selectionModel.select(t),t},h.prototype.initKeyManager=function(){var e=this;this.keyManager=new n.ActiveDescendantKeyManager(this.options).withTypeAhead(200,this.search?-1:0).withVerticalOrientation().withHorizontalOrientation(this.isRtl()?"rtl":"ltr"),this.keyManager.tabOut.pipe(g.takeUntil(this.destroy)).subscribe(function(){e.focus(),e.close()}),this.keyManager.change.pipe(g.takeUntil(this.destroy)).subscribe(function(){e._panelOpen&&e.panel?e.scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e.keyManager.activeItem||e.keyManager.activeItem.selectViaInteraction()})},h.prototype.resetOptions=function(){var e=this,t=d.merge(this.options.changes,this.destroy);this.optionSelectionChanges.pipe(g.takeUntil(t)).subscribe(function(t){e.onSelect(t.source,t.isUserInput),e.search&&e.search.isSearchChanged&&(Promise.resolve().then(function(){return e.keyManager.setFirstItemActive()}),e.search.isSearchChanged=!1),t.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())}),d.merge.apply(void 0,this.options.map(function(e){return e.stateChanges})).pipe(g.takeUntil(t)).subscribe(function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()}),this.setOptionIds()},h.prototype.onSelect=function(e,t){var i=this.selectionModel.isSelected(e);null!=e.value||this._multiple?(e.selected?this.selectionModel.select(e):this.selectionModel.deselect(e),t&&this.keyManager.setActiveItem(e),this.multiple&&(this.sortValues(),t&&(this.search?this.search.focus():this.focus()))):(e.deselect(),this.selectionModel.clear(),this.propagateChanges(e.value)),i!==this.selectionModel.isSelected(e)&&this.propagateChanges(),this.stateChanges.next()},h.prototype.sortValues=function(){var e=this;if(this.multiple){var t=this.options.toArray();this.selectionModel.sort(function(i,n){return e.sortComparator?e.sortComparator(i,n,t):t.indexOf(i)-t.indexOf(n)}),this.stateChanges.next()}},h.prototype.propagateChanges=function(e){var t=null;t=this.multiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this.onChange(t),this.selectionChange.emit(new C(this,t)),this._changeDetectorRef.markForCheck()},h.prototype.setOptionIds=function(){this.optionIds=this.options.map(function(e){return e.id}).join(" ")},h.prototype.highlightCorrectOption=function(){this.keyManager&&(this.empty?this.keyManager.setFirstItemActive():this.keyManager.setActiveItem(this.selectionModel.selected[0]))},h.prototype.scrollActiveOptionIntoView=function(){var e=this.keyManager.activeItemIndex||0,t=l.countGroupLabelsBeforeOption(e,this.options,this.optionGroups);this.optionsContainer.nativeElement.scrollTop=l.getOptionScrollPosition(e+t,this.getItemHeight(),this.optionsContainer.nativeElement.scrollTop,l.SELECT_PANEL_MAX_HEIGHT)},h.prototype.getOptionIndex=function(e){return this.options.reduce(function(t,i,n){return void 0===t?e===i?n:void 0:t},void 0)},h.prototype.calculateOverlayPosition=function(){var e=this.getItemHeight(),t=this.getItemCount(),i=Math.min(t*e,l.SELECT_PANEL_MAX_HEIGHT),n=t*e,o=n-i,r=this.empty?0:this.getOptionIndex(this.selectionModel.selected[0]);r+=l.countGroupLabelsBeforeOption(r,this.options,this.optionGroups);var s=i/2;this.scrollTop=this.calculateOverlayScroll(r,s,o),this.offsetY=this.calculateOverlayOffsetY(),this.checkOverlayWithinViewport(o)},h.prototype.calculateOverlayOffsetX=function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),n=this.isRtl(),o=2*l.SELECT_PANEL_PADDING_X,r=this.selectionModel.selected[0]||this.options.first;e=r&&r.group?l.SELECT_PANEL_INDENT_PADDING_X:l.SELECT_PANEL_PADDING_X,n||(e*=-1);var s=0-(t.left+e-(n?o:0)),c=t.right+e-i.width+(n?0:o);s>0?e+=s+l.SELECT_PANEL_VIEWPORT_PADDING:c>0&&(e-=c+l.SELECT_PANEL_VIEWPORT_PADDING),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()},h.prototype.calculateOverlayOffsetY=function(){return 0},h.prototype.checkOverlayWithinViewport=function(e){var t=this.getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this.triggerRect.top-l.SELECT_PANEL_VIEWPORT_PADDING,o=i.height-this.triggerRect.bottom-l.SELECT_PANEL_VIEWPORT_PADDING,r=Math.abs(this.offsetY),s=Math.min(this.getItemCount()*t,l.SELECT_PANEL_MAX_HEIGHT),c=s-r-this.triggerRect.height;c>o?this.adjustPanelUp(c,o):r>n?this.adjustPanelDown(r,n,e):this.transformOrigin=this.getOriginBasedOnOption()},h.prototype.adjustPanelUp=function(e,t){var i=Math.round(e-t);this.scrollTop-=i,this.offsetY-=i,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop<=0&&(this.scrollTop=0,this.offsetY=0,this.transformOrigin="50% bottom 0px")},h.prototype.adjustPanelDown=function(e,t,i){var n=Math.round(e-t);if(this.scrollTop+=n,this.offsetY+=n,this.transformOrigin=this.getOriginBasedOnOption(),this.scrollTop>=i)return this.scrollTop=i,this.offsetY=0,void(this.transformOrigin="50% top 0px")},h.prototype.getOriginBasedOnOption=function(){var e=this.getItemHeight(),t=(e-this.triggerRect.height)/2;return"50% "+(Math.abs(this.offsetY)-t+e/2)+"px 0px"},h.prototype.getItemCount=function(){return this.options.length+this.optionGroups.length},h.prototype.getItemHeight=function(){return 32},h.decorators=[{type:t.Component,args:[{selector:"mc-select",exportAs:"mcSelect",template:'<div cdk-overlay-origin class="mc-select__trigger" (click)="toggle()" [class.mc-select__trigger_multiple]="multiple" #origin="cdkOverlayOrigin" #trigger><div class="mc-select__matcher" [ngSwitch]="empty"><span class="mc-select__placeholder" *ngSwitchCase="true">{{ placeholder || \' \' }}</span> <span *ngSwitchCase="false" [ngSwitch]="!!customTrigger"><div *ngSwitchDefault [ngSwitch]="multiple" class="mc-select__match-container"><span *ngSwitchCase="false" class="mc-select__matcher-text">{{ triggerValue }}</span><div *ngSwitchCase="true" class="mc-select__match-list"><mc-tag *ngFor="let option of triggerValues" [disabled]="disabled" [class.mc-error]="errorState">{{ option.viewValue || option.value }} <i mc-icon="mc-close-S_16" (click)="onRemoveMatcherItem(option, $event)"></i></mc-tag></div><div class="mc-select__match-hidden-text" [style.display]="hiddenItems > 0 ? \'block\' : \'none\'">{{ oneMoreText }} {{ hiddenItems }}</div></div><ng-content select="mc-select-trigger" *ngSwitchCase="true"></ng-content></span></div><div class="mc-select__arrow-wrapper"><i class="mc-select__arrow" mc-icon="mc-angle-down-L_16" color="second"></i></div></div><ng-template cdk-connected-overlay cdkConnectedOverlayLockPosition cdkConnectedOverlayHasBackdrop cdkConnectedOverlayBackdropClass="cdk-overlay-transparent-backdrop" [cdkConnectedOverlayScrollStrategy]="scrollStrategy" [cdkConnectedOverlayOrigin]="origin" [cdkConnectedOverlayOpen]="panelOpen" [cdkConnectedOverlayPositions]="positions" [cdkConnectedOverlayMinWidth]="triggerRect?.width" [cdkConnectedOverlayOffsetY]="offsetY" (backdropClick)="close()" (attach)="onAttached()" (detach)="close()"><div #panel class="mc-select__panel {{ getPanelTheme() }}" [ngClass]="panelClass" (@transformPanel.done)="panelDoneAnimatingStream.next($event.toState)" [style.transformOrigin]="transformOrigin" [class.mc-select-panel-done-animcing]="panelDoneAnimating" [style.font-size.px]="triggerFontSize" (keydown)="handleKeydown($event)"><div *ngIf="search" class="mc-select__search-container"><ng-content select="[mcSelectSearch]"></ng-content></div><div #optionsContainer class="mc-select__content" [@fadeInContent]="\'showing\'" (@fadeInContent.done)="onFadeInDone()"><div *ngIf="isEmptySearchResult" class="mc-select__no-options-message">{{noOptionsText}}</div><ng-content select="mc-option,mc-optgroup"></ng-content></div></div></ng-template>',styles:[".mc-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mc-divider.mc-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mc-divider.mc-divider-inset{margin-left:80px}[dir=rtl] .mc-divider.mc-divider-inset{margin-left:auto;margin-right:80px}.mc-select{box-sizing:border-box;display:inline-block;width:100%;outline:0}.mc-select.mc-disabled .mc-select__trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mc-select__no-options-message{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;position:relative;max-width:100%;height:32px;cursor:default;outline:0;padding:0 16px}.mc-select__trigger{display:flex;box-sizing:border-box;position:relative;height:30px;cursor:pointer;padding:3px 7px 3px 15px}.mc-select__trigger.mc-select__trigger_multiple{padding-left:7px}.mc-select__matcher{display:flex;align-items:center;width:100%;overflow:hidden;text-overflow:ellipsis;margin-top:-2px;white-space:nowrap}.mc-select__matcher>span{width:100%}.mc-select__match-list{display:flex;flex-wrap:wrap;overflow:hidden;max-height:26px;margin:0;padding-left:0}.mc-select__match-list .mc-tag{margin-right:4px}.mc-select__match-container{display:flex;flex-direction:row;justify-content:space-between;width:100%}.mc-select__match-container .mc-select__match-hidden-text{flex:0 0 70px;align-self:center;padding:0 8px;text-align:right}.mc-select__match-item{display:flex;border:1px solid transparent;border-radius:3px;padding-left:7px;margin-right:4px;max-width:100%}.mc-select__arrow-wrapper{display:table-cell;vertical-align:middle}.mc-form-field-appearance-fill .mc-select__arrow-wrapper,.mc-form-field-appearance-standard .mc-select__arrow-wrapper{transform:translateY(-50%)}.mc-form-field-appearance-outline .mc-select__arrow-wrapper{transform:translateY(-25%)}.mc-select__panel{min-width:100%;overflow:hidden;border-width:1px;border-style:solid;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:4px 0}.mc-select__content{max-height:224px;overflow:auto}.mc-select__panel .mc-optgroup-label,.mc-select__panel .mc-option{font-size:inherit;line-height:32px;height:32px}.mc-form-field-type-mc-select:not(.mc-disabled) .mc-form-field-flex{cursor:pointer}.mc-form-field-type-mc-select .mc-form-field-label{width:calc(100% - 18px)}"],inputs:["disabled","tabIndex"],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,host:{"[attr.id]":"id","[attr.tabindex]":"tabIndex",class:"mc-select","[class.mc-disabled]":"disabled","[class.mc-select-invalid]":"errorState","[class.mc-select-required]":"required","(keydown)":"handleKeydown($event)","(focus)":"onFocus()","(blur)":"onBlur()","(window:resize)":"calculateHiddenItems()"},animations:[l.mcSelectAnimations.transformPanel,l.mcSelectAnimations.fadeInContent],providers:[{provide:p.McFormFieldControl,useExisting:h},{provide:l.MC_OPTION_PARENT_COMPONENT,useExisting:h}]}]}],h.ctorParameters=function(){return[{type:a.ViewportRuler},{type:t.ChangeDetectorRef},{type:t.NgZone},{type:t.Renderer2},{type:l.ErrorStateMatcher},{type:t.ElementRef},{type:o.Directionality,decorators:[{type:t.Optional}]},{type:i.NgForm,decorators:[{type:t.Optional}]},{type:i.FormGroupDirective,decorators:[{type:t.Optional}]},{type:p.McFormField,decorators:[{type:t.Optional}]},{type:i.NgControl,decorators:[{type:t.Self},{type:t.Optional}]},{type:String,decorators:[{type:t.Attribute,args:["tabindex"]}]},{type:void 0,decorators:[{type:t.Inject,args:[l.MC_SELECT_SCROLL_STRATEGY]}]}]},h.propDecorators={trigger:[{type:t.ViewChild,args:["trigger",{static:!1}]}],panel:[{type:t.ViewChild,args:["panel",{static:!1}]}],optionsContainer:[{type:t.ViewChild,args:["optionsContainer",{static:!1}]}],overlayDir:[{type:t.ViewChild,args:[a.CdkConnectedOverlay,{static:!1}]}],tags:[{type:t.ViewChildren,args:[u.McTag]}],customTrigger:[{type:t.ContentChild,args:[w,{static:!1}]}],options:[{type:t.ContentChildren,args:[l.McOption,{descendants:!0}]}],optionGroups:[{type:t.ContentChildren,args:[l.McOptgroup]}],search:[{type:t.ContentChild,args:[S,{static:!1}]}],panelClass:[{type:t.Input}],errorStateMatcher:[{type:t.Input}],sortComparator:[{type:t.Input}],openedChange:[{type:t.Output}],openedStream:[{type:t.Output,args:["opened"]}],closedStream:[{type:t.Output,args:["closed"]}],selectionChange:[{type:t.Output}],valueChange:[{type:t.Output}],placeholder:[{type:t.Input}],required:[{type:t.Input}],multiple:[{type:t.Input}],compareWith:[{type:t.Input}],value:[{type:t.Input}],id:[{type:t.Input}]},h}(b),x=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[m.CommonModule,a.OverlayModule,l.McOptionModule,f.McIconModule,u.McTagsModule],exports:[p.McFormFieldModule,M,S,w,l.McOptionModule,m.CommonModule],declarations:[M,S,w],providers:[l.MC_SELECT_SCROLL_STRATEGY_PROVIDER]}]}],e}();e.McSelectModule=x,e.SELECT_ITEM_HEIGHT_EM=2,e.McSelectChange=C,e.McSelectBase=O,e.McSelectSearch=S,e.McSelectTrigger=w,e.McSelect=M,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-select.umd.min.js.map
