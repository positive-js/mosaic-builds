!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/mosaic/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/navbar",["exports","@angular/cdk/a11y","@angular/cdk/platform","@angular/common","@angular/core","@ptsecurity/mosaic/core","rxjs","rxjs/operators"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic.navbar={}),e.ng.cdk.a11y,e.ng.cdk.platform,e.ng.common,e.ng.core,e.ptsecurity.mosaic.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,a,r,i,o,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create;Object.create;var l="mc-navbar-collapsed-title",m=function(){};m.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-logo",host:{class:"mc-navbar-logo"}}]}];var p=function(){};p.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-brand",host:{class:"mc-navbar-brand"}}]}];var d=function(){};d.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-title",host:{class:"mc-navbar-title"}}]}];var u=function(e){this.elementRef=e};var h=i.mixinTabIndex(i.mixinDisabled(u)),b=function(e){function t(t,n){var a=e.call(this,t)||this;return a.elementRef=t,a._focusMonitor=n,a}return function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"collapsedTitle",{set:function(e){this.elementRef.nativeElement.setAttribute("computedTitle",encodeURI(e))},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.denyClickIfDisabled(),this._focusMonitor.monitor(this.elementRef.nativeElement,!0)},t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this.elementRef.nativeElement)},t.prototype.denyClickIfDisabled=function(){var e=this,t=this.elementRef.nativeElement.eventListeners("click");t.forEach((function(t){return e.elementRef.nativeElement.removeEventListener("click",t)})),this.elementRef.nativeElement.addEventListener("click",(function(t){e.elementRef.nativeElement.hasAttribute("disabled")&&t.stopImmediatePropagation()}),!0),t.forEach((function(t){return e.elementRef.nativeElement.addEventListener("click",t)}))},t}(h);b.decorators=[{type:r.Component,args:[{selector:"mc-navbar-item",template:"<ng-content></ng-content>",encapsulation:r.ViewEncapsulation.None,inputs:["disabled","tabIndex"],host:{class:"mc-navbar-item","[attr.tabindex]":"tabIndex","[attr.disabled]":"disabled || null"}}]}],b.ctorParameters=function(){return[{type:r.ElementRef},{type:t.FocusMonitor}]},b.propDecorators={collapsedTitle:[{type:r.Input}]};var v=function(){this.position="left"};v.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-container",host:{"[class.mc-navbar-left]":'this.position === "left"',"[class.mc-navbar-right]":'this.position !== "left"'}}]}],v.propDecorators={position:[{type:r.Input}]};var f=function(){function e(e,t){this.element=e,this.width=t,this.collapsed=!1}return e.prototype.processCollapsed=function(e){this.collapsed=e,this.updateCollapsedClass()},e.prototype.updateCollapsedClass=function(){this.collapsed?this.element.classList.add(l):this.element.classList.remove(l)},e}();var g=function(){function e(e,t,n){void 0===n&&(n=[]),this.element=e,this.width=t,this.itemsForCollapse=n}return Object.defineProperty(e.prototype,"canCollapse",{get:function(){return this.itemsForCollapse.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collapsedItemsWidth",{get:function(){return void 0!==this._collapsedItemsWidth||this.calculateAndCacheCollapsedItemsWidth(),this._collapsedItemsWidth},enumerable:!1,configurable:!0}),e.prototype.processCollapsed=function(e){this.itemsForCollapse.length>0&&this.updateTitle(e),this.itemsForCollapse.forEach((function(t){return t.processCollapsed(e)}))},e.prototype.calculateAndCacheCollapsedItemsWidth=function(){this._collapsedItemsWidth=this.itemsForCollapse.reduce((function(e,t){return e+t.width}),0)},e.prototype.getTitle=function(){var e=this.element.getAttribute("computedTitle");return e?decodeURI(e):this.itemsForCollapse.length>0?this.itemsForCollapse[0].element.innerText:""},e.prototype.updateTitle=function(e){e?this.element.setAttribute("title",this.getTitle()):this.element.removeAttribute("title")},e}();var y=function(){function e(e){this._elementRef=e,this.forceRecalculateItemsWidth=!1,this.resizeDebounceInterval=100,this.firstLevelElement="mc-navbar-container",this.secondLevelElements=["mc-navbar-item","mc-navbar-brand","mc-navbar-title"];var t=o.fromEvent(window,"resize").pipe(s.debounceTime(this.resizeDebounceInterval));this.resizeSubscription=t.subscribe(this.updateCollapsed.bind(this))}return Object.defineProperty(e.prototype,"maxAllowedWidth",{get:function(){return this._elementRef.nativeElement.querySelector("nav").getBoundingClientRect().width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemsWidths",{get:function(){return void 0===this._itemsWidths||this.forceRecalculateItemsWidth?(this.calculateAndCacheItemsWidth(),this._itemsWidths):this._itemsWidths},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalItemsWidth",{get:function(){return void 0===this.totalItemsWidths||this.forceRecalculateItemsWidth?(this.calculateAndCacheTotalItemsWidth(),this.totalItemsWidths):this.totalItemsWidths},enumerable:!1,configurable:!0}),e.prototype.updateCollapsed=function(){for(var e=this.totalItemsWidth-this.maxAllowedWidth,t=this.itemsWidths.length-1;t>=0;t--){var n=this.itemsWidths[t];n.canCollapse&&(n.processCollapsed(e>0),e-=n.collapsedItemsWidth)}},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){return e.updateCollapsed()}),0)},e.prototype.ngOnDestroy=function(){this.resizeSubscription.unsubscribe()},e.prototype.calculateAndCacheTotalItemsWidth=function(){this.totalItemsWidths=this.itemsWidths.reduce((function(e,t){return e+t.width}),0)},e.prototype.getOuterElementWidth=function(e){return e.getBoundingClientRect().width+parseInt(getComputedStyle(e).getPropertyValue("margin-right"))+parseInt(getComputedStyle(e).getPropertyValue("margin-left"))},e.prototype.calculateAndCacheItemsWidth=function(){var e=this,t=this.secondLevelElements.map((function(t){return e.firstLevelElement+">"+t})),n=Array.from(this._elementRef.nativeElement.querySelectorAll(t));this._itemsWidths=n.map((function(t){return new g(t,e.getOuterElementWidth(t),e.getItemsForCollapse(t))}))},e.prototype.getItemsForCollapse=function(e){return e.querySelector("[mc-icon],mc-navbar-logo,[mc-navbar-logo]")?Array.from(e.querySelectorAll("mc-navbar-title")).map((function(e){return new f(e,e.getBoundingClientRect().width)})):[]},e}();y.decorators=[{type:r.Component,args:[{selector:"mc-navbar",template:'\n        <nav class="mc-navbar">\n            <ng-content select="[mc-navbar-container], mc-navbar-container"></ng-content>\n        </nav>\n    ',encapsulation:r.ViewEncapsulation.None,styles:[".mc-navbar-left,.mc-navbar-right,mc-navbar-container{flex-shrink:0;height:100%}.mc-navbar,.mc-navbar-left,.mc-navbar-right,mc-navbar-container{align-items:center;display:flex;flex-direction:row;justify-content:space-between}.mc-navbar{height:var(--mc-navbar-size-height,48px);position:relative}.mc-navbar [mc-icon]+mc-navbar-title{margin-left:var(--mc-navbar-size-icon-margin-left,8px)}.mc-navbar [mc-icon]{min-height:16px;min-width:16px}.mc-navbar mc-navbar-title:not(.mc-navbar-collapsed-title)+[mc-icon]{margin-left:var(--mc-navbar-size-icon-margin-left,8px)}.mc-navbar-brand,.mc-navbar-item,.mc-navbar-title,mc-navbar-brand,mc-navbar-item,mc-navbar-item:first-child{align-items:center;display:flex;height:100%;padding-left:var(--mc-navbar-item-size-padding,16px);padding-right:var(--mc-navbar-item-size-padding,16px);position:relative}.mc-navbar-brand,mc-navbar-brand{margin-right:var(--mc-navbar-brand-size-margin-right,24px);padding-left:0;padding-right:var(--mc-navbar-brand-size-padding,12px)}.mc-navbar-brand .mc-navbar-title,mc-navbar-brand .mc-navbar-title{padding-left:var(--mc-navbar-brand-size-padding,12px);padding-right:0}.mc-navbar-title{white-space:nowrap}.mc-navbar-item:not([disabled]){cursor:pointer}.mc-navbar-item .mc-navbar-title,mc-navbar-brand{padding:0}mc-navbar-item.mc-progress:not([disabled]){cursor:pointer}.mc-navbar-item[disabled],mc-navbar-item[disabled] .mc-navbar-item{cursor:default}mc-navbar-title.mc-navbar-collapsed-title{display:none}"]}]}],y.ctorParameters=function(){return[{type:r.ElementRef}]};var C=function(){};C.decorators=[{type:r.NgModule,args:[{imports:[a.CommonModule,t.A11yModule,n.PlatformModule],exports:[y,v,d,b,p,m],declarations:[y,v,d,b,p,m]}]}],e.McNavbar=y,e.McNavbarBrand=p,e.McNavbarContainer=v,e.McNavbarItem=b,e.McNavbarItemBase=u,e.McNavbarLogo=m,e.McNavbarMixinBase=h,e.McNavbarModule=C,e.McNavbarTitle=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-navbar.umd.min.js.map