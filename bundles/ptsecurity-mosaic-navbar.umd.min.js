!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/mosaic/icon"),require("@angular/cdk/coercion"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/core"),require("rxjs"),require("rxjs/operators"),require("@angular/animations"),require("@ptsecurity/mosaic/design-tokens")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/navbar",["exports","@angular/cdk/a11y","@angular/cdk/platform","@angular/common","@angular/core","@ptsecurity/mosaic/icon","@angular/cdk/coercion","@ptsecurity/mosaic/button","@ptsecurity/mosaic/core","rxjs","rxjs/operators","@angular/animations","@ptsecurity/mosaic/design-tokens"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic.navbar={}),e.ng.cdk.a11y,e.ng.cdk.platform,e.ng.common,e.ng.core,e.ptsecurity.mosaic.icon,e.ng.cdk.coercion,e.ptsecurity.mosaic.button,e.ptsecurity.mosaic.core,e.rxjs,e.rxjs.operators,e.ng.animations,e.ptsecurity.mosaic["design-tokens"])}(this,(function(e,t,n,a,r,i,o,c,s,l,m,d,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var g=function(){this.hovered=new l.Subject};g.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-logo, [mc-navbar-logo]",host:{class:"mc-navbar-logo","(mouseenter)":"hovered.next(true)","(mouseleave)":"hovered.next(false)"}}]}];var h=function(){function e(e){this.elementRef=e,this.hovered=new l.Subject}return Object.defineProperty(e.prototype,"text",{get:function(){return this.elementRef.nativeElement.innerText},enumerable:!1,configurable:!0}),e.prototype.getOuterElementWidth=function(){var e=window.getComputedStyle(this.elementRef.nativeElement);return[e.width,e.marginLeft,e.marginRight].reduce((function(e,t){return e+parseInt(t)||0}),0)},e.prototype.ngAfterContentInit=function(){this.outerElementWidth=this.getOuterElementWidth()},e}();h.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-title, [mc-navbar-title]",host:{class:"mc-navbar-title","(mouseenter)":"hovered.next(true)","(mouseleave)":"hovered.next(false)"}}]}],h.ctorParameters=function(){return[{type:r.ElementRef}]};var f=function(){function e(){this.hovered=!1,this.destroyed=new l.Subject}return e.prototype.ngAfterContentInit=function(){var e=this;l.merge(this.logo.hovered,this.title.hovered).pipe(m.takeUntil(this.destroyed)).subscribe((function(t){return e.hovered=t}))},e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete()},e}();f.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-brand, [mc-navbar-brand]",host:{class:"mc-navbar-brand","[class.mc-hovered]":"hovered"}}]}],f.propDecorators={logo:[{type:r.ContentChild,args:[g]}],title:[{type:r.ContentChild,args:[h]}]};var y=function(){};y.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-divider",host:{class:"mc-navbar-divider"}}]}];var x=function(){function e(e){this.elementRef=e}return e.prototype.getOuterElementWidth=function(){var e=window.getComputedStyle(this.elementRef.nativeElement);return[e.width,e.marginLeft,e.marginRight].reduce((function(e,t){return e+parseInt(t)}),0)},e}();x.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-item, [mc-navbar-item], mc-navbar-divider, mc-navbar-brand, [mc-navbar-brand]",host:{"[class.mc-vertical]":"vertical","[class.mc-horizontal]":"horizontal","[class.mc-opened]":"vertical && !closed","[class.mc-closed]":"vertical && closed"}}]}],x.ctorParameters=function(){return[{type:r.ElementRef}]},x.propDecorators={button:[{type:r.ContentChild,args:[c.McButtonCssStyler]}]};var I=s.mixinDisabled(x),C=function(e){function t(t,n){var a=e.call(this,n)||this;return a.focusMonitor=t,a.elementRef=n,a._collapsable=!0,a.collapsed=!1,a._collapsedTitle=null,a._tabIndex=0,a}return b(t,e),Object.defineProperty(t.prototype,"collapsable",{get:function(){return this._collapsable},set:function(e){this._collapsable=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedTitle",{get:function(){return this.collapsed?this._collapsedTitle||this.title.text:null},set:function(e){this._collapsedTitle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return this.disabled||this.button?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?o.coerceNumberProperty(e):0},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.focusMonitor.stopMonitoring(this.elementRef)},t.prototype.ngAfterContentInit=function(){this.button||this.focusMonitor.monitor(this.elementRef,!0)},t.prototype.getTitleWidth=function(){return this.title.outerElementWidth},t}(I);C.decorators=[{type:r.Component,args:[{selector:"mc-navbar-item, [mc-navbar-item]",exportAs:"mcNavbarItem",template:"<ng-content></ng-content>",host:{class:"mc-navbar-item","[class.mc-navbar-item_collapsed]":"collapsed","[class.mc-navbar-item_button]":"button","[attr.title]":"collapsedTitle","[attr.tabindex]":"tabIndex","[attr.disabled]":"disabled || null"},inputs:["disabled"],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,styles:[".mc-navbar-title{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mc-navbar-item{position:relative;display:flex;align-items:center;height:var(--mc-navbar-item-size-height,48px);padding-left:var(--mc-navbar-item-size-padding,16px);padding-right:var(--mc-navbar-item-size-padding,16px)}.mc-navbar-item .mc-icon{min-width:16px;min-height:16px}.mc-navbar-item.mc-vertical .mc-navbar-title{padding-left:26px}.mc-navbar-item.mc-vertical .mc-icon+.mc-navbar-title,.mc-navbar-item.mc-vertical .mc-navbar-title+.mc-icon{padding-left:var(--mc-vertical-navbar-size-icon-margin,10px)}.mc-navbar-item.mc-vertical .mc-badge{position:absolute;display:flex;align-items:center;justify-content:center}.mc-navbar-item.mc-vertical.mc-opened .mc-badge{right:16px;height:24px;padding-right:7px;padding-left:7px}.mc-navbar-item.mc-vertical.mc-closed .mc-badge{top:8px;right:8px;height:16px;padding-right:4px;padding-left:4px}.mc-navbar-item.mc-vertical.mc-closed .mc-navbar-title{display:none}.mc-navbar-item.mc-vertical.mc-closed.mc-navbar-item_button{padding-left:8px;padding-right:8px}.mc-navbar-item.mc-horizontal .mc-icon+.mc-navbar-title,.mc-navbar-item.mc-horizontal .mc-navbar-title+.mc-icon{padding-left:var(--mc-navbar-size-icon-margin,4px)}.mc-navbar-item.mc-horizontal.mc-navbar-item_collapsed .mc-navbar-title{display:none}.mc-navbar-item.mc-navbar-item_button .mc-icon-button{flex:1}.mc-navbar-item.mc-navbar-item_button .mc-icon-button .mc-button-wrapper{justify-content:center}.mc-navbar-item.mc-navbar-item_button .mc-icon-button .mc-button-wrapper .mc-icon.mc-icon_left{margin-left:unset}.mc-navbar-item.mc-navbar-item_button .mc-icon-button .mc-button-wrapper .mc-icon.mc-icon_right{margin-right:unset}a.mc-navbar-item,a.mc-navbar-title{text-decoration:none}",".mc-navbar-logo{display:flex}.mc-navbar-brand{position:relative;display:flex;align-items:center}.mc-navbar-brand .mc-navbar-title{cursor:pointer}a.mc-navbar-brand{text-decoration:none}.mc-navbar-brand.mc-horizontal{height:var(--mc-navbar-item-size-height,48px);padding-right:var(--mc-navbar-brand-size-margin-right,24px)}.mc-navbar-brand.mc-horizontal .mc-navbar-title{padding-left:var(--mc-navbar-brand-size-padding,12px);padding-right:0}.mc-navbar-brand.mc-vertical{flex-direction:column}.mc-navbar-brand.mc-vertical .mc-navbar-logo{flex-direction:column;height:var(--mc-navbar-item-size-height,48px)}.mc-navbar-brand.mc-vertical .mc-navbar-title{display:flex;align-items:center;height:var(--mc-navbar-item-size-height,48px);padding-left:0}.mc-navbar-brand.mc-vertical.mc-opened{align-items:unset}.mc-navbar-brand.mc-vertical.mc-opened .mc-navbar-item{position:absolute;top:0;right:0}.mc-navbar-brand.mc-vertical.mc-opened .mc-navbar-logo{padding-left:16px;justify-content:flex-end}.mc-navbar-brand.mc-vertical.mc-opened .mc-navbar-title{padding-left:16px}.mc-navbar-brand.mc-vertical.mc-closed{padding:0}.mc-navbar-brand.mc-vertical.mc-closed .mc-navbar-logo{align-items:center;justify-content:center;width:48px}.mc-navbar-brand.mc-vertical.mc-closed .mc-navbar-title{display:none}",".mc-navbar-divider{display:block}.mc-navbar-divider.mc-vertical{height:1px;margin:8px 16px}.mc-navbar-divider.mc-vertical.mc-closed{margin-right:10px;margin-left:10px}.mc-navbar-divider.mc-horizontal{width:1px;height:28px;margin-left:8px;margin-right:8px}"]}]}],C.ctorParameters=function(){return[{type:t.FocusMonitor},{type:r.ElementRef}]},C.propDecorators={button:[{type:r.ContentChild,args:[c.McButtonCssStyler]}],title:[{type:r.ContentChild,args:[h]}],icon:[{type:r.ContentChild,args:[i.McIcon]}],collapsable:[{type:r.Input}],collapsed:[{type:r.Input}],collapsedTitle:[{type:r.Input}]};var w=function(){};w.decorators=[{type:r.Directive,args:[{selector:"mc-navbar-container",host:{class:"mc-navbar-container"}}]}];var M=function(){function e(e){var t=this;this.elementRef=e,this.resizeStream=new l.Subject,this.resizeDebounceInterval=100,this.updateCollapsed=function(){var e=t.totalItemsWidth-t.width;e>0?t.collapseItems(e):t.unCollapseItems(e)},this.setItemsState=function(){Promise.resolve().then((function(){var e;return null===(e=t.navbarBaseItems)||void 0===e?void 0:e.forEach((function(e){return e.horizontal=!0}))}))},this.resizeSubscription=this.resizeStream.pipe(m.debounceTime(this.resizeDebounceInterval)).subscribe(this.updateCollapsed)}return Object.defineProperty(e.prototype,"width",{get:function(){return this.elementRef.nativeElement.getBoundingClientRect().width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalItemsWidth",{get:function(){return this.navbarBaseItems.reduce((function(e,t){return e+t.getOuterElementWidth()}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collapsableItems",{get:function(){return this.navbarItems.toArray().filter((function(e){return e.icon&&e.title&&e.collapsable})).reverse()},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.setItemsState(),this.navbarBaseItems.changes.subscribe(this.setItemsState)},e.prototype.ngAfterViewInit=function(){setTimeout(this.updateCollapsed)},e.prototype.ngOnDestroy=function(){this.resizeSubscription.unsubscribe()},e.prototype.collapseItems=function(e){var t,n,a=e,r=this.collapsableItems.filter((function(e){return!e.collapsed}));try{for(var i=v(r),o=i.next();!o.done;o=i.next()){var c=o.value;if(c.collapsed=!0,(a-=c.getTitleWidth())<0)break}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.unCollapseItems=function(e){var t=e;this.collapsableItems.filter((function(e){return e.collapsed})).forEach((function(e){t+e.getTitleWidth()<0&&(e.collapsed=!1,t+=e.getTitleWidth())}))},e}();function _(){return d.trigger("toggle",[d.state("0",d.style({width:"var(--mc-vertical-navbar-size-states-closed-width, "+p.VerticalNavbarSizeStatesClosedWidth+")"})),d.state("1",d.style({width:"var(--mc-vertical-navbar-size-states-opened-width, "+p.VerticalNavbarSizeStatesOpenedWidth+")"})),d.transition("0 <=> 1",d.animate("200ms cubic-bezier(0, 1, 0.5, 1)"))])}M.decorators=[{type:r.Component,args:[{selector:"mc-navbar",template:'<ng-content select="[mc-navbar-container], mc-navbar-container"></ng-content>',host:{class:"mc-navbar","(window:resize)":"resizeStream.next($event)"},changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,styles:[".mc-navbar{position:relative}.mc-navbar,.mc-navbar-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.mc-navbar-container{flex-shrink:0}"]}]}],M.ctorParameters=function(){return[{type:r.ElementRef}]},M.propDecorators={navbarBaseItems:[{type:r.ContentChildren,args:[x,{descendants:!0}]}],navbarItems:[{type:r.ContentChildren,args:[C,{descendants:!0}]}]};var z=function(){function e(){var e=this;this._expanded=!1,this.setItemsState=function(){Promise.resolve().then((function(){var t;return null===(t=e.navbarBaseItems)||void 0===t?void 0:t.forEach((function(e){return e.vertical=!0}))}))}}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this._expanded},set:function(e){this._expanded=o.coerceBooleanProperty(e),this.setClosedStateForItems(e)},enumerable:!1,configurable:!0}),e.prototype.toggle=function(){this.expanded=!this.expanded},e.prototype.ngAfterContentInit=function(){this.setItemsState(),this.setClosedStateForItems(this.expanded),this.navbarBaseItems.changes.subscribe(this.setItemsState)},e.prototype.setClosedStateForItems=function(e){var t;null===(t=this.navbarBaseItems)||void 0===t||t.forEach((function(t){t.closed=!e,setTimeout((function(){var e;return null===(e=t.button)||void 0===e?void 0:e.updateClassModifierForIcons()}))}))},e}();z.decorators=[{type:r.Component,args:[{selector:"mc-vertical-navbar",exportAs:"McVerticalNavbar",template:'\n        <ng-content select="[mc-navbar-container], mc-navbar-container"></ng-content>\n        <ng-content select="[mc-navbar-toggle], mc-navbar-toggle"></ng-content>\n    ',host:{class:"mc-vertical-navbar","[class.mc-closed]":"!expanded","[class.mc-opened]":"expanded","[@toggle]":"expanded"},animations:[_()],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,styles:[".mc-vertical-navbar{display:flex;flex-direction:column}.mc-vertical-navbar .mc-navbar-container{flex-direction:column;align-items:unset}.mc-vertical-navbar.mc-opened{width:var(--mc-vertical-navbar-size-states-opened-width,240px)}.mc-vertical-navbar.mc-closed{width:var(--mc-vertical-navbar-size-states-closed-width,48px)}"]}]}],z.propDecorators={expanded:[{type:r.Input}],navbarBaseItems:[{type:r.ContentChildren,args:[x,{descendants:!0}]}]};var S=function(e){this._elementRef=e},j=s.mixinTabIndex(s.mixinDisabled(S)),O=function(e){function t(t,n,a){var r=e.call(this,a)||this;return r.mcNavbar=t,r.focusMonitor=n,r.elementRef=a,r}return b(t,e),t.prototype.ngOnDestroy=function(){this.focusMonitor.stopMonitoring(this.elementRef.nativeElement)},t.prototype.ngAfterContentInit=function(){this.focusMonitor.monitor(this.elementRef.nativeElement,!0)},t}(j);O.decorators=[{type:r.Component,args:[{selector:"mc-navbar-toggle",template:'\n        <i mc-icon\n           [class.mc-angle-left-M_16]="mcNavbar.expanded"\n           [class.mc-angle-right-M_16]="!mcNavbar.expanded"\n           *ngIf="!customIcon">\n        </i>\n\n        <ng-content select="[mc-icon]"></ng-content>\n        <ng-content select="mc-navbar-title" *ngIf="mcNavbar.expanded"></ng-content>\n    ',host:{class:"mc-navbar-item mc-navbar-toggle mc-vertical","[attr.tabindex]":"tabIndex","[attr.disabled]":"disabled || null"},inputs:["tabIndex"],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None,styles:[".mc-navbar{position:relative}.mc-navbar,.mc-navbar-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.mc-navbar-container{flex-shrink:0}"]}]}],O.ctorParameters=function(){return[{type:z},{type:t.FocusMonitor},{type:r.ElementRef}]},O.propDecorators={customIcon:[{type:r.ContentChild,args:[i.McIcon]}]};var D=function(){};D.decorators=[{type:r.NgModule,args:[{imports:[a.CommonModule,t.A11yModule,n.PlatformModule,i.McIconModule],exports:[M,w,h,C,f,g,O,z,y,x],declarations:[M,w,h,C,f,g,O,z,y,x]}]}],e.McNavbar=M,e.McNavbarBrand=f,e.McNavbarContainer=w,e.McNavbarDivider=y,e.McNavbarItem=C,e.McNavbarItemBase=x,e.McNavbarLogo=g,e.McNavbarMixinBase=I,e.McNavbarModule=D,e.McNavbarTitle=h,e.McNavbarToggle=O,e.McNavbarToggleBase=S,e.McNavbarToggleMixinBase=j,e.McVerticalNavbar=z,e.ɵa=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-navbar.umd.min.js.map