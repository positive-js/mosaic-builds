!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/cdk/keycodes"),require("rxjs"),require("@angular/cdk/a11y"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/icon"),require("@angular/cdk/portal"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/modal",["exports","@angular/cdk/overlay","@angular/common","@angular/core","@ptsecurity/cdk/keycodes","rxjs","@angular/cdk/a11y","@ptsecurity/mosaic/button","@ptsecurity/mosaic/icon","@angular/cdk/portal","rxjs/operators"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).ptsecurity=t.ptsecurity||{},t.ptsecurity.mosaic=t.ptsecurity.mosaic||{},t.ptsecurity.mosaic.modal={}),t.ng.cdk.overlay,t.ng.common,t.ng.core,t.keycodes,t.rxjs,t.ng.cdk.a11y,t.ptsecurity.mosaic.button,t.ptsecurity.mosaic.icon,t.ng.cdk.portal,t.rxjs.operators)}(this,(function(t,e,n,o,i,r,c,a,s,l,m){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};Object.create;function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var d=function(){function t(t){this.parentService=t,this.rootOpenModals=this.parentService?null:[],this.rootAfterAllClose=this.parentService?null:new r.Subject,this.rootRegisteredMetaMap=this.parentService?null:new Map}return Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.parentService?this.parentService.afterAllClose:this.rootAfterAllClose},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openModals",{get:function(){return this.parentService?this.parentService.openModals:this.rootOpenModals},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"registeredMetaMap",{get:function(){return this.parentService?this.parentService.registeredMetaMap:this.rootRegisteredMetaMap},enumerable:!1,configurable:!0}),t.prototype.registerModal=function(t){var e=this;if(!this.hasRegistered(t)){var n=t.afterOpen.subscribe((function(){return e.openModals.push(t)})),o=t.afterClose.subscribe((function(){return e.removeOpenModal(t)}));this.registeredMetaMap.set(t,{modalRef:t,afterOpenSubscription:n,afterCloseSubscription:o})}},t.prototype.hasRegistered=function(t){return this.registeredMetaMap.has(t)},t.prototype.closeAll=function(){for(var t=this.openModals.length;t--;)this.openModals[t].close()},t.prototype.removeOpenModal=function(t){var e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this.afterAllClose.next())},t}();d.decorators=[{type:o.Injectable}],d.ctorParameters=function(){return[{type:d,decorators:[{type:o.Optional},{type:o.SkipSelf}]}]};var f=function(){};var y=function(){function t(t){this.document=t,this.lastPosition={x:-1,y:-1},this.listenDocumentClick()}return t.prototype.getLastClickPosition=function(){return this.lastPosition},t.prototype.listenDocumentClick=function(){var t=this;this.document.addEventListener("click",(function(e){t.lastPosition={x:e.clientX,y:e.clientY}}))},t}();var h=new y(document),g=function(t){function n(e,n,i,r,c,a,s,l){var m=t.call(this)||this;return m.overlay=e,m.renderer=n,m.cfr=i,m.elementRef=r,m.viewContainer=c,m.modalControl=a,m.changeDetector=s,m.document=l,m.mcModalType="default",m._mcVisible=!1,m.mcVisibleChange=new o.EventEmitter,m.mcZIndex=1e3,m.mcWidth=480,m.mcCloseByESC=!0,m._mcClosable=!0,m._mcMask=!0,m._mcMaskClosable=!1,m.mcAfterOpen=new o.EventEmitter,m.mcAfterClose=new o.EventEmitter,m.mcOkType="primary",m._mcOkLoading=!1,m.mcOnOk=new o.EventEmitter,m._mcCancelLoading=!1,m.mcOnCancel=new o.EventEmitter,m.transformOrigin="0px 0px 0px",m.mcGetContainer=function(){return m.overlay.create()},m}return function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,t),Object.defineProperty(n.prototype,"mcVisible",{get:function(){return this._mcVisible},set:function(t){this._mcVisible=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mcClosable",{get:function(){return this._mcClosable},set:function(t){this._mcClosable=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mcMask",{get:function(){return this._mcMask},set:function(t){this._mcMask=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mcMaskClosable",{get:function(){return this._mcMaskClosable},set:function(t){this._mcMaskClosable=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mcOkLoading",{get:function(){return this._mcOkLoading},set:function(t){this._mcOkLoading=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mcCancelLoading",{get:function(){return this._mcCancelLoading},set:function(t){this._mcCancelLoading=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"afterOpen",{get:function(){return this.mcAfterOpen.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"afterClose",{get:function(){return this.mcAfterClose.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"okText",{get:function(){return this.mcOkText},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cancelText",{get:function(){return this.mcCancelText},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hidden",{get:function(){return!this.mcVisible&&!this.animationState},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){this.isComponent(this.mcContent)&&this.createDynamicComponent(this.mcContent),this.isModalButtons(this.mcFooter)&&(this.mcFooter=this.formatModalButtons(this.mcFooter)),this.isComponent(this.mcComponent)&&this.createDynamicComponent(this.mcComponent),this.container="function"==typeof this.mcGetContainer?this.mcGetContainer():this.mcGetContainer,this.container instanceof HTMLElement?this.container.appendChild(this.elementRef.nativeElement):this.container instanceof e.OverlayRef&&this.container.overlayElement.appendChild(this.elementRef.nativeElement),this.modalControl.registerModal(this)},n.prototype.ngOnChanges=function(t){t.mcVisible&&this.handleVisibleStateChange(this.mcVisible,!t.mcVisible.firstChange)},n.prototype.ngAfterViewInit=function(){var t,e;this.contentComponentRef&&this.bodyContainer.insert(this.contentComponentRef.hostView);try{for(var n=u(this.autoFocusedButtons.toArray()),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.nativeElement.autofocus){i.nativeElement.focus();break}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},n.prototype.ngOnDestroy=function(){this.container instanceof e.OverlayRef&&this.container.dispose()},n.prototype.open=function(){this.changeVisibleFromInside(!0)},n.prototype.close=function(t){this.changeVisibleFromInside(!1,t)},n.prototype.destroy=function(t){this.close(t)},n.prototype.markForCheck=function(){this.changeDetector.markForCheck()},n.prototype.triggerOk=function(){this.onClickOkCancel("ok")},n.prototype.triggerCancel=function(){this.onClickOkCancel("cancel")},n.prototype.getInstance=function(){return this},n.prototype.getContentComponentRef=function(){return this.contentComponentRef},n.prototype.getContentComponent=function(){return this.contentComponentRef&&this.contentComponentRef.instance},n.prototype.getElement=function(){return this.elementRef&&this.elementRef.nativeElement},n.prototype.onClickMask=function(t){this.mcMask&&this.mcMaskClosable&&t.target.classList.contains("mc-modal-wrap")&&this.mcVisible&&this.onClickOkCancel("cancel")},n.prototype.isModalType=function(t){return this.mcModalType===t},n.prototype.onKeyDown=function(t){t.keyCode===i.ESCAPE&&this.container&&this.container instanceof e.OverlayRef&&(this.close(),t.preventDefault())},n.prototype.onClickCloseBtn=function(){this.mcVisible&&this.onClickOkCancel("cancel")},n.prototype.onClickOkCancel=function(t){var e=this,n={ok:this.mcOnOk,cancel:this.mcOnCancel}[t],i={ok:"mcOkLoading",cancel:"mcCancelLoading"}[t];if(n instanceof o.EventEmitter)n.emit(this.getContentComponent());else if("function"==typeof n){var r=n(this.getContentComponent()),c=function(t){return!1!==t&&e.close(t)};if(C(r)){this[i]=!0;var a=function(t){e[i]=!1,c(t)};r.then(a).catch(a)}else c(r)}},n.prototype.isNonEmptyString=function(t){return"string"==typeof t&&""!==t},n.prototype.isTemplateRef=function(t){return t instanceof o.TemplateRef},n.prototype.isComponent=function(t){return t instanceof o.Type},n.prototype.isModalButtons=function(t){return Array.isArray(t)&&t.length>0},n.prototype.getButtonCallableProp=function(t,e){var n=t[e],o=[];return this.contentComponentRef&&o.push(this.contentComponentRef.instance),"function"==typeof n?n.apply(t,o):n},n.prototype.onButtonClick=function(t){var e=this.getButtonCallableProp(t,"onClick");C(e)&&(t.loading=!0,e.then((function(){return t.loading=!1})).catch((function(){return t.loading=!1})))},n.prototype.handleVisibleStateChange=function(t,e,n){var o=this;return void 0===e&&(e=!0),t&&this.changeBodyOverflow(1),Promise.resolve(e&&this.animateTo(t)).then((function(){t?o.mcAfterOpen.emit():(o.mcAfterClose.emit(n),o.changeBodyOverflow())}))},n.prototype.changeVisibleFromInside=function(t,e){return this.mcVisible!==t?(this.mcVisible=t,this.mcVisibleChange.emit(t),this.handleVisibleStateChange(t,!0,e)):Promise.resolve()},n.prototype.changeAnimationState=function(t){var e,n;this.animationState=t,t?(this.maskAnimationClassMap=((e={})["fade-"+t]=!0,e["fade-"+t+"-active"]=!0,e),this.modalAnimationClassMap=((n={})["zoom-"+t]=!0,n["zoom-"+t+"-active"]=!0,n)):this.maskAnimationClassMap=this.modalAnimationClassMap=null,this.contentComponentRef?this.contentComponentRef.changeDetectorRef.markForCheck():this.changeDetector.markForCheck()},n.prototype.animateTo=function(t){var e=this;return t&&window.setTimeout((function(){return e.updateTransformOrigin()})),this.changeAnimationState(t?"enter":"leave"),new Promise((function(t){return window.setTimeout((function(){e.changeAnimationState(null),t()}),200)}))},n.prototype.formatModalButtons=function(t){return t.map((function(t){return Object.assign({type:"default",size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)}))},n.prototype.createDynamicComponent=function(t){var e=this.cfr.resolveComponentFactory(t),n=o.Injector.create({providers:[{provide:f,useValue:this}],parent:this.viewContainer.injector});this.contentComponentRef=e.create(n),this.mcComponentParams&&Object.assign(this.contentComponentRef.instance,this.mcComponentParams),this.contentComponentRef.changeDetectorRef.detectChanges()},n.prototype.updateTransformOrigin=function(){var t=this.modalContainer.nativeElement,e=h.getLastClickPosition();e&&(this.transformOrigin=e.x-t.offsetLeft+"px "+(e.y-t.offsetTop)+"px 0px")},n.prototype.changeBodyOverflow=function(t){void 0===t&&(t=0),this.modalControl.openModals.length+t>0?this.renderer.setStyle(this.document.body,"overflow","hidden"):this.renderer.removeStyle(this.document.body,"overflow")},n}(f);function C(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then&&"function"==typeof t.catch}g.decorators=[{type:o.Component,args:[{selector:"mc-modal",template:'\x3c!-- Compatible: the <ng-content> can appear only once --\x3e\n<ng-template #tplOriginContent>\n    <ng-content></ng-content>\n</ng-template>\n\n<div>\n    <div *ngIf="mcMask"\n         class="mc-modal-mask"\n         [ngClass]="maskAnimationClassMap"\n         [class.mc-modal-mask-hidden]="hidden"\n         [ngStyle]="mcMaskStyle"\n         [style.zIndex]="mcZIndex"\n    ></div>\n    <div\n        (mousedown)="onClickMask($event)"\n        class="mc-modal-wrap {{ mcWrapClassName }}"\n        [style.zIndex]="mcZIndex"\n        [style.display]="hidden ? \'none\' : \'\'"\n        tabindex="-1"\n        role="dialog"\n    >\n        <div #modalContainer\n             class="mc-modal {{ mcClassName }}"\n             [ngClass]="modalAnimationClassMap"\n             [ngStyle]="mcStyle"\n             [style.width]="mcWidth | toCssUnit"\n             [style.transform-origin]="transformOrigin"\n             role="document"\n        >\n            <div class="mc-modal-content" cdkTrapFocus>\n                <button *ngIf="mcClosable"\n                        mc-button\n                        (click)="onClickCloseBtn()"\n                        class="mc-modal-close mc-button_transparent"\n                        aria-label="Close">\n                    <i mc-icon="mc-close-L_16" class="mc-icon mc-icon_light" color="second"></i>\n                </button>\n                <ng-container [ngSwitch]="true">\n                    <ng-container *ngSwitchCase="isModalType(\'default\')"\n                                  [ngTemplateOutlet]="tplContentDefault"></ng-container>\n                    <ng-container *ngSwitchCase="isModalType(\'confirm\')"\n                                  [ngTemplateOutlet]="tplContentConfirm"></ng-container>\n                    <ng-container *ngSwitchCase="isModalType(\'custom\')"\n                                  [ngTemplateOutlet]="tplContentCustom"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-template #tplContentCustom>\n    <ng-container #bodyContainer></ng-container>\n</ng-template>\n\n\n\x3c!-- [Predefined] Default Modal Content --\x3e\n<ng-template #tplContentDefault>\n    <div *ngIf="mcTitle" class="mc-modal-header">\n        <div class="mc-modal-title">\n            <ng-container [ngSwitch]="true">\n                <ng-container *ngSwitchCase="isTemplateRef(mcTitle)" [ngTemplateOutlet]="mcTitle"></ng-container>\n                <ng-container *ngSwitchCase="isNonEmptyString(mcTitle)">\n                    <div [innerHTML]="mcTitle"></div>\n                </ng-container>\n            </ng-container>\n        </div>\n    </div>\n    <div class="mc-modal-body" [ngStyle]="mcBodyStyle">\n        <ng-container #bodyContainer>\n            <ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true">\n                <ng-container *ngSwitchCase="isTemplateRef(mcContent)" [ngTemplateOutlet]="mcContent"></ng-container>\n                <ng-container *ngSwitchCase="isNonEmptyString(mcContent)">\n                    <div [innerHTML]="mcContent"></div>\n                </ng-container>\n                <ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container>\n            </ng-container>\n        </ng-container>\n    </div>\n    <div *ngIf="mcFooter !== null" class="mc-modal-footer">\n        <ng-container [ngSwitch]="true">\n            <ng-container *ngSwitchCase="isTemplateRef(mcFooter)" [ngTemplateOutlet]="mcFooter"></ng-container>\n            <ng-container *ngSwitchCase="isNonEmptyString(mcFooter)">\n                <div [innerHTML]="mcFooter"></div>\n            </ng-container>\n            <ng-container *ngSwitchCase="isModalButtons(mcFooter)">\n                <ng-container *ngFor="let button of mcFooter">\n                    <button\n                        mc-button\n                        #autoFocusedButton\n                        [attr.autofocus]="button.autoFocus"\n                        *ngIf="getButtonCallableProp(button, \'show\')"\n                        [disabled]="getButtonCallableProp(button, \'disabled\')"\n                        [class.mc-progress]="getButtonCallableProp(button, \'loading\')"\n                        (click)="onButtonClick(button)"\n                        [color]="button.type">\n                        {{ button.label }}\n                    </button>\n                </ng-container>\n            </ng-container>\n            <ng-container *ngSwitchDefault>\n                <button\n                    #autoFocusedButton\n                    [attr.autofocus]="true"\n                    *ngIf="mcOkText !== null"\n                    mc-button\n                    color="primary"\n                    (click)="onClickOkCancel(\'ok\')">\n\n                    {{ okText }}\n                </button>\n                <button *ngIf="mcCancelText!==null" mc-button (click)="onClickOkCancel(\'cancel\')">\n                    {{ cancelText }}\n                </button>\n            </ng-container>\n        </ng-container>\n    </div>\n</ng-template>\n\x3c!-- /[Predefined] Default Modal Content --\x3e\n\n\x3c!-- [Predefined] Confirm Modal Content --\x3e\n<ng-template #tplContentConfirm>\n    <div class="mc-modal-body" [ngStyle]="mcBodyStyle">\n        <div class="mc-confirm-body-wrapper">\n            <div class="mc-confirm-body">\n                <div class="mc-confirm-content">\n                    <ng-container #bodyContainer>\n                        <ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true">\n                            <ng-container *ngSwitchCase="isTemplateRef(mcContent)"\n                                          [ngTemplateOutlet]="mcContent"></ng-container>\n                            <ng-container *ngSwitchCase="isNonEmptyString(mcContent)">\n                                <div [innerHTML]="mcContent"></div>\n                            </ng-container>\n                            <ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container>\n                        </ng-container>\n                    </ng-container>\n                </div>\n            </div>\n        </div> \x3c!-- /.mc-confirm-body-wrapper --\x3e\n    </div>\n    <div class="mc-confirm-btns">\n        <button\n            mc-button\n            #autoFocusedButton\n            [color]="mcOkType"\n            [attr.autofocus]="true"\n            *ngIf="mcOkText !== \'\'"\n            (click)="onClickOkCancel(\'ok\')">\n\n            {{ okText }}\n        </button>\n        <button mc-button color="second" *ngIf="mcCancelText!==\'\'" (click)="onClickOkCancel(\'cancel\')">\n            {{ cancelText }}\n        </button>\n    </div>\n</ng-template>\n\x3c!-- /[Predefined] Confirm Modal Content --\x3e\n',encapsulation:o.ViewEncapsulation.None,host:{"(keydown)":"onKeyDown($event)"},styles:['.mc-confirm .mc-modal-close,.mc-confirm .mc-modal-header{display:none}.mc-confirm .mc-modal-body{padding:var(--mc-modal-confirm-size-padding,24px)}.mc-confirm-body-wrapper{zoom:1}.mc-confirm-body-wrapper:after,.mc-confirm-body-wrapper:before{content:"";display:table}.mc-confirm-body-wrapper:after{clear:both}.mc-confirm-body .mc-confirm-title{display:block;overflow:auto}.mc-confirm .mc-confirm-btns{border-radius:var(--mc-modal-footer-size-border-radius,0 0 4px 4px);text-align:right}.mc-confirm .mc-confirm-btns button+button{margin:16px}.mc-modal{box-sizing:border-box;list-style:none;margin:0 auto;padding:var(--mc-modal-size-padding,0 0 24px);position:relative;top:var(--mc-modal-size-top,48px);width:auto}.mc-modal.zoom-appear,.mc-modal.zoom-enter{-webkit-animation-duration:.3s;animation-duration:.3s;opacity:0;transform:none}.mc-modal .mc-modal-close{height:var(--mc-modal-size-close-width,56px);position:absolute;right:0;top:0;width:var(--mc-modal-size-close-width,56px);z-index:10}.mc-modal-wrap{-webkit-overflow-scrolling:touch;bottom:0;left:0;outline:0;overflow:auto;position:fixed;right:0;top:0;z-index:1000}.mc-modal-title{margin:0}.mc-modal-content{background-clip:padding-box;background-color:#fff;border-radius:var(--mc-modal-size-border-radius,4px);position:relative}.mc-modal-header{border-radius:var(--mc-modal-header-size-border-radius,4px 4px 0 0);display:block;padding:var(--mc-modal-header-size-padding,14px 16px)}.mc-modal-body{display:block;max-height:var(--mc-modal-body-size-max-height,calc(100vh - 260px));overflow-y:auto;padding:var(--mc-modal-body-size-padding,16px 24px 24px);word-wrap:break-word}.mc-modal-footer{border-radius:var(--mc-modal-footer-size-border-radius,0 0 4px 4px);display:block;padding:var(--mc-modal-footer-size-padding,16px 16px);text-align:right}.mc-modal-footer button+button{margin-bottom:0;margin-left:16px}.mc-modal-mask{bottom:0;height:100%;left:0;position:fixed;right:0;top:0;z-index:1000}.mc-modal-mask.mc-modal-mask-hidden{display:none}.mc-modal-open{overflow:hidden}']}]}],g.ctorParameters=function(){return[{type:e.Overlay},{type:o.Renderer2},{type:o.ComponentFactoryResolver},{type:o.ElementRef},{type:o.ViewContainerRef},{type:d},{type:o.ChangeDetectorRef},{type:void 0,decorators:[{type:o.Inject,args:[n.DOCUMENT]}]}]},g.propDecorators={mcModalType:[{type:o.Input}],mcComponent:[{type:o.Input}],mcContent:[{type:o.Input}],mcComponentParams:[{type:o.Input}],mcFooter:[{type:o.Input}],mcVisible:[{type:o.Input}],mcVisibleChange:[{type:o.Output}],mcZIndex:[{type:o.Input}],mcWidth:[{type:o.Input}],mcWrapClassName:[{type:o.Input}],mcClassName:[{type:o.Input}],mcStyle:[{type:o.Input}],mcTitle:[{type:o.Input}],mcCloseByESC:[{type:o.Input}],mcClosable:[{type:o.Input}],mcMask:[{type:o.Input}],mcMaskClosable:[{type:o.Input}],mcMaskStyle:[{type:o.Input}],mcBodyStyle:[{type:o.Input}],mcAfterOpen:[{type:o.Output}],mcAfterClose:[{type:o.Output}],mcOkText:[{type:o.Input}],mcOkType:[{type:o.Input}],mcOkLoading:[{type:o.Input}],mcOnOk:[{type:o.Input},{type:o.Output}],mcCancelText:[{type:o.Input}],mcCancelLoading:[{type:o.Input}],mcOnCancel:[{type:o.Input},{type:o.Output}],modalContainer:[{type:o.ViewChild,args:["modalContainer",{static:!0}]}],bodyContainer:[{type:o.ViewChild,args:["bodyContainer",{read:o.ViewContainerRef,static:!1}]}],autoFocusedButtons:[{type:o.ViewChildren,args:["autoFocusedButton",{read:o.ElementRef}]}],mcGetContainer:[{type:o.Input}]};var b=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e="px");var n=+t;return isNaN(n)?""+t:""+n+e},t}();b.decorators=[{type:o.Pipe,args:[{name:"toCssUnit"}]}];var v=function(){};v.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-title], mc-modal-title, [mcModalTitle]",host:{class:"mc-modal-header mc-modal-title"}}]}];var k=function(){};k.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-body], mc-modal-body, [mcModalBody]",host:{class:"mc-modal-body"}}]}];var O=function(){};O.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-footer], mc-modal-footer, [mcModalFooter]",host:{class:"mc-modal-footer"}}]}];var M=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.overlay=t,this.createModal(),"mcGetContainer"in e||(e.mcGetContainer=void 0),this.changeProps(e),this.modalRef.instance.open(),this.modalRef.instance.mcAfterClose.subscribe((function(){return n.destroyModal()})),this.overlayRef.keydownEvents().pipe(m.filter((function(t){return t.keyCode===i.ESCAPE&&e.mcCloseByESC}))).subscribe((function(){return n.modalRef.instance.close()}))}return t.prototype.getInstance=function(){return this.modalRef&&this.modalRef.instance},t.prototype.destroyModal=function(){this.modalRef&&(this.overlayRef.dispose(),this.modalRef=null)},t.prototype.changeProps=function(t){this.modalRef&&Object.assign(this.modalRef.instance,t)},t.prototype.createModal=function(){this.overlayRef=this.overlay.create(),this.modalRef=this.overlayRef.attach(new l.ComponentPortal(g))},t}();var x=function(){function t(t,e){this.overlay=t,this.modalControl=e}return Object.defineProperty(t.prototype,"openModals",{get:function(){return this.modalControl.openModals},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.modalControl.afterAllClose.asObservable()},enumerable:!1,configurable:!0}),t.prototype.closeAll=function(){this.modalControl.closeAll()},t.prototype.create=function(t){return void 0===t&&(t={}),"function"!=typeof t.mcOnCancel&&(t.mcOnCancel=function(){}),"mcCloseByESC"in t||(t.mcCloseByESC=!0),"mcWidth"in t||(t.mcWidth=480),new M(this.overlay,t).getInstance()},t.prototype.confirm=function(t,e){return void 0===t&&(t={}),void 0===e&&(e="confirm"),"mcFooter"in t&&console.warn('The Confirm-Modal doesn\'t support "mcFooter", this property will be ignored.'),"function"!=typeof t.mcOnOk&&(t.mcOnOk=function(){}),t.mcModalType="confirm",t.mcClassName="mc-confirm mc-confirm-"+e+" "+(t.mcClassName||""),this.create(t)},t.prototype.open=function(t){return void 0===t&&(t={}),t.mcModalType="custom",this.create(t)},t.prototype.success=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"success")},t.prototype.delete=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"warn")},t.prototype.simpleConfirm=function(t,e){return void 0===t&&(t={}),"mcCancelText"in t||(t.mcCancelText=null),this.confirm(t,e)},t}();x.decorators=[{type:o.Injectable}],x.ctorParameters=function(){return[{type:e.Overlay},{type:d}]};var w=function(){};w.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,e.OverlayModule,c.A11yModule,a.McButtonModule,s.McIconModule],exports:[g,v,k,O],declarations:[g,v,k,O,b],entryComponents:[g],providers:[d,x]}]}],t.McModalComponent=g,t.McModalModule=w,t.McModalRef=f,t.McModalService=x,t.ɵa=d,t.ɵb=v,t.ɵc=k,t.ɵd=O,t.ɵe=b,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-modal.umd.min.js.map