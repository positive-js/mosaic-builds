!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/cdk/keycodes"),require("rxjs"),require("@angular/cdk/a11y"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/icon"),require("@angular/cdk/portal"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/modal",["exports","@angular/cdk/overlay","@angular/common","@angular/core","@ptsecurity/cdk/keycodes","rxjs","@angular/cdk/a11y","@ptsecurity/mosaic/button","@ptsecurity/mosaic/icon","@angular/cdk/portal","rxjs/operators"],e):e(((t=t||self).ptsecurity=t.ptsecurity||{},t.ptsecurity.mosaic=t.ptsecurity.mosaic||{},t.ptsecurity.mosaic.modal={}),t.ng.cdk.overlay,t.ng.common,t.ng.core,t.keycodes,t.rxjs,t.ng.cdk.a11y,t.ptsecurity.mosaic.button,t.ptsecurity.mosaic.icon,t.ng.cdk.portal,t.rxjs.operators)}(this,(function(t,e,n,o,i,a,r,c,s,l,m){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var u=function(){return(u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var f=function(){function t(t){this.parentService=t,this.rootOpenModals=this.parentService?null:[],this.rootAfterAllClose=this.parentService?null:new a.Subject,this.rootRegisteredMetaMap=this.parentService?null:new Map}return Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.parentService?this.parentService.afterAllClose:this.rootAfterAllClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openModals",{get:function(){return this.parentService?this.parentService.openModals:this.rootOpenModals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"registeredMetaMap",{get:function(){return this.parentService?this.parentService.registeredMetaMap:this.rootRegisteredMetaMap},enumerable:!0,configurable:!0}),t.prototype.registerModal=function(t){var e=this;if(!this.hasRegistered(t)){var n=t.afterOpen.subscribe((function(){return e.openModals.push(t)})),o=t.afterClose.subscribe((function(){return e.removeOpenModal(t)}));this.registeredMetaMap.set(t,{modalRef:t,afterOpenSubscription:n,afterCloseSubscription:o})}},t.prototype.hasRegistered=function(t){return this.registeredMetaMap.has(t)},t.prototype.closeAll=function(){for(var t=this.openModals.length;t--;)this.openModals[t].close()},t.prototype.removeOpenModal=function(t){var e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this.afterAllClose.next())},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:t,decorators:[{type:o.Optional},{type:o.SkipSelf}]}]},t}();var y=function(){};var h=function(){function t(t){this.document=t,this.lastPosition={x:-1,y:-1},this.listenDocumentClick()}return t.prototype.getLastClickPosition=function(){return this.lastPosition},t.prototype.listenDocumentClick=function(){var t=this;this.document.addEventListener("click",(function(e){t.lastPosition={x:e.clientX,y:e.clientY}}))},t}();var g=new h(document),C=function(t){function a(e,n,i,a,r,c,s,l){var m=t.call(this)||this;return m.overlay=e,m.renderer=n,m.cfr=i,m.elementRef=a,m.viewContainer=r,m.modalControl=c,m.changeDetector=s,m.document=l,m.mcModalType="default",m._mcVisible=!1,m.mcVisibleChange=new o.EventEmitter,m.mcZIndex=1e3,m.mcWidth=480,m.mcCloseByESC=!0,m._mcClosable=!0,m._mcMask=!0,m._mcMaskClosable=!1,m.mcAfterOpen=new o.EventEmitter,m.mcAfterClose=new o.EventEmitter,m.mcOkType="primary",m._mcOkLoading=!1,m.mcOnOk=new o.EventEmitter,m._mcCancelLoading=!1,m.mcOnCancel=new o.EventEmitter,m.transformOrigin="0px 0px 0px",m.mcGetContainer=function(){return m.overlay.create()},m}return function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(a,t),Object.defineProperty(a.prototype,"mcVisible",{get:function(){return this._mcVisible},set:function(t){this._mcVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mcClosable",{get:function(){return this._mcClosable},set:function(t){this._mcClosable=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mcMask",{get:function(){return this._mcMask},set:function(t){this._mcMask=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mcMaskClosable",{get:function(){return this._mcMaskClosable},set:function(t){this._mcMaskClosable=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mcOkLoading",{get:function(){return this._mcOkLoading},set:function(t){this._mcOkLoading=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mcCancelLoading",{get:function(){return this._mcCancelLoading},set:function(t){this._mcCancelLoading=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"afterOpen",{get:function(){return this.mcAfterOpen.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"afterClose",{get:function(){return this.mcAfterClose.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"okText",{get:function(){return this.mcOkText},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cancelText",{get:function(){return this.mcCancelText},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hidden",{get:function(){return!this.mcVisible&&!this.animationState},enumerable:!0,configurable:!0}),a.prototype.ngOnInit=function(){this.isComponent(this.mcContent)&&this.createDynamicComponent(this.mcContent),this.isModalButtons(this.mcFooter)&&(this.mcFooter=this.formatModalButtons(this.mcFooter)),this.isComponent(this.mcComponent)&&this.createDynamicComponent(this.mcComponent),this.container="function"==typeof this.mcGetContainer?this.mcGetContainer():this.mcGetContainer,this.container instanceof HTMLElement?this.container.appendChild(this.elementRef.nativeElement):this.container instanceof e.OverlayRef&&this.container.overlayElement.appendChild(this.elementRef.nativeElement),this.modalControl.registerModal(this)},a.prototype.ngOnChanges=function(t){t.mcVisible&&this.handleVisibleStateChange(this.mcVisible,!t.mcVisible.firstChange)},a.prototype.ngAfterViewInit=function(){var t,e;this.contentComponentRef&&this.bodyContainer.insert(this.contentComponentRef.hostView);try{for(var n=d(this.autoFocusedButtons.toArray()),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.nativeElement.autofocus){i.nativeElement.focus();break}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},a.prototype.ngOnDestroy=function(){this.container instanceof e.OverlayRef&&this.container.dispose()},a.prototype.open=function(){this.changeVisibleFromInside(!0)},a.prototype.close=function(t){this.changeVisibleFromInside(!1,t)},a.prototype.destroy=function(t){this.close(t)},a.prototype.markForCheck=function(){this.changeDetector.markForCheck()},a.prototype.triggerOk=function(){this.onClickOkCancel("ok")},a.prototype.triggerCancel=function(){this.onClickOkCancel("cancel")},a.prototype.getInstance=function(){return this},a.prototype.getContentComponentRef=function(){return this.contentComponentRef},a.prototype.getContentComponent=function(){return this.contentComponentRef&&this.contentComponentRef.instance},a.prototype.getElement=function(){return this.elementRef&&this.elementRef.nativeElement},a.prototype.onClickMask=function(t){this.mcMask&&this.mcMaskClosable&&t.target.classList.contains("mc-modal-wrap")&&this.mcVisible&&this.onClickOkCancel("cancel")},a.prototype.isModalType=function(t){return this.mcModalType===t},a.prototype.onKeyDown=function(t){t.keyCode===i.ESCAPE&&this.container&&this.container instanceof e.OverlayRef&&(this.close(),t.preventDefault())},a.prototype.onClickCloseBtn=function(){this.mcVisible&&this.onClickOkCancel("cancel")},a.prototype.onClickOkCancel=function(t){var e=this,n={ok:this.mcOnOk,cancel:this.mcOnCancel}[t],i={ok:"mcOkLoading",cancel:"mcCancelLoading"}[t];if(n instanceof o.EventEmitter)n.emit(this.getContentComponent());else if("function"==typeof n){var a=n(this.getContentComponent()),r=function(t){return!1!==t&&e.close(t)};if(b(a)){this[i]=!0;var c=function(t){e[i]=!1,r(t)};a.then(c).catch(c)}else r(a)}},a.prototype.isNonEmptyString=function(t){return"string"==typeof t&&""!==t},a.prototype.isTemplateRef=function(t){return t instanceof o.TemplateRef},a.prototype.isComponent=function(t){return t instanceof o.Type},a.prototype.isModalButtons=function(t){return Array.isArray(t)&&t.length>0},a.prototype.getButtonCallableProp=function(t,e){var n=t[e],o=[];return this.contentComponentRef&&o.push(this.contentComponentRef.instance),"function"==typeof n?n.apply(t,o):n},a.prototype.onButtonClick=function(t){var e=this.getButtonCallableProp(t,"onClick");b(e)&&(t.loading=!0,e.then((function(){return t.loading=!1})).catch((function(){return t.loading=!1})))},a.prototype.handleVisibleStateChange=function(t,e,n){var o=this;return void 0===e&&(e=!0),t&&this.changeBodyOverflow(1),Promise.resolve(e&&this.animateTo(t)).then((function(){t?o.mcAfterOpen.emit():(o.mcAfterClose.emit(n),o.changeBodyOverflow())}))},a.prototype.changeVisibleFromInside=function(t,e){return this.mcVisible!==t?(this.mcVisible=t,this.mcVisibleChange.emit(t),this.handleVisibleStateChange(t,!0,e)):Promise.resolve()},a.prototype.changeAnimationState=function(t){var e,n;this.animationState=t,t?(this.maskAnimationClassMap=((e={})["fade-"+t]=!0,e["fade-"+t+"-active"]=!0,e),this.modalAnimationClassMap=((n={})["zoom-"+t]=!0,n["zoom-"+t+"-active"]=!0,n)):this.maskAnimationClassMap=this.modalAnimationClassMap=null,this.contentComponentRef?this.contentComponentRef.changeDetectorRef.markForCheck():this.changeDetector.markForCheck()},a.prototype.animateTo=function(t){var e=this;return t&&window.setTimeout((function(){return e.updateTransformOrigin()})),this.changeAnimationState(t?"enter":"leave"),new Promise((function(t){return window.setTimeout((function(){e.changeAnimationState(null),t()}),200)}))},a.prototype.formatModalButtons=function(t){return t.map((function(t){return u({type:"default",size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)}))},a.prototype.createDynamicComponent=function(t){var e=this.cfr.resolveComponentFactory(t),n=o.Injector.create({providers:[{provide:y,useValue:this}],parent:this.viewContainer.injector});this.contentComponentRef=e.create(n),this.mcComponentParams&&Object.assign(this.contentComponentRef.instance,this.mcComponentParams),this.contentComponentRef.changeDetectorRef.detectChanges()},a.prototype.updateTransformOrigin=function(){var t=this.modalContainer.nativeElement,e=g.getLastClickPosition();e&&(this.transformOrigin=e.x-t.offsetLeft+"px "+(e.y-t.offsetTop)+"px 0px")},a.prototype.changeBodyOverflow=function(t){void 0===t&&(t=0),this.modalControl.openModals.length+t>0?this.renderer.setStyle(this.document.body,"overflow","hidden"):this.renderer.removeStyle(this.document.body,"overflow")},a.decorators=[{type:o.Component,args:[{selector:"mc-modal",template:'\x3c!-- Compatible: the <ng-content> can appear only once --\x3e\n<ng-template #tplOriginContent>\n    <ng-content></ng-content>\n</ng-template>\n\n<div>\n    <div *ngIf="mcMask"\n         class="mc-modal-mask"\n         [ngClass]="maskAnimationClassMap"\n         [class.mc-modal-mask-hidden]="hidden"\n         [ngStyle]="mcMaskStyle"\n         [style.zIndex]="mcZIndex"\n    ></div>\n    <div\n        (mousedown)="onClickMask($event)"\n        class="mc-modal-wrap {{ mcWrapClassName }}"\n        [style.zIndex]="mcZIndex"\n        [style.display]="hidden ? \'none\' : \'\'"\n        tabindex="-1"\n        role="dialog"\n    >\n        <div #modalContainer\n             class="mc-modal {{ mcClassName }}"\n             [ngClass]="modalAnimationClassMap"\n             [ngStyle]="mcStyle"\n             [style.width]="mcWidth | toCssUnit"\n             [style.transform-origin]="transformOrigin"\n             role="document"\n        >\n            <div class="mc-modal-content" cdkTrapFocus>\n                <button *ngIf="mcClosable"\n                        mc-button\n                        (click)="onClickCloseBtn()"\n                        class="mc-modal-close mc-button_transparent"\n                        aria-label="Close">\n                    <i mc-icon="mc-close-L_16" class="mc-icon mc-icon_light" color="second"></i>\n                </button>\n                <ng-container [ngSwitch]="true">\n                    <ng-container *ngSwitchCase="isModalType(\'default\')"\n                                  [ngTemplateOutlet]="tplContentDefault"></ng-container>\n                    <ng-container *ngSwitchCase="isModalType(\'confirm\')"\n                                  [ngTemplateOutlet]="tplContentConfirm"></ng-container>\n                    <ng-container *ngSwitchCase="isModalType(\'custom\')"\n                                  [ngTemplateOutlet]="tplContentCustom"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-template #tplContentCustom>\n    <ng-container #bodyContainer></ng-container>\n</ng-template>\n\n\n\x3c!-- [Predefined] Default Modal Content --\x3e\n<ng-template #tplContentDefault>\n    <div *ngIf="mcTitle" class="mc-modal-header">\n        <div class="mc-modal-title">\n            <ng-container [ngSwitch]="true">\n                <ng-container *ngSwitchCase="isTemplateRef(mcTitle)" [ngTemplateOutlet]="mcTitle"></ng-container>\n                <ng-container *ngSwitchCase="isNonEmptyString(mcTitle)">\n                    <div [innerHTML]="mcTitle"></div>\n                </ng-container>\n            </ng-container>\n        </div>\n    </div>\n    <div class="mc-modal-body" [ngStyle]="mcBodyStyle">\n        <ng-container #bodyContainer>\n            <ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true">\n                <ng-container *ngSwitchCase="isTemplateRef(mcContent)" [ngTemplateOutlet]="mcContent"></ng-container>\n                <ng-container *ngSwitchCase="isNonEmptyString(mcContent)">\n                    <div [innerHTML]="mcContent"></div>\n                </ng-container>\n                <ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container>\n            </ng-container>\n        </ng-container>\n    </div>\n    <div *ngIf="mcFooter !== null" class="mc-modal-footer">\n        <ng-container [ngSwitch]="true">\n            <ng-container *ngSwitchCase="isTemplateRef(mcFooter)" [ngTemplateOutlet]="mcFooter"></ng-container>\n            <ng-container *ngSwitchCase="isNonEmptyString(mcFooter)">\n                <div [innerHTML]="mcFooter"></div>\n            </ng-container>\n            <ng-container *ngSwitchCase="isModalButtons(mcFooter)">\n                <ng-container *ngFor="let button of mcFooter">\n                    <button\n                        mc-button\n                        #autoFocusedButton\n                        [attr.autofocus]="button.autoFocus"\n                        *ngIf="getButtonCallableProp(button, \'show\')"\n                        [disabled]="getButtonCallableProp(button, \'disabled\')"\n                        [class.mc-progress]="getButtonCallableProp(button, \'loading\')"\n                        (click)="onButtonClick(button)"\n                        [color]="button.type">\n                        {{ button.label }}\n                    </button>\n                </ng-container>\n            </ng-container>\n            <ng-container *ngSwitchDefault>\n                <button\n                    #autoFocusedButton\n                    [attr.autofocus]="true"\n                    *ngIf="mcOkText !== null"\n                    mc-button\n                    color="primary"\n                    (click)="onClickOkCancel(\'ok\')">\n\n                    {{ okText }}\n                </button>\n                <button *ngIf="mcCancelText!==null" mc-button (click)="onClickOkCancel(\'cancel\')">\n                    {{ cancelText }}\n                </button>\n            </ng-container>\n        </ng-container>\n    </div>\n</ng-template>\n\x3c!-- /[Predefined] Default Modal Content --\x3e\n\n\x3c!-- [Predefined] Confirm Modal Content --\x3e\n<ng-template #tplContentConfirm>\n    <div class="mc-modal-body" [ngStyle]="mcBodyStyle">\n        <div class="mc-confirm-body-wrapper">\n            <div class="mc-confirm-body">\n                <div class="mc-confirm-content">\n                    <ng-container #bodyContainer>\n                        <ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true">\n                            <ng-container *ngSwitchCase="isTemplateRef(mcContent)"\n                                          [ngTemplateOutlet]="mcContent"></ng-container>\n                            <ng-container *ngSwitchCase="isNonEmptyString(mcContent)">\n                                <div [innerHTML]="mcContent"></div>\n                            </ng-container>\n                            <ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container>\n                        </ng-container>\n                    </ng-container>\n                </div>\n            </div>\n        </div> \x3c!-- /.mc-confirm-body-wrapper --\x3e\n    </div>\n    <div class="mc-confirm-btns">\n        <button\n            mc-button\n            #autoFocusedButton\n            [color]="mcOkType"\n            [attr.autofocus]="true"\n            *ngIf="mcOkText !== \'\'"\n            (click)="onClickOkCancel(\'ok\')">\n\n            {{ okText }}\n        </button>\n        <button mc-button color="second" *ngIf="mcCancelText!==\'\'" (click)="onClickOkCancel(\'cancel\')">\n            {{ cancelText }}\n        </button>\n    </div>\n</ng-template>\n\x3c!-- /[Predefined] Confirm Modal Content --\x3e\n',encapsulation:o.ViewEncapsulation.None,host:{"(keydown)":"onKeyDown($event)"},styles:['@-webkit-keyframes mcFadeIn{0%{opacity:0}100%{opacity:1}}@keyframes mcFadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes mcFadeOut{0%{opacity:1}100%{opacity:0}}@keyframes mcFadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes mcZoomIn{0%{opacity:0;transform:translate(0,-25%)}100%{opacity:1;transform:scale(1)}}@keyframes mcZoomIn{0%{opacity:0;transform:translate(0,-25%)}100%{opacity:1;transform:scale(1)}}@-webkit-keyframes mcZoomOut{0%{transform:scale(1)}100%{opacity:0;transform:translate(0,-30%)}}@keyframes mcZoomOut{0%{transform:scale(1)}100%{opacity:0;transform:translate(0,-30%)}}.fade-appear,.fade-enter,.fade-leave{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-play-state:paused;animation-play-state:paused}.fade-appear.fade-appear-active,.fade-enter.fade-enter-active{-webkit-animation-name:mcFadeIn;animation-name:mcFadeIn;-webkit-animation-play-state:running;animation-play-state:running}.fade-leave.fade-leave-active{-webkit-animation-name:mcFadeOut;animation-name:mcFadeOut;-webkit-animation-play-state:running;animation-play-state:running;pointer-events:none}.className-appear,.className-enter{opacity:0;transform:translate(0,-25%);-webkit-animation-timing-function:cubic-bezier(.075,.82,.165,1);animation-timing-function:cubic-bezier(.075,.82,.165,1)}.zoom-appear,.zoom-enter,.zoom-leave{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-play-state:paused;animation-play-state:paused}.zoom-appear.zoom-appear-active,.zoom-enter.zoom-enter-active{-webkit-animation-name:mcZoomIn;animation-name:mcZoomIn;-webkit-animation-play-state:running;animation-play-state:running}.zoom-leave.zoom-leave-active{-webkit-animation-name:mcZoomOut;animation-name:mcZoomOut;-webkit-animation-play-state:running;animation-play-state:running;pointer-events:none}.className-leave{transform:translate(0,0);-webkit-animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-timing-function:cubic-bezier(.785,.135,.15,.86)}.mc-confirm .mc-modal-close,.mc-confirm .mc-modal-header{display:none}.mc-confirm .mc-modal-body{padding:24px}.mc-confirm-body-wrapper{zoom:1}.mc-confirm-body-wrapper:after,.mc-confirm-body-wrapper:before{content:"";display:table}.mc-confirm-body-wrapper:after{clear:both}.mc-confirm-body .mc-confirm-title{display:block;overflow:auto}.mc-confirm .mc-confirm-btns{border-radius:0 0 4px 4px;text-align:right}.mc-confirm .mc-confirm-btns button+button{margin:16px}.mc-modal{box-sizing:border-box;position:relative;top:48px;width:auto;margin:0 auto;padding:0 0 24px;list-style:none}.mc-modal.zoom-appear,.mc-modal.zoom-enter{-webkit-animation-duration:.3s;animation-duration:.3s;transform:none;opacity:0}.mc-modal .mc-modal-close{position:absolute;z-index:10;top:0;right:0;width:56px;height:56px}.mc-modal-wrap{position:fixed;z-index:1000;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;outline:0}.mc-modal-title{margin:0}.mc-modal-content{position:relative;border-radius:4px;background-clip:padding-box;background-color:#fff}.mc-modal-header{padding:14px 16px;display:block;border-radius:4px 4px 0 0}.mc-modal-body{display:block;padding:16px 24px 24px;max-height:calc(100vh - 260px);word-wrap:break-word;overflow-y:auto}.mc-modal-footer{display:block;padding:16px;border-radius:0 0 4px 4px;text-align:right}.mc-modal-footer button+button{margin-left:16px;margin-bottom:0}.mc-modal-mask{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;height:100%;background-color:rgba(0,0,0,.5)}.mc-modal-mask.mc-modal-mask-hidden{display:none}.mc-modal-open{overflow:hidden}']}]}],a.ctorParameters=function(){return[{type:e.Overlay},{type:o.Renderer2},{type:o.ComponentFactoryResolver},{type:o.ElementRef},{type:o.ViewContainerRef},{type:f},{type:o.ChangeDetectorRef},{type:void 0,decorators:[{type:o.Inject,args:[n.DOCUMENT]}]}]},a.propDecorators={mcModalType:[{type:o.Input}],mcComponent:[{type:o.Input}],mcContent:[{type:o.Input}],mcComponentParams:[{type:o.Input}],mcFooter:[{type:o.Input}],mcVisible:[{type:o.Input}],mcVisibleChange:[{type:o.Output}],mcZIndex:[{type:o.Input}],mcWidth:[{type:o.Input}],mcWrapClassName:[{type:o.Input}],mcClassName:[{type:o.Input}],mcStyle:[{type:o.Input}],mcTitle:[{type:o.Input}],mcCloseByESC:[{type:o.Input}],mcClosable:[{type:o.Input}],mcMask:[{type:o.Input}],mcMaskClosable:[{type:o.Input}],mcMaskStyle:[{type:o.Input}],mcBodyStyle:[{type:o.Input}],mcAfterOpen:[{type:o.Output}],mcAfterClose:[{type:o.Output}],mcOkText:[{type:o.Input}],mcOkType:[{type:o.Input}],mcOkLoading:[{type:o.Input}],mcOnOk:[{type:o.Input},{type:o.Output}],mcCancelText:[{type:o.Input}],mcCancelLoading:[{type:o.Input}],mcOnCancel:[{type:o.Input},{type:o.Output}],modalContainer:[{type:o.ViewChild,args:["modalContainer",{static:!0}]}],bodyContainer:[{type:o.ViewChild,args:["bodyContainer",{read:o.ViewContainerRef,static:!1}]}],autoFocusedButtons:[{type:o.ViewChildren,args:["autoFocusedButton",{read:o.ElementRef}]}],mcGetContainer:[{type:o.Input}]},a}(y);function b(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then&&"function"==typeof t.catch}var v=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e="px");var n=+t;return isNaN(n)?""+t:""+n+e},t.decorators=[{type:o.Pipe,args:[{name:"toCssUnit"}]}],t}(),k=function(){function t(){}return t.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-title], mc-modal-title, [mcModalTitle]",host:{class:"mc-modal-header mc-modal-title"}}]}],t}(),O=function(){function t(){}return t.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-body], mc-modal-body, [mcModalBody]",host:{class:"mc-modal-body"}}]}],t}(),w=function(){function t(){}return t.decorators=[{type:o.Directive,args:[{selector:"[mc-modal-footer], mc-modal-footer, [mcModalFooter]",host:{class:"mc-modal-footer"}}]}],t}(),M=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.overlay=t,this.createModal(),"mcGetContainer"in e||(e.mcGetContainer=void 0),this.changeProps(e),this.modalRef.instance.open(),this.modalRef.instance.mcAfterClose.subscribe((function(){return n.destroyModal()})),this.overlayRef.keydownEvents().pipe(m.filter((function(t){return t.keyCode===i.ESCAPE&&e.mcCloseByESC}))).subscribe((function(){return n.modalRef.instance.close()}))}return t.prototype.getInstance=function(){return this.modalRef&&this.modalRef.instance},t.prototype.destroyModal=function(){this.modalRef&&(this.overlayRef.dispose(),this.modalRef=null)},t.prototype.changeProps=function(t){this.modalRef&&Object.assign(this.modalRef.instance,t)},t.prototype.createModal=function(){this.overlayRef=this.overlay.create(),this.modalRef=this.overlayRef.attach(new l.ComponentPortal(C))},t}();var x=function(){function t(t,e){this.overlay=t,this.modalControl=e}return Object.defineProperty(t.prototype,"openModals",{get:function(){return this.modalControl.openModals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.modalControl.afterAllClose.asObservable()},enumerable:!0,configurable:!0}),t.prototype.closeAll=function(){this.modalControl.closeAll()},t.prototype.create=function(t){return void 0===t&&(t={}),"function"!=typeof t.mcOnCancel&&(t.mcOnCancel=function(){}),"mcCloseByESC"in t||(t.mcCloseByESC=!0),"mcWidth"in t||(t.mcWidth=480),new M(this.overlay,t).getInstance()},t.prototype.confirm=function(t,e){return void 0===t&&(t={}),void 0===e&&(e="confirm"),"mcFooter"in t&&console.warn('The Confirm-Modal doesn\'t support "mcFooter", this property will be ignored.'),"function"!=typeof t.mcOnOk&&(t.mcOnOk=function(){}),t.mcModalType="confirm",t.mcClassName="mc-confirm mc-confirm-"+e+" "+(t.mcClassName||""),this.create(t)},t.prototype.open=function(t){return void 0===t&&(t={}),t.mcModalType="custom",this.create(t)},t.prototype.success=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"success")},t.prototype.delete=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"warn")},t.prototype.simpleConfirm=function(t,e){return void 0===t&&(t={}),"mcCancelText"in t||(t.mcCancelText=null),this.confirm(t,e)},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:e.Overlay},{type:f}]},t}();var S=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,e.OverlayModule,r.A11yModule,c.McButtonModule,s.McIconModule],exports:[C,k,O,w],declarations:[C,k,O,w,v],entryComponents:[C],providers:[f,x]}]}],t}();t.McModalComponent=C,t.McModalModule=S,t.McModalRef=y,t.McModalService=x,t.ɵa=f,t.ɵb=k,t.ɵc=O,t.ɵd=w,t.ɵe=v,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-modal.umd.min.js.map