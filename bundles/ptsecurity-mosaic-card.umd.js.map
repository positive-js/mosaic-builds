{"version":3,"file":"ptsecurity-mosaic-card.umd.js","sources":["ng://@ptsecurity/mosaic/card/card.component.ts","ng://@ptsecurity/mosaic/card/card.module.ts"],"sourcesContent":["import { FocusMonitor } from '@angular/cdk/a11y';\nimport {\n    Output,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef, Input,\n    OnDestroy, EventEmitter,\n    ViewEncapsulation, HostBinding\n} from '@angular/core';\nimport { SPACE } from '@ptsecurity/cdk/keycodes';\n\n\n@Component({\n    selector: 'mc-card',\n    templateUrl: './card.component.html',\n    styleUrls: ['./card.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    inputs: ['color'],\n    host: {\n        class: 'mc-card',\n        '[class.mc-card_readonly]': 'readonly',\n        '[class.mc-card_selected]': 'selected',\n        '(keydown)': 'onKeyDown($event)',\n        '(click)': 'onClick($event)'\n    }\n})\nexport class McCard implements OnDestroy {\n    get tabIndex(): number | null {\n        return this.readonly ? null : this._tabIndex;\n    }\n\n    @HostBinding('attr.tabIndex')\n    @Input()\n    set tabIndex(value: number | null) {\n        this._tabIndex = value;\n    }\n\n    @Input()\n    readonly = false;\n\n    @Input()\n    selected = false;\n\n    @Output()\n    selectedChange = new EventEmitter<boolean>();\n\n    private _tabIndex: number | null = 0;\n\n    constructor(private _elementRef: ElementRef, private _focusMonitor: FocusMonitor) {\n        this._focusMonitor.monitor(this._elementRef.nativeElement, false);\n    }\n\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.hostElement.focus();\n    }\n\n    onClick($event: MouseEvent) {\n        if (!this.readonly) {\n            $event.stopPropagation();\n\n            this.selectedChange.emit(!this.selected);\n        }\n    }\n\n    private get hostElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    onKeyDown($event: KeyboardEvent) {\n        // tslint:disable-next-line:deprecation\n        switch ($event.keyCode) {\n            case SPACE:\n                if (!this.readonly) {\n                    $event.preventDefault();\n                    this.selectedChange.emit(!this.selected);\n                }\n                break;\n            default:\n        }\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport {\n    McCard\n} from './card.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        PlatformModule\n    ],\n    exports: [McCard],\n    declarations: [McCard]\n})\nexport class McCardModule {}\n"],"names":["EventEmitter","SPACE","Component","ChangeDetectionStrategy","ViewEncapsulation","ElementRef","FocusMonitor","HostBinding","Input","Output","NgModule","CommonModule","A11yModule","PlatformModule"],"mappings":";;;;;;;;;;;;QAiDI,gBAAoB,WAAuB,EAAU,aAA2B;YAA5D,gBAAW,GAAX,WAAW,CAAY;YAAU,kBAAa,GAAb,aAAa,CAAc;YAVhF,aAAQ,GAAG,KAAK,CAAC;YAGjB,aAAQ,GAAG,KAAK,CAAC;YAGjB,mBAAc,GAAG,IAAIA,iBAAY,EAAW,CAAC;YAErC,cAAS,GAAkB,CAAC,CAAC;YAGjC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SACrE;QAvBD,sBAAI,4BAAQ;;;;YAAZ;gBACI,OAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;aAChD;;;;;YAED,UAEa,KAAoB;gBAC7B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aAC1B;;;WANA;;;;QAuBD,4BAAW;;;QAAX;YACI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SACrE;;;;QAED,sBAAK;;;QAAL;YACI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;SAC5B;;;;;QAED,wBAAO;;;;QAAP,UAAQ,MAAkB;YACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,MAAM,CAAC,eAAe,EAAE,CAAC;gBAEzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC5C;SACJ;QAED,sBAAY,+BAAW;;;;;YAAvB;gBACI,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;aACzC;;;WAAA;;;;;QAED,0BAAS;;;;QAAT,UAAU,MAAqB;;YAE3B,QAAQ,MAAM,CAAC,OAAO;gBAClB,KAAKC,cAAK;oBACN,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;wBAChB,MAAM,CAAC,cAAc,EAAE,CAAC;wBACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAC5C;oBACD,MAAM;gBACV,QAAQ;aACX;SACJ;;oBAxEJC,cAAS,SAAC;wBACP,QAAQ,EAAE,SAAS;wBACnB,+EAAoC;wBAEpC,eAAe,EAAEC,4BAAuB,CAAC,MAAM;wBAC/C,aAAa,EAAEC,sBAAiB,CAAC,IAAI;wBACrC,MAAM,EAAE,CAAC,OAAO,CAAC;wBACjB,IAAI,EAAE;4BACF,KAAK,EAAE,SAAS;4BAChB,0BAA0B,EAAE,UAAU;4BACtC,0BAA0B,EAAE,UAAU;4BACtC,WAAW,EAAE,mBAAmB;4BAChC,SAAS,EAAE,iBAAiB;yBAC/B;;qBACJ;;;;oBArBGC,eAAU;oBALLC,iBAAY;;;+BAgChBC,gBAAW,SAAC,eAAe,cAC3BC,UAAK;+BAKLA,UAAK;+BAGLA,UAAK;qCAGLC,WAAM;;QAyCX,aAAC;KAzED,IAyEC;;;QA/CG,0BACiB;;QAEjB,0BACiB;;QAEjB,gCAC6C;;;;;QAE7C,2BAAqC;;;;;QAEzB,6BAA+B;;;;;QAAE,+BAAmC;;;;;;;;;QCvCpF;SAS4B;;oBAT3BC,aAAQ,SAAC;wBACN,OAAO,EAAE;4BACLC,mBAAY;4BACZC,eAAU;4BACVC,uBAAc;yBACjB;wBACD,OAAO,EAAE,CAAC,MAAM,CAAC;wBACjB,YAAY,EAAE,CAAC,MAAM,CAAC;qBACzB;;QAC0B,mBAAC;KAT5B;;;;;;;;;;;;;"}