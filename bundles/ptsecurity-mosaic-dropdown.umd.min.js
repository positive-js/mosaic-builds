!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/common"),require("@ptsecurity/mosaic/icon"),require("@angular/cdk/portal"),require("rxjs"),require("@angular/cdk/a11y"),require("@ptsecurity/mosaic/core"),require("@angular/cdk/bidi"),require("@angular/cdk/platform"),require("@ptsecurity/cdk/keycodes"),require("rxjs/operators"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("@ptsecurity/cdk/a11y"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/dropdown",["exports","@angular/core","@angular/cdk/overlay","@angular/common","@ptsecurity/mosaic/icon","@angular/cdk/portal","rxjs","@angular/cdk/a11y","@ptsecurity/mosaic/core","@angular/cdk/bidi","@angular/cdk/platform","@ptsecurity/cdk/keycodes","rxjs/operators","@angular/cdk/coercion","@angular/cdk/keycodes","@ptsecurity/cdk/a11y","@angular/animations"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).ptsecurity=t.ptsecurity||{},t.ptsecurity.mosaic=t.ptsecurity.mosaic||{},t.ptsecurity.mosaic.dropdown={}),t.ng.core,t.ng.cdk.overlay,t.ng.common,t.ptsecurity.mosaic.icon,t.ng.cdk.portal,t.rxjs,t.ng.cdk.a11y,t.ptsecurity.mosaic.core,t.ng.cdk.bidi,t.ng.cdk.platform,t.mc.cdk.keycodes,t.rxjs.operators,t.ng.cdk.coercion,t.ng.cdk.keycodes,t.mc.cdk.a11y,t.ng.animations)}(this,(function(t,e,o,n,r,i,s,a,p,d,c,l,u,h,m,f,y){"use strict";var g=new e.InjectionToken("MC_DROPDOWN_PANEL"),w=new e.InjectionToken("mc-dropdown-default-options",{providedIn:"root",factory:v});function v(){return{overlapTriggerX:!0,overlapTriggerY:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:!1}}var b=function(){function t(t,e,o,n,r,i){this.template=t,this.componentFactoryResolver=e,this.appRef=o,this.injector=n,this.viewContainerRef=r,this.document=i,this.attached=new s.Subject}return t.prototype.attach=function(t){void 0===t&&(t={}),this.portal||(this.portal=new i.TemplatePortal(this.template,this.viewContainerRef)),this.detach(),this.outlet||(this.outlet=new i.DomPortalOutlet(this.document.createElement("div"),this.componentFactoryResolver,this.appRef,this.injector));var e=this.template.elementRef.nativeElement;e.parentNode.insertBefore(this.outlet.outletElement,e),this.portal.attach(this.outlet,t),this.attached.next()},t.prototype.detach=function(){this.portal.isAttached&&this.portal.detach()},t.prototype.ngOnDestroy=function(){var t;null===(t=this.outlet)||void 0===t||t.dispose()},t}();b.decorators=[{type:e.Directive,args:[{selector:"ng-template[mcDropdownContent]"}]}],b.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector},{type:e.ViewContainerRef},{type:void 0,decorators:[{type:e.Inject,args:[n.DOCUMENT]}]}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var _=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)};Object.create;function k(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k(arguments[e]));return t}Object.create;var O=function(t){function e(e,o,n){var r=t.call(this)||this;return r.elementRef=e,r.focusMonitor=o,r.parentDropdownPanel=n,r.hovered=new s.Subject,r.focused=new s.Subject,r.highlighted=!1,r.isNested=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e.prototype.ngAfterViewInit=function(){this.focusMonitor&&this.focusMonitor.monitor(this.elementRef,!1)},e.prototype.ngOnDestroy=function(){this.focusMonitor&&this.focusMonitor.stopMonitoring(this.elementRef),this.hovered.complete(),this.focused.complete()},e.prototype.resetStyles=function(){this.getHostElement().classList.remove("cdk-keyboard-focused")},e.prototype.focus=function(t,e){this.focusMonitor&&t?this.focusMonitor.focusVia(this.getHostElement(),t,e):this.getHostElement().focus(e),this.focused.next(this)},e.prototype.getHostElement=function(){return this.elementRef.nativeElement},e.prototype.getTabIndex=function(){return this.disabled?"-1":"0"},e.prototype.checkDisabled=function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())},e.prototype.handleMouseEnter=function(){this.hovered.next(this)},e.prototype.getLabel=function(){for(var t,e,o=this.getHostElement().cloneNode(!0),n=o.querySelectorAll("[mc-icon], .mc-icon"),r=0;r<n.length;r++){var i=n[r];null===(t=i.parentNode)||void 0===t||t.removeChild(i)}return(null===(e=o.textContent)||void 0===e?void 0:e.trim())||""},e}(p.mixinDisabled((function(){})));function P(){throw Error('mcDropdownTriggerFor: must pass in an mc-dropdown instance.\n    Example:\n      <mc-dropdown #dropdown="mcDropdown"></mc-dropdown>\n      <button [mcDropdownTriggerFor]="dropdown"></button>')}function I(){throw Error("xPosition value must be either 'before' or after'.\n      Example: <mc-dropdown [xPosition]=\"'before'\" #dropdown=\"mcDropdown\"></mc-dropdown>")}function C(){throw Error("yPosition value must be either 'above' or below'.\n      Example: <mc-dropdown [yPosition]=\"'above'\" #dropdown=\"mcDropdown\"></mc-dropdown>")}O.decorators=[{type:e.Component,args:[{selector:"mc-dropdown-item, [mc-dropdown-item]",exportAs:"mcDropdownItem",template:'<div class="mc-dropdown-item-wrapper">\n    <ng-content></ng-content>\n</div>\n<i *ngIf="isNested" mc-icon="mc-angle-right-M_16" class="mc-dropdown-trigger__icon"></i>\n',inputs:["disabled"],host:{class:"mc-dropdown-item","[class.mc-dropdown-item_with-icon]":"icon","[class.mc-dropdown-item_highlighted]":"highlighted","[attr.disabled]":"disabled || null","[attr.tabindex]":"getTabIndex()"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".mc-dropdown-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;position:relative;box-sizing:border-box;width:100%;border:1px solid transparent;outline:none;padding:0;text-align:left;white-space:nowrap}.mc-dropdown-item:not([disabled]){cursor:pointer}.mc-dropdown-item .mc-dropdown-item__caption{margin-top:4px}.mc-dropdown-item.mc-dropdown-item_with-icon .mc-dropdown-item__caption{margin-left:24px}.mc-dropdown-item .docs-navbar-version__num{margin-right:4px}.mc-dropdown-item-wrapper{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:var(--mc-dropdown-item-size-padding,5px 15px)}.mc-dropdown-item-wrapper [mc-icon]{padding:var(--mc-dropdown-item-size-icon-padding,0 8px 2px 0)}.mc-dropdown-trigger__icon{margin-left:auto;padding-right:var(--dropdown-trigger-size-icon-padding-right,8px)}.mc-dropdown__group-header{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:var(--mc-dropdown-item-size-padding,6px 15px)}.mc-dropdown__group-header.mc-dropdown__group-header_small{padding:var(--mc-dropdown-item-size-padding,8px 15px)}.mc-dropdown__divider{height:var(--mc-dropdown-item-size-padding,1px);margin:var(--mc-dropdown-item-size-padding,4px 0)}"]}]}],O.ctorParameters=function(){return[{type:e.ElementRef},{type:a.FocusMonitor},{type:void 0,decorators:[{type:e.Inject,args:[g]},{type:e.Optional}]}]},O.propDecorators={icon:[{type:e.ContentChild,args:[r.McIcon]}],checkDisabled:[{type:e.HostListener,args:["click",["$event"]]}],handleMouseEnter:[{type:e.HostListener,args:["mouseenter"]}]};var R={transformDropdown:y.trigger("transformDropdown",[y.state("void",y.style({opacity:0,transform:"scale(0.8)"})),y.transition("void => enter",y.group([y.query(".mc-dropdown__content",y.animate("50ms linear",y.style({opacity:1}))),y.animate("50ms cubic-bezier(0, 0, 0.2, 1)",y.style({transform:"scale(1)"}))])),y.transition("* => void",y.animate("50ms 25ms linear",y.style({opacity:0})))]),fadeInItems:y.trigger("fadeInItems",[y.state("showing",y.style({opacity:1})),y.transition("void => *",[y.style({opacity:0}),y.animate("200ms 60ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},x=R.fadeInItems,T=R.transformDropdown,E=function(){function t(t,o,n){this.elementRef=t,this.ngZone=o,this.defaultOptions=n,this.navigationWithWrap=!1,this._xPosition=this.defaultOptions.xPosition,this._yPosition=this.defaultOptions.yPosition,this._overlapTriggerX=this.defaultOptions.overlapTriggerX,this._overlapTriggerY=this.defaultOptions.overlapTriggerY,this._hasBackdrop=this.defaultOptions.hasBackdrop,this.triggerWidth="",this.classList={},this.panelAnimationState="void",this.animationDone=new s.Subject,this.backdropClass=this.defaultOptions.backdropClass,this.closed=new e.EventEmitter,this.directDescendantItems=new e.QueryList,this.tabSubscription=s.Subscription.EMPTY}return Object.defineProperty(t.prototype,"xPosition",{get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&I(),this._xPosition=t,this.setPositionClasses()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yPosition",{get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&C(),this._yPosition=t,this.setPositionClasses()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlapTriggerY",{get:function(){return this._overlapTriggerY},set:function(t){this._overlapTriggerY=h.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlapTriggerX",{get:function(){return this._overlapTriggerX},set:function(t){this._overlapTriggerX=h.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=h.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelClass",{set:function(t){var e=this,o=this.previousPanelClass;o&&o.length&&o.split(" ").forEach((function(t){return e.classList[t]=!1})),this.previousPanelClass=t,(null==t?void 0:t.length)&&(t.split(" ").forEach((function(t){return e.classList[t]=!0})),this.elementRef.nativeElement.className="")},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.setPositionClasses()},t.prototype.ngAfterContentInit=function(){var t=this;this.updateDirectDescendants(),this.keyManager=new f.FocusKeyManager(this.directDescendantItems).withTypeAhead(),this.navigationWithWrap&&this.keyManager.withWrap(),this.tabSubscription=this.keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this.directDescendantItems.changes.pipe(u.startWith(this.directDescendantItems),u.switchMap((function(t){return s.merge.apply(void 0,D(t.map((function(t){return t.focused}))))}))).subscribe((function(e){return t.keyManager.updateActiveItem(e)}))},t.prototype.ngOnDestroy=function(){this.directDescendantItems.destroy(),this.tabSubscription.unsubscribe(),this.closed.complete()},t.prototype.hovered=function(){return this.directDescendantItems.changes.pipe(u.startWith(this.directDescendantItems),u.switchMap((function(t){return s.merge.apply(void 0,D(t.map((function(t){return t.hovered}))))})))},t.prototype.handleKeydown=function(t){var e=t.keyCode;switch(e){case l.ESCAPE:this.closed.emit("keydown");break;case l.LEFT_ARROW:this.parent&&"ltr"===this.direction&&this.closed.emit("keydown");break;case l.RIGHT_ARROW:this.parent&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return e!==m.UP_ARROW&&e!==m.DOWN_ARROW||this.keyManager.setFocusOrigin("keyboard"),void this.keyManager.onKeydown(t)}t.stopPropagation()},t.prototype.focusFirstItem=function(t){var e=this;void 0===t&&(t="program"),this.lazyContent?this.ngZone.onStable.pipe(u.take(1)).subscribe((function(){return e.keyManager.setFocusOrigin(t).setFirstItemActive()})):this.keyManager.setFocusOrigin(t).setFirstItemActive()},t.prototype.resetActiveItem=function(){var t;null===(t=this.keyManager.activeItem)||void 0===t||t.resetStyles(),this.keyManager.setActiveItem(-1)},t.prototype.setPositionClasses=function(t,e){void 0===t&&(t=this.xPosition),void 0===e&&(e=this.yPosition);var o=this.classList;o["mc-dropdown-before"]="before"===t,o["mc-dropdown-after"]="after"===t,o["mc-dropdown-above"]="above"===e,o["mc-dropdown-below"]="below"===e},t.prototype.startAnimation=function(){this.panelAnimationState="enter"},t.prototype.resetAnimation=function(){this.panelAnimationState="void"},t.prototype.onAnimationDone=function(t){this.animationDone.next(t),this.isAnimating=!1},t.prototype.onAnimationStart=function(t){this.isAnimating=!0,"enter"===t.toState&&0===this.keyManager.activeItemIndex&&(t.element.scrollTop=0)},t.prototype.updateDirectDescendants=function(){var t=this;this.items.changes.pipe(u.startWith(this.items)).subscribe((function(e){t.directDescendantItems.reset(e.filter((function(e){return e.parentDropdownPanel===t}))),t.directDescendantItems.notifyOnChanges()}))},t}();E.decorators=[{type:e.Component,args:[{selector:"mc-dropdown",exportAs:"mcDropdown",template:'<ng-template>\n    <div class="mc-dropdown__panel"\n         [ngClass]="classList"\n         [class.mc-dropdown__panel_nested]="parent"\n         [style.min-width]="triggerWidth"\n         (keydown)="handleKeydown($event)"\n         (click)="closed.emit(\'click\')"\n         [@transformDropdown]="panelAnimationState"\n         (@transformDropdown.start)="onAnimationStart($event)"\n         (@transformDropdown.done)="onAnimationDone($event)"\n         tabindex="-1">\n\n        <div class="mc-dropdown__content">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,animations:[R.transformDropdown,R.fadeInItems],providers:[{provide:g,useExisting:E}],styles:[".mc-dropdown__panel{margin-top:-1px;max-width:var(--mc-dropdown-panel-size-max-width,640px);border-width:var(--mc-dropdown-panel-size-border-width,1px);border-style:solid;border-bottom-left-radius:var(--mc-dropdown-panel-size-border-radius,3px);border-bottom-right-radius:var(--mc-dropdown-panel-size-border-radius,3px);padding:var(--mc-dropdown-panel-size-padding,4px 0)}.mc-dropdown__panel.mc-dropdown__panel_nested{border-top-left-radius:var(--mc-dropdown-panel-size-border-radius,3px);border-top-right-radius:var(--mc-dropdown-panel-size-border-radius,3px)}.mc-dropdown__panel.ng-animating{pointer-events:none}.mc-dropdown__content{display:flex;flex-direction:column}"]}]}],E.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:void 0,decorators:[{type:e.Inject,args:[w]}]}]},E.propDecorators={navigationWithWrap:[{type:e.Input}],xPosition:[{type:e.Input}],yPosition:[{type:e.Input}],overlapTriggerY:[{type:e.Input}],overlapTriggerX:[{type:e.Input}],hasBackdrop:[{type:e.Input}],panelClass:[{type:e.Input,args:["class"]}],backdropClass:[{type:e.Input}],templateRef:[{type:e.ViewChild,args:[e.TemplateRef,{static:!1}]}],items:[{type:e.ContentChildren,args:[O,{descendants:!0}]}],lazyContent:[{type:e.ContentChild,args:[b,{static:!1}]}],closed:[{type:e.Output}]};var S=new e.InjectionToken("mc-dropdown-scroll-strategy");function A(t){return function(){return t.scrollStrategies.reposition()}}var M={provide:S,deps:[o.Overlay],useFactory:A},N=c.normalizePassiveListenerOptions({passive:!0}),j=function(){function t(t,o,n,r,i,a,p,d){var c=this;this.overlay=t,this.elementRef=o,this.viewContainerRef=n,this.scrollStrategy=r,this.parent=i,this.dropdownItemInstance=a,this._dir=p,this.focusMonitor=d,this.openByArrowDown=!0,this.restoreFocus=!0,this.dropdownOpened=new e.EventEmitter,this.dropdownClosed=new e.EventEmitter,this._opened=!1,this.overlayRef=null,this.closeSubscription=s.Subscription.EMPTY,this.hoverSubscription=s.Subscription.EMPTY,this.handleTouchStart=function(){return c.openedBy="touch"},o.nativeElement.addEventListener("touchstart",this.handleTouchStart,N),a&&(a.isNested=this.isNested())}return Object.defineProperty(t.prototype,"dropdown",{get:function(){return this._dropdown},set:function(t){var e=this;t!==this._dropdown&&(this._dropdown=t,this.closeSubscription.unsubscribe(),t&&(this.closeSubscription=t.closed.asObservable().subscribe((function(t){e.destroy(t),["click","tab"].includes(t)&&e.parent&&e.parent.closed.emit(t)}))))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){var t;return"rtl"===(null===(t=this._dir)||void 0===t?void 0:t.value)?"rtl":"ltr"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},enumerable:!1,configurable:!0}),t.prototype.ngAfterContentInit=function(){this.check(),this.handleHover()},t.prototype.ngOnDestroy=function(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null),this.elementRef.nativeElement.removeEventListener("touchstart",this.handleTouchStart,N),this.cleanUpSubscriptions()},t.prototype.isNested=function(){return!(!this.dropdownItemInstance||!this.parent)},t.prototype.toggle=function(){return this._opened?this.close():this.open()},t.prototype.open=function(){var t=this;if(!this._opened){this.check();var e=this.createOverlay(),o=e.getConfig();this.setPosition(o.positionStrategy),o.hasBackdrop=this.dropdown.hasBackdrop?!this.isNested():this.dropdown.hasBackdrop,e.attach(this.getPortal()),this.dropdown.lazyContent&&this.dropdown.lazyContent.attach(this.data),this.closeSubscription=this.closingActions().subscribe((function(){return t.close()})),this.init(),this.dropdown instanceof E&&this.dropdown.startAnimation()}},t.prototype.close=function(){this.dropdown.closed.emit()},t.prototype.focus=function(t){void 0===t&&(t="program"),this.focusMonitor?this.focusMonitor.focusVia(this.elementRef.nativeElement,t):this.elementRef.nativeElement.focus()},t.prototype.handleMousedown=function(t){this.openedBy=0===t.button?"mouse":void 0,this.isNested()&&t.preventDefault()},t.prototype.handleKeydown=function(t){var e=t.keyCode;e!==l.ENTER&&e!==l.SPACE||(this.openedBy="keyboard"),(this.isNested()&&(e===l.RIGHT_ARROW&&"ltr"===this.dir||e===l.LEFT_ARROW&&"rtl"===this.dir)||!this.isNested()&&e===l.DOWN_ARROW&&this.openByArrowDown)&&(t.preventDefault(),this.openedBy="keyboard",this.open())},t.prototype.handleClick=function(t){this.isNested()?(t.stopPropagation(),this.open()):this.toggle()},t.prototype.destroy=function(t){var e,o=this;if(this.overlayRef&&this.opened)if(this.dropdown.resetActiveItem(),this.closeSubscription.unsubscribe(),this.overlayRef.detach(),this.restoreFocus&&"keydown"===t&&this.isNested()&&this.focus(this.openedBy),this.dropdown instanceof E){this.dropdown.resetAnimation();var n=this.dropdown.animationDone.pipe(u.filter((function(t){return"void"===t.toState})),u.take(1));this.dropdown.lazyContent&&n.pipe(u.takeUntil(this.dropdown.lazyContent.attached)),n.subscribe({next:this.dropdown.lazyContent?function(){var t;return null===(t=o.dropdown.lazyContent)||void 0===t?void 0:t.detach()}:void 0,error:void 0,complete:function(){o.reset()}})}else this.reset(),null===(e=this.dropdown.lazyContent)||void 0===e||e.detach()},t.prototype.init=function(){this.dropdown.parent=this.isNested()?this.parent:void 0,this.dropdown.direction=this.dir,this.dropdown.parent||(this.dropdown.triggerWidth=this.getWidth()),this.setIsOpened(!0),this.dropdown.focusFirstItem(this.openedBy)},t.prototype.reset=function(){this.setIsOpened(!1),this.openedBy?this.isNested()||this.focus(this.openedBy):this.focus(),this.openedBy=void 0},t.prototype.setIsOpened=function(t){this._opened=t,this._opened?this.dropdownOpened.emit():this.dropdownClosed.emit(),this.isNested()&&(this.dropdownItemInstance.highlighted=t)},t.prototype.check=function(){this.dropdown||P()},t.prototype.createOverlay=function(){if(!this.overlayRef){var t=this.getOverlayConfig();this.subscribeToPositions(t.positionStrategy),this.overlayRef=this.overlay.create(t),this.overlayRef.keydownEvents().subscribe()}return this.overlayRef},t.prototype.getOverlayConfig=function(){return new o.OverlayConfig({positionStrategy:this.overlay.position().flexibleConnectedTo(this.elementRef).withLockedPosition().withTransformOriginOn(".mc-dropdown__panel"),backdropClass:this.dropdown.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this.scrollStrategy(),direction:this.dir})},t.prototype.subscribeToPositions=function(t){var e=this;this.dropdown.setPositionClasses&&t.positionChanges.subscribe((function(t){var o="start"===t.connectionPair.overlayX?"after":"before",n="top"===t.connectionPair.overlayY?"below":"above";e.dropdown.setPositionClasses(o,n)}))},t.prototype.setPosition=function(t){var e=k("before"===this.dropdown.xPosition?["end","start","end","start"]:["start","end","start","end"],4),o=e[0],n=e[1],r=e[2],i=e[3],s=k("above"===this.dropdown.yPosition?["bottom","top","bottom","top"]:["top","bottom","top","bottom"],4),a=s[0],p=s[1],d=s[2],c=s[3],l=0,u=0;this.isNested()?(i=o="before"===this.dropdown.xPosition?"start":"end",n=r="end"===o?"start":"end",l="bottom"===a?4:-4,u=8):(this.dropdown.overlapTriggerY||(d="top"===a?"bottom":"top",c="top"===p?"bottom":"top"),this.dropdown.overlapTriggerX||(i=o="before"===this.dropdown.xPosition?"start":"end",n=r="end"===o?"start":"end")),t.withPositions([{originX:o,originY:d,overlayX:r,overlayY:a,offsetY:l,offsetX:-u},{originX:n,originY:d,overlayX:i,overlayY:a,offsetY:l,offsetX:u},{originX:o,originY:c,overlayX:r,overlayY:p,offsetY:-l,offsetX:-u},{originX:n,originY:c,overlayX:i,overlayY:p,offsetY:-l,offsetX:-u}])},t.prototype.cleanUpSubscriptions=function(){this.closeSubscription.unsubscribe(),this.hoverSubscription.unsubscribe()},t.prototype.closingActions=function(){var t=this,e=this.overlayRef.backdropClick(),o=this.overlayRef.outsidePointerEvents(),n=this.overlayRef.detachments(),r=this.parent?this.parent.closed:s.of(),i=this.parent?this.parent.hovered().pipe(u.filter((function(e){return e!==t.dropdownItemInstance})),u.filter((function(){return t._opened}))):s.of();return s.merge(e,o,r,i,n)},t.prototype.handleHover=function(){var t=this;this.isNested()&&(this.hoverSubscription=this.parent.hovered().pipe(u.filter((function(e){return e===t.dropdownItemInstance&&!e.disabled})),u.delay(0,s.asapScheduler)).subscribe((function(){t.openedBy="mouse",t.dropdown instanceof E&&t.dropdown.isAnimating?t.dropdown.animationDone.pipe(u.take(1),u.delay(0,s.asapScheduler),u.takeUntil(t.parent.hovered())).subscribe((function(){return t.open()})):t.open()})))},t.prototype.getPortal=function(){return this.portal&&this.portal.templateRef===this.dropdown.templateRef||(this.portal=new i.TemplatePortal(this.dropdown.templateRef,this.viewContainerRef)),this.portal},t.prototype.getWidth=function(){var t=this.elementRef.nativeElement,e=window.getComputedStyle(t),o=e.width,n=e.borderRightWidth,r=e.borderLeftWidth;return parseInt(o)-parseInt(n)-parseInt(r)+"px"},t}();j.decorators=[{type:e.Directive,args:[{selector:"[mcDropdownTriggerFor]",exportAs:"mcDropdownTrigger",host:{class:"mc-dropdown-trigger","[class.mc-pressed]":"opened","(mousedown)":"handleMousedown($event)","(keydown)":"handleKeydown($event)","(click)":"handleClick($event)"}}]}],j.ctorParameters=function(){return[{type:o.Overlay},{type:e.ElementRef},{type:e.ViewContainerRef},{type:void 0,decorators:[{type:e.Inject,args:[S]}]},{type:E,decorators:[{type:e.Optional}]},{type:O,decorators:[{type:e.Optional},{type:e.Self}]},{type:d.Directionality,decorators:[{type:e.Optional}]},{type:a.FocusMonitor}]},j.propDecorators={data:[{type:e.Input,args:["mcDropdownTriggerData"]}],openByArrowDown:[{type:e.Input}],restoreFocus:[{type:e.Input,args:["mcDropdownTriggerRestoreFocus"]}],dropdown:[{type:e.Input,args:["mcDropdownTriggerFor"]}],dropdownOpened:[{type:e.Output}],dropdownClosed:[{type:e.Output}]};var W=function(){};W.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.OverlayModule,r.McIconModule],exports:[E,O,j,b],declarations:[E,O,j,b],providers:[M]}]}],t.MC_DROPDOWN_DEFAULT_OPTIONS=w,t.MC_DROPDOWN_DEFAULT_OPTIONS_FACTORY=v,t.MC_DROPDOWN_PANEL=g,t.MC_DROPDOWN_SCROLL_STRATEGY=S,t.MC_DROPDOWN_SCROLL_STRATEGY_FACTORY=A,t.MC_DROPDOWN_SCROLL_STRATEGY_FACTORY_PROVIDER=M,t.McDropdown=E,t.McDropdownContent=b,t.McDropdownItem=O,t.McDropdownModule=W,t.McDropdownTrigger=j,t.NESTED_PANEL_LEFT_PADDING=8,t.NESTED_PANEL_TOP_PADDING=4,t.fadeInItems=x,t.mcDropdownAnimations=R,t.throwMcDropdownInvalidPositionX=I,t.throwMcDropdownInvalidPositionY=C,t.throwMcDropdownMissingError=P,t.transformDropdown=T,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-dropdown.umd.min.js.map