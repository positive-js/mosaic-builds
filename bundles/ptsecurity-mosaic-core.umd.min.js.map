{"version":3,"sources":["../../../packages/mosaic/core/common-behaviors/common-module.ts","../../../node_modules/tslib/tslib.es6.js","../../../packages/mosaic/core/common-behaviors/color.ts","../../../packages/mosaic/core/common-behaviors/disabled.ts","../../../packages/mosaic/core/line/line.ts","../../../packages/mosaic/core/error/error-options.ts","../../../packages/mosaic/core/formatters/date/templates/en-US.ts","../../../packages/mosaic/core/formatters/date/templates/ru-RU.ts","../../../packages/mosaic/core/formatters/date/formatter.ts","../../../packages/mosaic/core/formatters/number/formatter.ts","../../../packages/mosaic/core/formatters/index.ts","../../../packages/mosaic/core/validation/validation.ts","../../../packages/mosaic/core/highlight/highlight.pipe.ts","../../../packages/mosaic/core/highlight/index.ts","../../../packages/mosaic/core/select/constants.ts","../../../packages/mosaic/core/overlay/overlay-position-map.ts","../../../packages/mosaic/core/animation/animation.ts","../../../packages/mosaic/core/animation/fade-animations.ts","../../../packages/mosaic/core/selection/constants.ts","../../../packages/mosaic/core/animation/select-animations.ts","../../../packages/mosaic/core/label/label-options.ts","../../../packages/mosaic/core/selection/pseudo-checkbox/pseudo-checkbox.ts","../../../packages/mosaic/core/selection/pseudo-checkbox/pseudo-checkbox.module.ts","../../../packages/mosaic/core/services/measure-scrollbar.service.ts","../../../packages/mosaic/core/option/optgroup.ts","../../../packages/mosaic/core/option/option.ts","../../../packages/mosaic/core/option/option-module.ts","../../../packages/mosaic/core/forms/forms.directive.ts","../../../packages/mosaic/core/forms/forms-module.ts","../../../packages/mosaic/core/select/errors.ts","../../../packages/mosaic/core/utils/utils.ts","../../../packages/mosaic/core/common-behaviors/error-state.ts","../../../packages/mosaic/core/common-behaviors/tabindex.ts","../../../packages/mosaic/core/select/events.ts"],"names":["MC_SANITY_CHECKS","InjectionToken","providedIn","factory","mcSanityChecksFactory","McCommonModule","_sanityChecksEnabled","this","hasDoneGlobalChecks","_document","document","_window","window","areChecksEnabled","checkDoctypeIsDefined","checkThemeIsPresent","prototype","isDevMode","isTestEnv","doctype","console","warn","getComputedStyle","testElement","createElement","classList","add","body","appendChild","computedStyle","display","removeChild","NgModule","args","imports","BidiModule","exports","Optional","type","Inject","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","__spread","arguments","length","concat","ThemePalette","mixinDisabled","base","_super","class_1","_i","_this","apply","_disabled","defineProperty","coerceBooleanProperty","Directive","selector","host","class","McLineSetter","_lines","_element","setLineClass","changes","subscribe","count","resetClasses","setClass","className","isAdd","nativeElement","remove","McLine","declarations","ShowOnDirtyErrorStateMatcher","isErrorState","control","form","invalid","dirty","submitted","Injectable","ErrorStateMatcher","touched","enUS","relativeTemplates","short","SECONDS_AGO","MINUTES_AGO","TODAY","YESTERDAY","BEFORE_YESTERDAY","long","absoluteTemplates","DATE","DATETIME","rangeTemplates","closedRange","START_DATE","END_DATE","START_DATETIME","END_DATETIME","middle","openedRange","ruRU","DateFormatter","adapter","locale","invalidDateErrorText","config","messageFormat","MessageFormat","setLocale","relativeDate","date","template","isDateInstance","Error","newTemplate","totalSeconds","Math","abs","diffNow","totalMinutes","floor","isToday","hasSame","today","isYesterday","templateVariables","assign","variables","compileVariables","SECONDS_PASSED","MINUTES_PASSED","compile","relativeShortDate","relativeLongDate","absoluteDate","params","datetime","milliseconds","SHOW_MILLISECONDS","absoluteShortDate","absoluteShortDateTime","options","absoluteLongDate","absoluteLongDateTime","openedRangeDate","startDate","endDate","startDateVariables","RANGE_TYPE","endDateVariables","openedRangeDateTime","rangeDate","sameMonth","SAME_MONTH","bothCurrentYear","CURRENT_YEAR","rangeDateTime","sameDay","SAME_DAY","rangeShortDate","rangeShortDateTime","rangeLongDate","rangeLongDateTime","rangeMiddleDateTime","compiledVariables","key","format","unit","DateAdapter","MC_DATE_LOCALE","MC_LOCALE_ID","NUMBER_FORMAT_REGEXP","ParsedDigitsInfo","McDecimalPipe","_locale","transform","digitsInfo","isEmpty","parsedDigitsInfo","currentLocale","parts","match","minIntPart","minFractionPart","maxFractionPart","result","minimumIntegerDigits","parseInt","minimumFractionDigits","maximumFractionDigits","parseDigitsInfo","useGrouping","num","isNaN","Number","parseFloat","strToNumber","Intl","NumberFormat","JSON","stringify","message","Pipe","name","providers","MC_VALIDATION","useValidation","setValidState","validator","clearValidators","updateValueAndValidity","emitEvent","setValidators","setMosaicValidationForModelControl","component","validators","parentForm","forEach","originalValidate","validate","RequiredValidator","focused","setMosaicValidationForFormControl","ngControl","originalValidator","errors","required","Promise","resolve","then","statusChanges","McHighlightPipe","replace","RegExp","CommonModule","MC_SELECT_SCROLL_STRATEGY","mcSelectScrollStrategyProviderFactory","overlay","scrollStrategies","reposition","MC_SELECT_SCROLL_STRATEGY_PROVIDER","provide","deps","Overlay","useFactory","POSITION_MAP","top","originX","originY","overlayX","overlayY","topCenter","topLeft","topRight","right","rightTop","rightBottom","bottom","bottomCenter","bottomLeft","bottomRight","left","leftTop","leftBottom","DEFAULT_4_POSITIONS","objectValues","EXTENDED_OVERLAY_POSITIONS","TOP_POSITION_PRIORITY","BOTTOM_POSITION_PRIORITY","RIGHT_POSITION_PRIORITY","LEFT_POSITION_PRIORITY","RIGHT_TOP_POSITION_PRIORITY","RIGHT_BOTTOM_POSITION_PRIORITY","LEFT_TOP_POSITION_PRIORITY","LEFT_BOTTOM_POSITION_PRIORITY","TOP_LEFT_POSITION_PRIORITY","TOP_RIGHT_POSITION_PRIORITY","BOTTOM_RIGHT_POSITION_PRIORITY","BOTTOM_LEFT_POSITION_PRIORITY","POSITION_PRIORITY_STRATEGY","baseValues","object","props","array","iteratee","index","arrayMap","keys","AnimationCurves","fadeAnimation","trigger","state","style","opacity","transition","animate","MultipleMode","mcSelectAnimations","transformPanel","minWidth","group","fadeInContent","MC_LABEL_GLOBAL_OPTIONS","disabled","Component","[class.mc-indeterminate]","[class.mc-checked]","[class.mc-disabled]","preserveWhitespaces","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","Input","McPseudoCheckbox","McMeasureScrollbarService","scrollbarMeasure","position","width","height","overflow","initScrollBarWidth","_scrollBarWidth","scrollDiv","scrollProp","offsetWidth","clientWidth","DOCUMENT","McOptgroupMixinBase","McOptgroupBase","uniqueOptgroupIdCounter","McOptgroup","labelId","exportAs","inputs","uniqueIdCounter","source","isUserInput","MC_OPTION_PARENT_COMPONENT","McOption","element","changeDetectorRef","parent","onSelectionChange","EventEmitter","stateChanges","Subject","_id","_selected","_active","mostRecentViewValue","undefined","_showCheckbox","multiple","getHostElement","textContent","trim","ngAfterViewChecked","viewValue","ngOnDestroy","complete","getHeight","DOMRect","getClientRects","select","markForCheck","emitSelectionChangeEvent","deselect","focus","setActiveStyles","setInactiveStyles","getLabel","handleKeydown","event","keyCode","ENTER","SPACE","selectViaInteraction","preventDefault","getTabIndex","emit","McOptionSelectionChange","[attr.tabindex]","[class.mc-selected]","[class.mc-option-multiple]","[class.mc-active]","[id]","(click)","(keydown)","ElementRef","ChangeDetectorRef","decorators","Output","McPseudoCheckboxModule","McFormElement","margin","isRow","isFieldSet","hasLegend","isHorizontal","ngAfterContentInit","contains","firstElementChild","[class.mc-form-row_margin]","ContentChildren","McForm","handleElements","elements","nextElement","get","SELECT_PANEL_PADDING_X","optionIndex","optionGroups","optionsArray","toArray","groups","groupCounter","optionHeight","currentScrollPosition","panelHeight","optionOffset","max","val","defaultColor","Default","color","_color","colorPalette","_elementRef","errorState","updateErrorState","oldState","parentFormGroup","matcher","errorStateMatcher","defaultErrorStateMatcher","newState","defaultTabIndex","Mixin","_tabIndex","coerceNumberProperty","ngSubmit","ngModel","rawValidators","formControlName"],"mappings":"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","sourcesContent":["import { BidiModule } from '@angular/cdk/bidi';\nimport { NgModule, InjectionToken, Optional, Inject, isDevMode } from '@angular/core';\n\n\n// Injection token that configures whether the Mosaic sanity checks are enabled.\nexport const MC_SANITY_CHECKS = new InjectionToken<boolean>('mc-sanity-checks', {\n    providedIn: 'root',\n    factory: mcSanityChecksFactory\n});\n\nexport function mcSanityChecksFactory(): boolean {\n    return true;\n}\n\n/**\n * Module that captures anything that should be loaded and/or run for *all* Mosaic\n * components. This includes Bidi, etc.\n *\n * This module should be imported to each top-level component module (e.g., McTabsModule).\n */\n@NgModule({\n    imports: [ BidiModule ],\n    exports: [ BidiModule ]\n})\nexport class McCommonModule {\n    // Whether we've done the global sanity checks (e.g. a theme is loaded, there is a doctype).\n    private hasDoneGlobalChecks = false;\n\n    // Reference to the global `document` object.\n    // tslint:disable-next-line: orthodox-getter-and-setter\n    private _document = typeof document === 'object' && document ? document : null;\n\n    // Reference to the global 'window' object.\n    // tslint:disable-next-line: orthodox-getter-and-setter\n    private _window = typeof window === 'object' && window ? window : null;\n\n    constructor(@Optional() @Inject(MC_SANITY_CHECKS) private _sanityChecksEnabled: boolean) {\n        if (this.areChecksEnabled() && !this.hasDoneGlobalChecks) {\n            this.checkDoctypeIsDefined();\n            this.checkThemeIsPresent();\n            this.hasDoneGlobalChecks = true;\n        }\n    }\n\n    // Whether any sanity checks are enabled\n    private areChecksEnabled(): boolean {\n        return this._sanityChecksEnabled && isDevMode() && !this.isTestEnv();\n    }\n\n    // Whether the code is running in tests.\n    private isTestEnv() {\n        // tslint:disable-next-line\n        return this._window && (this._window['__karma__'] || this._window['jasmine']);\n    }\n\n    private checkDoctypeIsDefined(): void {\n        if (this._document && !this._document.doctype) {\n            console.warn(\n                'Current document does not have a doctype. This may cause ' +\n                'some Mosaic components not to behave as expected.'\n            );\n        }\n    }\n\n    private checkThemeIsPresent(): void {\n        if (this._document && typeof getComputedStyle === 'function') {\n            const testElement = this._document.createElement('div');\n\n            testElement.classList.add('mc-theme-loaded-marker');\n            this._document.body.appendChild(testElement);\n\n            const computedStyle = getComputedStyle(testElement);\n\n            // In some situations, the computed style of the test element can be null. For example in\n            // Firefox, the computed style is null if an application is running inside of a hidden iframe.\n            // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n            if (computedStyle && computedStyle.display !== 'none') {\n                console.warn(\n                    'Could not find Mosaic core theme. Most Mosaic ' +\n                    'components may not work as expected. For more info refer ' +\n                    'to the theming guide: link there'\n                );\n            }\n\n            this._document.body.removeChild(testElement);\n        }\n    }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { ElementRef } from '@angular/core';\n\nimport { Constructor } from './constructor';\n\n\n// tslint:disable-next-line:naming-convention\nexport interface CanColor {\n    color: ThemePalette;\n}\n\n/** @docs-private */\nexport type CanColorCtor = Constructor<CanColor>;\n\n// tslint:disable-next-line:naming-convention\nexport interface HasElementRef {\n    _elementRef: ElementRef;\n}\n\nexport enum ThemePalette {\n    Primary = 'primary',\n    Second = 'second',\n    Error = 'error',\n    Default = 'second',\n    Empty = ''\n}\n\n/** Mixin to augment a directive with a `color` property. */\nexport function mixinColor<T extends Constructor<HasElementRef>>(\n    base: T,\n    defaultColor: ThemePalette = ThemePalette.Default\n): CanColorCtor & T {\n    return class extends base {\n\n        get color(): ThemePalette {\n            return this._color;\n        }\n\n        set color(value: ThemePalette) {\n            const colorPalette = value || defaultColor;\n\n            if (colorPalette !== this._color) {\n                if (this._color) {\n                    this._elementRef.nativeElement.classList.remove(`mc-${this._color}`);\n                }\n\n                if (colorPalette) {\n                    this._elementRef.nativeElement.classList.add(`mc-${colorPalette}`);\n                }\n\n                this._color = colorPalette;\n            }\n        }\n\n        private _color: ThemePalette;\n\n        constructor(...args: any[]) {\n            super(...args);\n\n            this.color = defaultColor;\n        }\n    };\n}\n\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\n\nimport { Constructor } from './constructor';\n\n\n// tslint:disable-next-line naming-convention\nexport interface CanDisable {\n    disabled: boolean;\n}\n\n/** @docs-private */\nexport type CanDisableCtor = Constructor<CanDisable>;\n\nexport function mixinDisabled<T extends Constructor<{}>>(base: T): CanDisableCtor & T {\n    return class extends base {\n        get disabled() {\n            return this._disabled;\n        }\n\n        set disabled(value: any) {\n            this._disabled = coerceBooleanProperty(value);\n        }\n\n        private _disabled: boolean = false;\n\n        constructor(...args: any[]) {\n            // tslint:disable-next-line\n            super(...args);\n        }\n    };\n}\n","import { NgModule, Directive, ElementRef, QueryList } from '@angular/core';\n\n\n/**\n * Shared directive to count lines inside a text area, such as a list item.\n * Line elements can be extracted with a @ContentChildren(McLine) query, then\n * counted by checking the query list's length.\n */\n@Directive({\n    selector: '[mc-line], [mcLine]',\n    host: { class: 'mc-line' }\n})\nexport class McLine {}\n\n/**\n * Helper that takes a query list of lines and sets the correct class on the host.\n * @docs-private\n */\nexport class McLineSetter {\n    constructor(private _lines: QueryList<McLine>, private _element: ElementRef) {\n        this.setLineClass(this._lines.length);\n\n        this._lines.changes.subscribe(() => {\n            this.setLineClass(this._lines.length);\n        });\n    }\n\n    private setLineClass(count: number): void {\n        const minLineClassNumber = 2;\n        const maxLineClassNumber = 3;\n        this.resetClasses();\n        if (count === minLineClassNumber || count === maxLineClassNumber) {\n            this.setClass(`mc-${count}-line`, true);\n        } else if (count > maxLineClassNumber) {\n            this.setClass(`mc-multi-line`, true);\n        }\n    }\n\n    private resetClasses(): void {\n        this.setClass('mc-2-line', false);\n        this.setClass('mc-3-line', false);\n        this.setClass('mc-multi-line', false);\n    }\n\n    private setClass(className: string, isAdd: boolean): void {\n        if (isAdd) {\n            this._element.nativeElement.classList.add(className);\n        } else {\n            this._element.nativeElement.classList.remove(className);\n        }\n    }\n}\n\n@NgModule({\n    imports: [],\n    exports: [McLine],\n    declarations: [McLine]\n})\nexport class McLineModule {}\n","import { Injectable } from '@angular/core';\nimport { FormGroupDirective, NgForm, FormControl } from '@angular/forms';\n\n\n/** Error state matcher that matches when a control is invalid and dirty. */\n@Injectable()\nexport class ShowOnDirtyErrorStateMatcher implements ErrorStateMatcher {\n    isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n        return !!(control && control.invalid && (control.dirty || (form && form.submitted)));\n    }\n}\n\n/** Provider that defines how form controls behave with regards to displaying error messages. */\n@Injectable({ providedIn: 'root' })\nexport class ErrorStateMatcher {\n    isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n        return !!(control && control.invalid && (control.touched || (form && form.submitted)));\n    }\n}\n","export const enUS = {\n    relativeTemplates: {\n        short: {\n            SECONDS_AGO: 'Just now',\n            MINUTES_AGO: '{MINUTES_PASSED}{NBSP}min ago',\n            TODAY: '{TIME}',\n            YESTERDAY: 'Yesterday, {TIME}',\n            BEFORE_YESTERDAY: '{CURRENT_YEAR, select, yes{{SHORT_DATE}, {TIME}} other{{SHORT_DATE}, {YEAR}}}'\n        },\n        long: {\n            SECONDS_AGO: 'Just now',\n            MINUTES_AGO: '{MINUTES_PASSED, plural, =1{#{NBSP}minute} other{#{NBSP}minutes}} ago',\n            TODAY: '{TIME}',\n            YESTERDAY: 'Yesterday, {TIME}',\n            BEFORE_YESTERDAY: '{CURRENT_YEAR, select, yes{{DATE}, {TIME}} other{{DATE}, {YEAR}}}'\n        }\n    },\n    absoluteTemplates: {\n        short: {\n            DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE}, {YEAR}}}',\n            DATETIME: `{\n                CURRENT_YEAR,\n                select,\n                    yes{{SHORT_DATE}, {TIME}}\n                    other{{SHORT_DATE}, {YEAR}, {TIME}}\n            }{\n                SHOW_MILLISECONDS,\n                select,\n                    yes{:{SECONDS}{MILLISECONDS}}\n                    other{}\n            }`\n        },\n        long: {\n            DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE}, {YEAR}}}',\n            DATETIME: `{\n                CURRENT_YEAR,\n                select,\n                    yes{{DATE}, {TIME}}\n                    other{{DATE}, {YEAR}, {TIME}}\n            }{\n                SHOW_MILLISECONDS,\n                select,\n                    yes{:{SECONDS}{MILLISECONDS}}\n                    other{}\n            }`\n        }\n    },\n    rangeTemplates: {\n        closedRange: {\n            short: {\n                START_DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE}, {YEAR}}}',\n                END_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}}\n                                other{{SHORT_DATE}, {YEAR}}\n                        }}\n                }`,\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}, {TIME}}\n                                other{{SHORT_DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{TIME}, {SHORT_DATE}}\n                                other{{TIME}, {SHORT_DATE}, {YEAR}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}, {TIME}}\n                                other{{SHORT_DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME}{DASH}{END_DATETIME}}\n                        other{{START_DATETIME}{LONG_DASH}{END_DATETIME}}\n                }`\n            },\n            middle: {\n                START_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}}\n                                other{{DATE}, {YEAR}}\n                        }}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE}, {YEAR}}}',\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{TIME}, {DATE}}\n                                other{{TIME}, {DATE}, {YEAR}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME}{DASH}{END_DATETIME}}\n                        other{{START_DATETIME}{LONG_DASH}{END_DATETIME}}\n                }`\n            },\n            long: {\n                START_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE}, {YEAR}}}',\n                END_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}}\n                                other{{DATE}, {YEAR}}\n                        }}\n                }`,\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, from{NBSP}{TIME}}\n                                other{{DATE}, {YEAR}, from{NBSP}{TIME}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{to{NBSP}{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE}, {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME} {END_DATETIME}}\n                        other{From {START_DATETIME} to{NBSP}{END_DATETIME}}\n                }`\n            }\n        },\n        openedRange: {\n            short: {\n                START_DATE: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}}\n                        other{{SHORT_DATE} {YEAR}}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE} {YEAR}}}',\n                DATE: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{From{NBSP}{START_DATE}}\n                        other{Until{NBSP}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}, {TIME}}\n                        other{{SHORT_DATE} {YEAR}, {TIME}}\n                }`,\n                END_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}, {TIME}}\n                        other{{SHORT_DATE} {YEAR}, {TIME}}\n                }`,\n                DATETIME: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{From{NBSP}{START_DATETIME}}\n                        other{Until{NBSP}{END_DATETIME}}\n                }`\n            },\n            long: {\n                START_DATE: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}}\n                        other{{DATE} {YEAR}}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE} {YEAR}}}',\n                DATE: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{From{NBSP}{START_DATE}}\n                        other{Until{NBSP}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}, {TIME}}\n                        other{{DATE} {YEAR}, {TIME}}\n                }`,\n                END_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}, {TIME}}\n                        other{{DATE} {YEAR}, {TIME}}\n                }`,\n                DATETIME: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{From{NBSP}{START_DATETIME}}\n                        other{Until{NBSP}{END_DATETIME}}\n                }`\n            }\n        }\n    }\n};\n","export const ruRU = {\n    relativeTemplates: {\n        short: {\n            SECONDS_AGO: ' ',\n            MINUTES_AGO: '{MINUTES_PASSED}{NBSP} ',\n            TODAY: '{TIME}',\n            YESTERDAY: ', {TIME}',\n            BEFORE_YESTERDAY: '{CURRENT_YEAR, select, yes{{SHORT_DATE}, {TIME}} other{{SHORT_DATE} {YEAR}}}'\n        },\n        long: {\n            SECONDS_AGO: ' ',\n            MINUTES_AGO: '{MINUTES_PASSED, plural, =1{#{NBSP}} =2{#{NBSP}} other{#{NBSP}}} ',\n            TODAY: '{TIME}',\n            YESTERDAY: ', {TIME}',\n            BEFORE_YESTERDAY: '{CURRENT_YEAR, select, yes{{DATE}, {TIME}} other{{DATE} {YEAR}}}'\n        }\n    },\n    absoluteTemplates: {\n        short: {\n            DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE} {YEAR}}}',\n            DATETIME: `{\n                CURRENT_YEAR,\n                select,\n                    yes{{SHORT_DATE}, {TIME}}\n                    other{{SHORT_DATE} {YEAR}, {TIME}}\n            }{\n                SHOW_MILLISECONDS,\n                select,\n                    yes{:{SECONDS}{MILLISECONDS}}\n                    other{}\n            }`\n        },\n        long: {\n            DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE} {YEAR}}}',\n            DATETIME: `{\n                CURRENT_YEAR,\n                select,\n                    yes{{DATE}, {TIME}}\n                    other{{DATE} {YEAR}, {TIME}}\n            }{\n                SHOW_MILLISECONDS,\n                select,\n                    yes{:{SECONDS}{MILLISECONDS}}\n                    other{}\n            }`\n        }\n    },\n    rangeTemplates: {\n        closedRange: {\n            short: {\n                START_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}}\n                                other{{SHORT_DATE} {YEAR}}\n                        }}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE} {YEAR}}}',\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}, {TIME}}\n                                other{{SHORT_DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{TIME}, {SHORT_DATE}}\n                                other{{TIME}, {SHORT_DATE} {YEAR}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{SHORT_DATE}, {TIME}}\n                                other{{SHORT_DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME}{DASH}{END_DATETIME}}\n                        other{{START_DATETIME}{LONG_DASH}{END_DATETIME}}\n                }`\n            },\n            middle: {\n                START_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}}\n                                other{{DATE} {YEAR}}\n                        }}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE} {YEAR}}}',\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{TIME}, {DATE}}\n                                other{{TIME}, {DATE} {YEAR}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME}{DASH}{END_DATETIME}}\n                        other{{START_DATETIME}{LONG_DASH}{END_DATETIME}}\n                }`\n            },\n            long: {\n                START_DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{DAY}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}}\n                                other{{DATE} {YEAR}}\n                        }}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE} {YEAR}}}',\n                DATE: `{\n                    SAME_MONTH,\n                    select,\n                        yes{{START_DATE}{DASH}{END_DATE}}\n                        other{{START_DATE}{LONG_DASH}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {NBSP}{TIME}}\n                                other{{DATE} {YEAR}, {NBSP}{TIME}}\n                        }}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                END_DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{NBSP}{TIME}}\n                        other{{\n                            CURRENT_YEAR,\n                            select,\n                                yes{{DATE}, {TIME}}\n                                other{{DATE} {YEAR}, {TIME}}\n                        }}\n                }`,\n                DATETIME: `{\n                    SAME_DAY,\n                    select,\n                        yes{{START_DATETIME} {END_DATETIME}}\n                        other{{NBSP}{START_DATETIME} {NBSP}{END_DATETIME}}\n                }`\n            }\n        },\n        openedRange: {\n            short: {\n                START_DATE: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}}\n                        other{{SHORT_DATE} {YEAR}}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{SHORT_DATE}} other{{SHORT_DATE} {YEAR}}}',\n                DATE: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{{NBSP}{START_DATE}}\n                        other{{NBSP}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}, {TIME}}\n                        other{{SHORT_DATE} {YEAR}, {TIME}}\n                }`,\n                END_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{SHORT_DATE}, {TIME}}\n                        other{{SHORT_DATE} {YEAR}, {TIME}}\n                }`,\n                DATETIME: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{{NBSP}{START_DATETIME}}\n                        other{{NBSP}{END_DATETIME}}\n                }`\n            },\n            long: {\n                START_DATE: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}}\n                        other{{DATE} {YEAR}}\n                }`,\n                END_DATE: '{CURRENT_YEAR, select, yes{{DATE}} other{{DATE} {YEAR}}}',\n                DATE: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{{NBSP}{START_DATE}}\n                        other{{NBSP}{END_DATE}}\n                }`,\n\n                START_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}, {TIME}}\n                        other{{DATE} {YEAR}, {TIME}}\n                }`,\n                END_DATETIME: `{\n                    CURRENT_YEAR,\n                    select,\n                        yes{{DATE}, {TIME}}\n                        other{{DATE} {YEAR}, {TIME}}\n                }`,\n                DATETIME: `{\n                    RANGE_TYPE,\n                    select,\n                        onlyStart{{NBSP}{START_DATETIME}}\n                        other{{NBSP}{END_DATETIME}}\n                }`\n            }\n        }\n    }\n};\n","// tslint:disable:no-magic-numbers\nimport { Inject, Injectable } from '@angular/core';\nimport { DateAdapter, MC_DATE_LOCALE } from '@ptsecurity/cdk/datetime';\nimport * as MessageFormat from 'messageformat';\n\nimport { enUS } from './templates/en-US';\nimport { ruRU } from './templates/ru-RU';\n\n\n/**\n * interface for absolute date or datetime formatter template\n */\n// tslint:disable-next-line:naming-convention\nexport interface FormatterAbsoluteTemplate {\n    variables?: { [name: string]: string };\n    DATE: string;\n    DATETIME: string;\n}\n\n/**\n * interface for range date or datetime formatter template\n */\n// tslint:disable-next-line:naming-convention\nexport interface FormatterRangeTemplate {\n    variables?: { [name: string]: string };\n    START_DATE: string;\n    END_DATE: string;\n    DATE: string;\n    START_DATETIME: string;\n    END_DATETIME: string;\n    DATETIME: string;\n}\n\n/**\n * interface for relative date or datetime formatter template\n */\n// tslint:disable-next-line:naming-convention\nexport interface FormatterRelativeTemplate {\n    variables?: { [name: string]: string };\n    SECONDS_AGO: string;\n    MINUTES_AGO: string;\n    TODAY: string;\n    YESTERDAY: string;\n    BEFORE_YESTERDAY: string;\n}\n\n// tslint:disable-next-line:naming-convention\nexport interface AbsoluteDateTimeOptions {\n    milliseconds?: boolean;\n}\n\n// tslint:disable-next-line:naming-convention\nexport interface FormatterConfig {\n    relativeTemplates: {\n        short: FormatterRelativeTemplate;\n        long: FormatterRelativeTemplate;\n    };\n    absoluteTemplates: {\n        short: FormatterAbsoluteTemplate;\n        long: FormatterAbsoluteTemplate;\n    };\n    rangeTemplates: {\n        closedRange: {\n            short: FormatterRangeTemplate;\n            middle: FormatterRangeTemplate;\n            long: FormatterRangeTemplate;\n        };\n        openedRange: {\n            short: FormatterRangeTemplate;\n            long: FormatterRangeTemplate;\n        };\n    };\n}\n\n\n@Injectable()\nexport class DateFormatter<D> {\n    config: FormatterConfig;\n\n    private readonly invalidDateErrorText: string = 'Invalid date';\n\n    private messageFormat: MessageFormat;\n\n    constructor(\n        private readonly adapter: DateAdapter<D>,\n        @Inject(MC_DATE_LOCALE) locale: string\n    ) {\n        this.config = locale === 'en' ? enUS : ruRU;\n\n        this.messageFormat = new MessageFormat(locale);\n    }\n\n    setLocale(locale: string): void {\n        this.config = locale === 'en' ? enUS : ruRU;\n\n        this.adapter.setLocale(locale);\n    }\n\n    /**\n     * @param date - date\n     * @param template - template\n     * @returns relative date by template\n     */\n    relativeDate(date: D, template: FormatterRelativeTemplate): string {\n        if (!this.adapter.isDateInstance(date)) { throw new Error(this.invalidDateErrorText); }\n\n        const totalSeconds = Math.abs(this.adapter.diffNow(date, 'seconds'));\n        const totalMinutes = Math.floor(Math.abs(this.adapter.diffNow(date, 'minutes')));\n\n        const isToday = this.adapter.hasSame(this.adapter.today(), date, 'days');\n        const isYesterday = this.adapter.diffNow(date, 'days') <= -1 && this.adapter.diffNow(date, 'days') > -2;\n\n        const templateVariables = {...this.adapter.config.variables, ...template.variables};\n        const variables = this.compileVariables(date, templateVariables);\n        let newTemplate;\n\n        if (totalSeconds <= 59) { // seconds ago\n            variables.SECONDS_PASSED = totalSeconds;\n            newTemplate = template.SECONDS_AGO;\n        } else if (totalMinutes <= 59) { // minutes ago\n            variables.MINUTES_PASSED = totalMinutes;\n            newTemplate = template.MINUTES_AGO;\n        } else if (isToday) {\n            newTemplate = template.TODAY;\n        } else if (isYesterday) {\n            newTemplate = template.YESTERDAY;\n        } else { // before yesterday\n            newTemplate = template.BEFORE_YESTERDAY;\n        }\n\n        return this.messageFormat.compile(newTemplate)(variables);\n    }\n\n    /**\n     * @param date - date\n     * @returns relative date in short format\n     */\n    relativeShortDate(date: D): string {\n        return this.relativeDate(date, this.config.relativeTemplates.short);\n    }\n\n    /**\n     * @param date - date\n     * @returns relative date in long format\n     */\n    relativeLongDate(date: D): string {\n        return this.relativeDate(date, this.config.relativeTemplates.long);\n    }\n\n    /**\n     * @param date - date\n     * @param params - parameters\n     * @param datetime - should time be shown as well\n     * @param milliseconds - should time with milliseconds be shown as well\n     * @returns absolute date in common format\n     */\n    absoluteDate(\n        date: D,\n        params: FormatterAbsoluteTemplate,\n        datetime = false,\n        milliseconds = false\n    ): string {\n        if (!this.adapter.isDateInstance(date)) { throw new Error(this.invalidDateErrorText); }\n\n        const variables = this.compileVariables(date, { ...this.adapter.config.variables, ...params.variables });\n\n        variables.SHOW_MILLISECONDS = milliseconds ? 'yes' : 'no';\n\n        const template = datetime ? params.DATETIME : params.DATE;\n\n        return this.messageFormat.compile(template)(variables);\n    }\n\n    /**\n     * @param date - date\n     * @returns absolute date in short format\n     */\n    absoluteShortDate(date: D): string {\n        return this.absoluteDate(date, this.config.absoluteTemplates.short);\n    }\n\n    /**\n     * @param date - date\n     * @param options - AbsoluteDateTimeOptions\n     * @returns absolute date in short format with time\n     */\n    absoluteShortDateTime(date: D, options?: AbsoluteDateTimeOptions): string {\n        return this.absoluteDate(date, this.config.absoluteTemplates.short, true, options?.milliseconds);\n    }\n\n    /**\n     * @param date - date\n     * @returns absolute date in long format\n     */\n    absoluteLongDate(date: D): string {\n        return this.absoluteDate(date, this.config.absoluteTemplates.long);\n    }\n\n    /**\n     * @param date - date\n     * @param options - AbsoluteDateTimeOptions\n     * @returns absolute date in long format with time\n     */\n    absoluteLongDateTime(date: D, options?: AbsoluteDateTimeOptions): string {\n        return this.absoluteDate(date, this.config.absoluteTemplates.long, true, options?.milliseconds);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @param template - template\n     * @returns opened date\n     */\n    openedRangeDate(startDate: D | null, endDate: D | null, template: FormatterRangeTemplate) {\n        if (!this.adapter.isDateInstance(startDate) && !this.adapter.isDateInstance(endDate)) {\n            throw new Error(this.invalidDateErrorText);\n        }\n\n        const variables = { ...this.adapter.config.variables, ...template.variables };\n        let params = {};\n\n        if (startDate) {\n            const startDateVariables = this.compileVariables(startDate, variables);\n\n            params = {\n                ...variables,\n                START_DATE: this.messageFormat.compile(template.START_DATE)(startDateVariables),\n                RANGE_TYPE: 'onlyStart'\n            };\n        } else if (endDate) {\n            const endDateVariables = this.compileVariables(endDate, variables);\n\n            params = {\n                ...variables,\n                END_DATE: this.messageFormat.compile(template.END_DATE)(endDateVariables),\n                RANGE_TYPE: 'onlyEnd'\n            };\n        }\n\n        return this.messageFormat.compile(template.DATE)(params);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @param template - template\n     * @returns opened date\n     */\n    openedRangeDateTime(startDate: D | null, endDate: D | null, template: FormatterRangeTemplate) {\n        if (!this.adapter.isDateInstance(startDate) && !this.adapter.isDateInstance(endDate)) {\n            throw new Error(this.invalidDateErrorText);\n        }\n\n        const variables = { ...this.adapter.config.variables, ...template.variables };\n        let params = {};\n\n        if (startDate) {\n            const startDateVariables = this.compileVariables(startDate, variables);\n\n            params = {\n                ...variables,\n                START_DATETIME: this.messageFormat.compile(template.START_DATETIME)(startDateVariables),\n                RANGE_TYPE: 'onlyStart'\n            };\n        } else if (endDate) {\n            const endDateVariables = this.compileVariables(endDate, variables);\n\n            params = {\n                ...variables,\n                END_DATETIME: this.messageFormat.compile(template.END_DATETIME)(endDateVariables),\n                RANGE_TYPE: 'onlyEnd'\n            };\n        }\n\n        return this.messageFormat.compile(template.DATETIME)(params);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @param template - template\n     * @returns range date in template format\n     */\n    rangeDate(startDate: D, endDate: D, template: FormatterRangeTemplate): string {\n        if (!this.adapter.isDateInstance(startDate) || !this.adapter.isDateInstance(endDate)) {\n            throw new Error(this.invalidDateErrorText);\n        }\n\n        const variables = { ...this.adapter.config.variables, ...template.variables };\n        const sameMonth = this.hasSame(startDate, endDate, 'month');\n\n        const startDateVariables = this.compileVariables(startDate, variables);\n        startDateVariables.SAME_MONTH = sameMonth;\n\n        const endDateVariables = this.compileVariables(endDate, variables);\n        endDateVariables.SAME_MONTH = sameMonth;\n\n        const bothCurrentYear = startDateVariables.CURRENT_YEAR === 'yes' && endDateVariables.CURRENT_YEAR === 'yes';\n        startDateVariables.CURRENT_YEAR = bothCurrentYear ? 'yes' : 'no';\n        endDateVariables.CURRENT_YEAR = bothCurrentYear ? 'yes' : 'no';\n\n        const params = {\n            ...variables,\n            START_DATE: this.messageFormat.compile(template.START_DATE)(startDateVariables),\n            END_DATE: this.messageFormat.compile(template.END_DATE)(endDateVariables),\n            SAME_MONTH: sameMonth\n        };\n\n        return this.messageFormat.compile(template.DATE)(params);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @param template - template\n     * @returns range date in template format with time\n     */\n    rangeDateTime(startDate: D, endDate: D, template: FormatterRangeTemplate): string {\n        if (!this.adapter.isDateInstance(startDate) || !this.adapter.isDateInstance(endDate)) {\n            throw new Error(this.invalidDateErrorText);\n        }\n\n        const variables = {...this.adapter.config.variables, ...template.variables};\n        const sameMonth = this.hasSame(startDate, endDate, 'month');\n        const sameDay = this.hasSame(startDate, endDate, 'day');\n\n        const startDateVariables = this.compileVariables(startDate, variables);\n        startDateVariables.SAME_MONTH = sameMonth;\n        startDateVariables.SAME_DAY = sameDay;\n\n        const endDateVariables = this.compileVariables(endDate, variables);\n        endDateVariables.SAME_MONTH = sameMonth;\n        endDateVariables.SAME_DAY = sameDay;\n\n        const bothCurrentYear = startDateVariables.CURRENT_YEAR === 'yes' && endDateVariables.CURRENT_YEAR === 'yes';\n        startDateVariables.CURRENT_YEAR = bothCurrentYear ? 'yes' : 'no';\n        endDateVariables.CURRENT_YEAR = bothCurrentYear ? 'yes' : 'no';\n\n        const params = {\n            ...variables,\n            START_DATETIME: this.messageFormat.compile(template.START_DATETIME)(startDateVariables),\n            END_DATETIME: this.messageFormat.compile(template.END_DATETIME)(endDateVariables),\n            SAME_MONTH: sameMonth,\n            SAME_DAY: sameDay\n        };\n\n        return this.messageFormat.compile(template.DATETIME)(params);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @returns range date in short format\n     */\n    rangeShortDate(startDate: D | null, endDate?: D): string {\n        const rangeTemplates = this.config.rangeTemplates;\n\n        if (startDate && endDate) {\n            return this.rangeDate(startDate, endDate, rangeTemplates.closedRange.short);\n        }\n\n        return this.openedRangeDate(startDate, endDate || null, rangeTemplates.openedRange.short);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @returns range date in short format with time\n     */\n    rangeShortDateTime(startDate: D | null, endDate?: D): string {\n        const rangeTemplates = this.config.rangeTemplates;\n\n        if (startDate && endDate) {\n            return this.rangeDateTime(startDate, endDate, rangeTemplates.closedRange.short);\n        }\n\n        return this.openedRangeDateTime(startDate, endDate || null, rangeTemplates.openedRange.short);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @returns range date in long format\n     */\n    rangeLongDate(startDate: D | null, endDate?: D): string {\n        const rangeTemplates = this.config.rangeTemplates;\n\n        if (startDate && endDate) {\n            return this.rangeDate(startDate, endDate, rangeTemplates.closedRange.long);\n        }\n\n        return this.openedRangeDate(startDate, endDate || null, rangeTemplates.openedRange.long);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @returns range date in long format with time\n     */\n    rangeLongDateTime(startDate: D | null, endDate?: D): string {\n        const rangeTemplates = this.config.rangeTemplates;\n\n        if (startDate && endDate) {\n            return this.rangeDateTime(startDate, endDate, rangeTemplates.closedRange.long);\n        }\n\n        return this.openedRangeDateTime(startDate, endDate || null, rangeTemplates.openedRange.long);\n    }\n\n    /**\n     * @param startDate - start date\n     * @param endDate - end date\n     * @returns range middle date with time\n     */\n    rangeMiddleDateTime(startDate: D, endDate: D): string {\n        return this.rangeDateTime(startDate, endDate, this.config.rangeTemplates.closedRange.middle);\n    }\n\n    private compileVariables(date: D, variables: any): any {\n        const compiledVariables: any = {};\n\n        // tslint:disable-next-line:no-for-in\n        for (const key in variables) {\n            if (!variables.hasOwnProperty(key)) { continue; }\n\n            const value = variables[key];\n            compiledVariables[key] = this.adapter.format(date, value);\n        }\n\n        compiledVariables.CURRENT_YEAR = this.hasSame(date, this.adapter.today(), 'year');\n\n        return compiledVariables;\n    }\n\n    private hasSame(startDate: D, endDate: D, unit: string): string {\n        return this.adapter.hasSame(startDate, endDate, unit) ? 'yes' : 'no';\n    }\n}\n\n\n\n\n","/* tslint:disable:naming-convention */\nimport { Inject, Injectable, InjectionToken, Optional, Pipe, PipeTransform } from '@angular/core';\n\n\nexport const MC_LOCALE_ID = new InjectionToken<string>('McLocaleId');\n\nexport const DEFAULT_MC_LOCALE_ID = 'ru';\n\n\nfunction isEmpty(value: any): boolean {\n    return value == null || value === '' || value !== value;\n}\n\nfunction strToNumber(value: number | string): number {\n    if (typeof value === 'string' && !isNaN(Number(value) - parseFloat(value))) {\n        return Number(value);\n    }\n\n    if (typeof value !== 'number') {\n        throw new Error(`${value} is not a number`);\n    }\n\n    return value;\n}\n\nexport const NUMBER_FORMAT_REGEXP = /^(\\d+)?\\.((\\d+)(-(\\d+))?)?$/;\n\nconst minIntGroupPosition = 1;\nconst minFractionGroupPosition = 3;\nconst maxFractionGroupPosition = 5;\n\ninterface NumberFormatOptions {\n    useGrouping: boolean;\n\n    minimumIntegerDigits: number;\n    minimumFractionDigits: number;\n    maximumFractionDigits: number;\n    minimumSignificantDigits: number;\n    maximumSignificantDigits: number;\n\n    localeMatcher?: string;\n    style?: string;\n\n    currency?: string;\n    currencyDisplay?: string;\n}\n\nclass ParsedDigitsInfo {\n    minimumIntegerDigits: number;\n    minimumFractionDigits: number;\n    maximumFractionDigits: number;\n}\n\nfunction parseDigitsInfo(digitsInfo: string): ParsedDigitsInfo {\n    const parts = digitsInfo.match(NUMBER_FORMAT_REGEXP);\n\n    if (parts === null) {\n        throw new Error(`${digitsInfo} is not a valid digit info`);\n    }\n\n    const minIntPart = parts[minIntGroupPosition];\n    const minFractionPart = parts[minFractionGroupPosition];\n    const maxFractionPart = parts[maxFractionGroupPosition];\n\n    const result = new ParsedDigitsInfo();\n\n    if (minIntPart != null) {\n        result.minimumIntegerDigits = parseInt(minIntPart);\n    }\n\n    if (minFractionPart != null) {\n        result.minimumFractionDigits = parseInt(minFractionPart);\n    }\n\n    if (maxFractionPart != null) {\n        result.maximumFractionDigits = parseInt(maxFractionPart);\n    } else if (minFractionPart != null && result.minimumFractionDigits > result.maximumFractionDigits) {\n        result.maximumFractionDigits = result.minimumFractionDigits;\n    }\n\n    return result;\n}\n\n\n@Injectable({ providedIn: 'root' })\n@Pipe({name: 'mcNumber'})\nexport class McDecimalPipe implements PipeTransform {\n    constructor(@Optional() @Inject(MC_LOCALE_ID) private _locale: string) {}\n\n    /**\n     * @param value The number to be formatted.\n     * @param digitsInfo Decimal representation options, specified by a string\n     * in the following format:<br>\n     * <code>{minIntegerDigits}.{minFractionDigits}-{maxFractionDigits}</code>.\n     *   - `minIntegerDigits`: The minimum number of integer digits before the decimal point.\n     * Default is `1`.\n     *   - `minFractionDigits`: The minimum number of digits after the decimal point.\n     * Default is `0`.\n     *   - `maxFractionDigits`: The maximum number of digits after the decimal point.\n     * Default is `3`.\n     * @param locale A locale code for the locale format rules to use.\n     * When not supplied, uses the value of `MC_LOCALE_ID`, which is `ru` by default.\n     */\n    transform(value: any, digitsInfo?: string, locale?: string): string | null {\n        if (isEmpty(value)) { return null; }\n\n        const currentLocale = locale || this._locale || DEFAULT_MC_LOCALE_ID;\n\n        let parsedDigitsInfo;\n\n        if (digitsInfo) {\n            parsedDigitsInfo = parseDigitsInfo(digitsInfo);\n        }\n\n        const options: NumberFormatOptions = {\n            useGrouping: true,\n            minimumIntegerDigits: 1,\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 3,\n            ...parsedDigitsInfo\n        };\n\n        try {\n            const num = strToNumber(value);\n\n            return Intl.NumberFormat.call(this, currentLocale, options).format(num);\n        } catch (error) {\n            throw Error(`InvalidPipeArgument: McDecimalPipe for pipe '${JSON.stringify(error.message)}'`);\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\n\nimport { DateFormatter } from './date/formatter';\nimport { McDecimalPipe } from './number/formatter';\n\n\n@NgModule({\n    exports: [McDecimalPipe],\n    declarations: [McDecimalPipe],\n    providers: [DateFormatter]\n})\nexport class McFormattersModule {}\n\n\nexport * from './number/formatter';\nexport * from './date/formatter';\n","import { InjectionToken } from '@angular/core';\nimport {\n    AbstractControl,\n    NgControl,\n    NgForm,\n    RequiredValidator,\n    ValidationErrors,\n    Validator,\n    ValidatorFn\n} from '@angular/forms';\n\n\nexport const validationTooltipShowDelay = 10;\nexport const validationTooltipHideDelay = 3000;\n\n\n// tslint:disable-next-line:naming-convention\nexport interface McValidationOptions {\n    useValidation: boolean;\n}\n\nexport const MC_VALIDATION = new InjectionToken<McValidationOptions>(\n    'McUseValidation',\n    { factory: () => ({ useValidation: true }) }\n    );\n\n\nfunction setValidState(control: AbstractControl, validator: ValidatorFn): void {\n    if (!control) { return; }\n\n    control.clearValidators();\n    control.updateValueAndValidity({ emitEvent: false });\n    control.setValidators(validator);\n}\n\n\n/** This function do next:\n * - run validation on submitting parent form\n * - prevent validation in required validator if form doesn't submitted\n * - if control has focus validation will be prevented\n */\nexport function setMosaicValidation(component) {\n    const ngControl = component.ngControl;\n\n    if (!ngControl) { return; }\n\n    const parentForm: NgForm = component.parentForm || component.parentFormGroup;\n\n    if (parentForm) {\n        parentForm.ngSubmit.subscribe(() => {\n            // tslint:disable-next-line: no-unnecessary-type-assertion\n            ngControl.control!.updateValueAndValidity({ emitEvent: false });\n        });\n    }\n\n    if (component.ngModel) {\n        setMosaicValidationForModelControl(component, component.rawValidators, parentForm);\n    } else if (component.formControlName || component.ngControl) {\n        setMosaicValidationForFormControl(component, parentForm, ngControl);\n    }\n}\nexport function setMosaicValidationForModelControl(component, validators: Validator[], parentForm: NgForm) {\n    if (!validators) { return; }\n\n    validators.forEach((validator: Validator) => {\n        // tslint:disable-next-line: no-unbound-method\n        const originalValidate = validator.validate;\n\n        if (validator instanceof RequiredValidator) {\n            // changed required validation logic\n            validator.validate = (control: AbstractControl): ValidationErrors | null => {\n                if (parentForm && !parentForm.submitted) { return null; }\n\n                return originalValidate.call(validator, control);\n            };\n        } else {\n            // changed all other validation logic\n            validator.validate = (control: AbstractControl): ValidationErrors | null => {\n                if (component.focused) { return null; }\n\n                return originalValidate.call(validator, control);\n            };\n        }\n    });\n}\n\nexport function setMosaicValidationForFormControl(component, parentForm: NgForm, ngControl: NgControl) {\n    const originalValidator = ngControl.control!.validator;\n\n    // changed required validation logic after initialization\n    if (ngControl.invalid && ngControl.errors!.required) {\n        Promise.resolve().then(() => setValidState(ngControl.control!, originalValidator!));\n    }\n\n    // check dynamic updates\n    ngControl.statusChanges!\n        .subscribe(() => {\n            // changed required validation logic\n            if (ngControl.invalid && (parentForm && !parentForm.submitted) && ngControl.errors!.required) {\n                setValidState(ngControl.control!, originalValidator!);\n            }\n\n            // changed all other validation logic\n            if (ngControl.invalid && component.focused) {\n                setValidState(ngControl.control!, originalValidator!);\n            }\n        });\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n\n@Pipe({ name: 'mcHighlight' })\nexport class McHighlightPipe implements PipeTransform {\n    transform(value: any, args: any): any {\n        if (!args) { return value; }\n\n        return value.replace(new RegExp(`(${args})`, 'gi'), '<mark class=\"mc-highlight\">$1</mark>');\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McHighlightPipe } from './highlight.pipe';\n\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [McHighlightPipe],\n    declarations: [McHighlightPipe]\n})\nexport class McHighlightModule {}\n\n\nexport * from './highlight.pipe';\n","import { ScrollStrategy, Overlay, RepositionScrollStrategy } from '@angular/cdk/overlay';\nimport { InjectionToken } from '@angular/core';\n\n\n/** The max height of the select's overlay panel */\nexport const SELECT_PANEL_MAX_HEIGHT = 224;\n\n/** The panel's padding on the x-axis */\nexport const SELECT_PANEL_PADDING_X = 1;\n\n/** The panel's x axis padding if it is indented (e.g. there is an option group). */\n/* tslint:disable-next-line:no-magic-numbers */\nexport const SELECT_PANEL_INDENT_PADDING_X = SELECT_PANEL_PADDING_X * 2;\n\n/**\n * The select panel will only \"fit\" inside the viewport if it is positioned at\n * this value or more away from the viewport boundary.\n */\nexport const SELECT_PANEL_VIEWPORT_PADDING = 8;\n\n\n/** Injection token that determines the scroll handling while a select is open. */\nexport const MC_SELECT_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mc-select-scroll-strategy');\n\n/** @docs-private */\nexport function mcSelectScrollStrategyProviderFactory(overlay: Overlay):\n    () => RepositionScrollStrategy {\n    return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MC_SELECT_SCROLL_STRATEGY_PROVIDER = {\n    provide: MC_SELECT_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: mcSelectScrollStrategyProviderFactory\n};\n","import { ConnectionPositionPair } from '@angular/cdk/overlay';\n\n\nexport const POSITION_MAP: { [key: string]: ConnectionPositionPair } = {\n    top         : {\n        originX : 'center',\n        originY : 'top',\n        overlayX: 'center',\n        overlayY: 'bottom'\n    },\n    topCenter   : {\n        originX : 'center',\n        originY : 'top',\n        overlayX: 'center',\n        overlayY: 'bottom'\n    },\n    topLeft     : {\n        originX : 'start',\n        originY : 'top',\n        overlayX: 'start',\n        overlayY: 'bottom'\n    },\n    topRight    : {\n        originX : 'end',\n        originY : 'top',\n        overlayX: 'end',\n        overlayY: 'bottom'\n    },\n    right       : {\n        originX : 'end',\n        originY : 'center',\n        overlayX: 'start',\n        overlayY: 'center'\n    },\n    rightTop    : {\n        originX : 'end',\n        originY : 'top',\n        overlayX: 'start',\n        overlayY: 'top'\n    },\n    rightBottom : {\n        originX : 'end',\n        originY : 'bottom',\n        overlayX: 'start',\n        overlayY: 'bottom'\n    },\n    bottom      : {\n        originX : 'center',\n        originY : 'bottom',\n        overlayX: 'center',\n        overlayY: 'top'\n    },\n    bottomCenter: {\n        originX : 'center',\n        originY : 'bottom',\n        overlayX: 'center',\n        overlayY: 'top'\n    },\n    bottomLeft  : {\n        originX : 'start',\n        originY : 'bottom',\n        overlayX: 'start',\n        overlayY: 'top'\n    },\n    bottomRight : {\n        originX : 'end',\n        originY : 'bottom',\n        overlayX: 'end',\n        overlayY: 'top'\n    },\n    left        : {\n        originX : 'start',\n        originY : 'center',\n        overlayX: 'end',\n        overlayY: 'center'\n    },\n    leftTop     : {\n        originX : 'start',\n        originY : 'top',\n        overlayX: 'end',\n        overlayY: 'top'\n    },\n    leftBottom  : {\n        originX : 'start',\n        originY : 'bottom',\n        overlayX: 'end',\n        overlayY: 'bottom'\n    }\n};\n\nexport const DEFAULT_4_POSITIONS = objectValues([\n    POSITION_MAP.top, POSITION_MAP.right, POSITION_MAP.bottom, POSITION_MAP.left\n]);\n\nexport const EXTENDED_OVERLAY_POSITIONS = objectValues([\n    POSITION_MAP.top, POSITION_MAP.topLeft, POSITION_MAP.topRight, POSITION_MAP.right, POSITION_MAP.rightTop,\n    POSITION_MAP.rightBottom, POSITION_MAP.bottom, POSITION_MAP.bottomLeft, POSITION_MAP.bottomRight,\n    POSITION_MAP.left, POSITION_MAP.leftTop, POSITION_MAP.leftBottom\n]);\n\nexport const TOP_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.top,\n    POSITION_MAP.bottom,\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.bottomLeft,\n    POSITION_MAP.bottomRight\n]);\n\nexport const BOTTOM_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.bottom,\n    POSITION_MAP.top,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.topRight,\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.leftBottom\n]);\n\nexport const RIGHT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.right,\n    POSITION_MAP.left,\n    POSITION_MAP.leftTop,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.top,\n    POSITION_MAP.bottom\n]);\n\nexport const LEFT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.left,\n    POSITION_MAP.right,\n    POSITION_MAP.rightTop,\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.top,\n    POSITION_MAP.bottom\n]);\n\nexport const RIGHT_TOP_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.rightTop,\n    POSITION_MAP.leftTop,\n    POSITION_MAP.left,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.bottomLeft\n]);\n\nexport const RIGHT_BOTTOM_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.left,\n    POSITION_MAP.leftTop,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.bottomLeft\n]);\n\nexport const LEFT_TOP_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.leftTop,\n    POSITION_MAP.rightTop,\n    POSITION_MAP.right,\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.topRight,\n    POSITION_MAP.bottomRight\n]);\n\nexport const LEFT_BOTTOM_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.rightBottom,\n    POSITION_MAP.right,\n    POSITION_MAP.rightTop,\n    POSITION_MAP.topRight,\n    POSITION_MAP.bottomRight\n]);\n\nexport const TOP_LEFT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.topLeft,\n    POSITION_MAP.topRight,\n    POSITION_MAP.bottomLeft,\n    POSITION_MAP.bottom,\n    POSITION_MAP.bottomRight,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.rightBottom\n]);\n\nexport const TOP_RIGHT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.topRight,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.bottomRight,\n    POSITION_MAP.bottom,\n    POSITION_MAP.bottomLeft,\n    POSITION_MAP.leftBottom,\n    POSITION_MAP.rightBottom\n]);\n\nexport const BOTTOM_RIGHT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.bottomRight,\n    POSITION_MAP.bottomLeft,\n    POSITION_MAP.topRight,\n    POSITION_MAP.top,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.leftTop,\n    POSITION_MAP.rightTop\n]);\n\nexport const BOTTOM_LEFT_POSITION_PRIORITY = objectValues([\n    POSITION_MAP.bottomLeft,\n    POSITION_MAP.bottomRight,\n    POSITION_MAP.topLeft,\n    POSITION_MAP.top,\n    POSITION_MAP.topRight,\n    POSITION_MAP.rightTop,\n    POSITION_MAP.leftTop\n]);\n\nexport const POSITION_PRIORITY_STRATEGY = {\n    top: TOP_POSITION_PRIORITY,\n    topLeft: TOP_LEFT_POSITION_PRIORITY,\n    topRight: TOP_RIGHT_POSITION_PRIORITY,\n    bottom: BOTTOM_POSITION_PRIORITY,\n    bottomLeft: BOTTOM_LEFT_POSITION_PRIORITY,\n    bottomRight: BOTTOM_RIGHT_POSITION_PRIORITY,\n    left: LEFT_POSITION_PRIORITY,\n    leftTop: LEFT_TOP_POSITION_PRIORITY,\n    leftBottom: LEFT_BOTTOM_POSITION_PRIORITY,\n    right: RIGHT_POSITION_PRIORITY,\n    rightTop: RIGHT_TOP_POSITION_PRIORITY,\n    rightBottom: RIGHT_BOTTOM_POSITION_PRIORITY\n};\n\nexport const POSITION_TO_CSS_MAP: {[key: string]: string} = {\n    top: 'top',\n    topLeft: 'top-left',\n    topRight: 'top-right',\n    right: 'right',\n    rightTop: 'right-top',\n    rightBottom: 'right-bottom',\n    left: 'left',\n    leftTop: 'left-top',\n    leftBottom: 'left-bottom',\n    bottom: 'bottom',\n    bottomLeft: 'bottom-left',\n    bottomRight: 'bottom-right'\n};\n\nexport const DEFAULT_4_POSITIONS_TO_CSS_MAP: {[key: string]: string} = {\n    top: 'top',\n    bottom: 'bottom',\n    right: 'right',\n    left: 'left'\n};\n\nfunction arrayMap<T, S>(array: T[], iteratee: (item: T, index: number, arr: T[]) => S): S[] {\n    let index = -1;\n    const length = array == null ? 0 : array.length;\n    const result = Array(length);\n\n    while (++index < length) {\n        result[ index ] = iteratee(array[ index ], index, array);\n    }\n\n    return result;\n}\nfunction baseValues<T>(object: { [key: string]: T } | T[], props: string[]): T[] {\n    return arrayMap(props,  (key) => {\n        return object[ key ];\n    });\n}\nfunction objectValues<T>(object: { [key: string]: T } | T[]): T[] {\n    return object == null ? [] : baseValues(object, Object.keys(object));\n}\n","export enum AnimationCurves {\n    StandardCurve = 'cubic-bezier(0.4,0.0,0.2,1)',\n    DecelerationCurve = 'cubic-bezier(0.0,0.0,0.2,1)',\n    AccelerationCurve = 'cubic-bezier(0.4,0.0,1,1)',\n    SharpCurve = 'cubic-bezier(0.4,0.0,0.6,1)'\n}\n","import {\n    animate,\n    state,\n    style,\n    transition,\n    trigger,\n    AnimationTriggerMetadata\n} from '@angular/animations';\n\n\nexport const fadeAnimation: AnimationTriggerMetadata =  trigger('fadeAnimation', [\n    state('void', style({ opacity: 0 })),\n    state('true', style({ opacity: 1 })),\n    state('false', style({ opacity: 0 })),\n    transition('* => true', animate('150ms cubic-bezier(0.0, 0.0, 0.2, 1)')),\n    transition('* => void', animate('150ms cubic-bezier(0.4, 0.0, 1, 1)'))\n]);\n","export enum MultipleMode {\n    CHECKBOX = 'checkbox',\n    KEYBOARD = 'keyboard'\n}\n","import {\n    animate,\n    AnimationTriggerMetadata,\n    state,\n    style,\n    transition,\n    trigger,\n    group\n} from '@angular/animations';\n\n\n/**\n * The following are all the animations for the mc-select component, with each\n * const containing the metadata for one animation.\n *\n */\nexport const mcSelectAnimations: {\n    readonly transformPanel: AnimationTriggerMetadata;\n    readonly fadeInContent: AnimationTriggerMetadata;\n} = {\n    /**\n     * This animation transforms the select's overlay panel on and off the page.\n     *\n     * When the panel is attached to the DOM, it expands its width by the amount of padding, scales it\n     * up to 100% on the Y axis, fades in its border, and translates slightly up and to the\n     * side to ensure the option text correctly overlaps the trigger text.\n     *\n     * When the panel is removed from the DOM, it simply fades out linearly.\n     */\n    transformPanel: trigger('transformPanel', [\n        state('void', style({\n            transform: 'scaleY(0)',\n            minWidth: '100%',\n            opacity: 0\n        })),\n        transition('void => *', group([\n            animate('150ms cubic-bezier(0.25, 0.8, 0.25, 1)')\n        ])),\n        transition('* => void', [\n            animate('250ms 100ms linear', style({ opacity: 0 }))\n        ])\n    ]),\n\n    /**\n     * This animation fades in the background color and text content of the\n     * select's options. It is time delayed to occur 100ms after the overlay\n     * panel has transformed in.\n     */\n    fadeInContent: trigger('fadeInContent', [\n        state('showing', style({ opacity: 1 })),\n        transition('void => showing', [\n            style({ opacity: 0 }),\n            animate('150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n        ])\n    ])\n};\n\n\nexport const transformPanel = mcSelectAnimations.transformPanel;\n\nexport const fadeInContent = mcSelectAnimations.fadeInContent;\n","import { InjectionToken } from '@angular/core';\n\n\n/** InjectionToken that can be used to specify the global label options. */\nexport const MC_LABEL_GLOBAL_OPTIONS =\n    new InjectionToken<LabelOptions>('mc-label-global-options');\n\n/** Type for the available floatLabel values. */\nexport type FloatLabelType = 'always' | 'never' | 'auto';\n\n/** Configurable options for floating labels. */\n// tslint:disable-next-line:naming-convention\nexport interface LabelOptions {\n    /**\n     * Whether the label should float `always`, `never`, or `auto` (only when necessary).\n     * Default behavior is assumed to be `auto`.\n     */\n    float?: FloatLabelType;\n}\n","import { Component, ViewEncapsulation, Input, ChangeDetectionStrategy } from '@angular/core';\n\n\nexport type McPseudoCheckboxState = 'unchecked' | 'checked' | 'indeterminate';\n\n/**\n * Component that shows a simplified checkbox without including any kind of \"real\" checkbox.\n * Meant to be used when the checkbox is purely decorative and a large number of them will be\n * included, such as for the options in a multi-select. Uses no SVGs or complex animations.\n * Note that theming is meant to be handled by the parent element, e.g.\n * `mc-primary .mc-pseudo-checkbox`.\n *\n * Note that this component will be completely invisible to screen-reader users. This is *not*\n * interchangeable with `<mc-checkbox>` and should *not* be used if the user would directly\n * interact with the checkbox. The pseudo-checkbox should only be used as an implementation detail\n * of more complex components that appropriately handle selected / checked state.\n * @docs-private\n */\n@Component({\n    selector: 'mc-pseudo-checkbox',\n    templateUrl: 'pseudo-checkbox.partial.html',\n    styleUrls: ['pseudo-checkbox.scss'],\n    host: {\n        class: 'mc-pseudo-checkbox',\n        '[class.mc-indeterminate]': 'state === \"indeterminate\"',\n        '[class.mc-checked]': 'state === \"checked\"',\n        '[class.mc-disabled]': 'disabled'\n    },\n    preserveWhitespaces: false,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class McPseudoCheckbox {\n    @Input() state: McPseudoCheckboxState = 'unchecked';\n\n    @Input() disabled: boolean = false;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McPseudoCheckbox } from './pseudo-checkbox';\n\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [McPseudoCheckbox],\n    declarations: [McPseudoCheckbox]\n})\nexport class McPseudoCheckboxModule {}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class McMeasureScrollbarService {\n\n    get scrollBarWidth(): number {\n        if (this._scrollBarWidth) {\n            return this._scrollBarWidth;\n        }\n        this.initScrollBarWidth();\n\n        return this._scrollBarWidth;\n    }\n\n    private _scrollBarWidth: number;\n    private scrollbarMeasure = {\n        position: 'absolute',\n        top: '-9999px',\n        width: '50px',\n        height: '50px',\n        overflow: 'scroll'\n    };\n\n    constructor(\n        @Inject(DOCUMENT) private document: any\n    ) {\n        this.initScrollBarWidth();\n    }\n\n    initScrollBarWidth() {\n        const scrollDiv = this.document.createElement('div');\n\n        // tslint:disable-next-line\n        for (const scrollProp in this.scrollbarMeasure) {\n            if (this.scrollbarMeasure.hasOwnProperty(scrollProp)) {\n                scrollDiv.style[scrollProp] = this.scrollbarMeasure[scrollProp];\n            }\n        }\n\n        this.document.body.appendChild(scrollDiv);\n\n        const width = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n        this.document.body.removeChild(scrollDiv);\n        this._scrollBarWidth = width;\n    }\n}\n","import { Component, ViewEncapsulation, Input, ChangeDetectionStrategy } from '@angular/core';\n\nimport { mixinDisabled, CanDisable, CanDisableCtor } from '../common-behaviors/index';\n\n\n/** @docs-private */\nexport class McOptgroupBase {}\n\n// tslint:disable-next-line: naming-convention\nexport const McOptgroupMixinBase: CanDisableCtor & typeof McOptgroupBase = mixinDisabled(McOptgroupBase);\n\nlet uniqueOptgroupIdCounter = 0;\n\n/**\n * Component that is used to group instances of `mc-option`.\n */\n@Component({\n    selector: 'mc-optgroup',\n    exportAs: 'mcOptgroup',\n    templateUrl: 'optgroup.html',\n    styleUrls: ['./optgroup.scss'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    inputs: ['disabled'],\n    host: {\n        class: 'mc-optgroup',\n        '[class.mc-disabled]': 'disabled'\n    }\n})\nexport class McOptgroup extends McOptgroupMixinBase implements CanDisable {\n    @Input() label: string;\n\n    /** Unique id for the underlying label. */\n    labelId: string = `mc-optgroup-label-${uniqueOptgroupIdCounter++}`;\n}\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    InjectionToken,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    QueryList,\n    ViewEncapsulation\n} from '@angular/core';\nimport { ENTER, SPACE } from '@ptsecurity/cdk/keycodes';\nimport { Subject } from 'rxjs';\n\nimport { McOptgroup } from './optgroup';\n\n\n/**\n * Option IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet uniqueIdCounter = 0;\n\n/** Event object emitted by McOption when selected or deselected. */\nexport class McOptionSelectionChange {\n    constructor(public source: McOption, public isUserInput = false) {}\n}\n\n/**\n * Describes a parent component that manages a list of options.\n * Contains properties that the options can inherit.\n * @docs-private\n */\n// tslint:disable-next-line: naming-convention\nexport interface McOptionParentComponent {\n    multiple?: boolean;\n}\n\n/**\n * Injection token used to provide the parent component to options.\n */\nexport const MC_OPTION_PARENT_COMPONENT =\n    new InjectionToken<McOptionParentComponent>('MC_OPTION_PARENT_COMPONENT');\n\n/**\n * Single option inside of a `<mc-select>` element.\n */\n@Component({\n    selector: 'mc-option',\n    exportAs: 'mcOption',\n    host: {\n        '[attr.tabindex]': 'getTabIndex()',\n        class: 'mc-option',\n        '[class.mc-selected]': 'selected',\n        '[class.mc-option-multiple]': 'multiple',\n        '[class.mc-active]': 'active',\n        '[class.mc-disabled]': 'disabled',\n        '[id]': 'id',\n\n        '(click)': 'selectViaInteraction()',\n        '(keydown)': 'handleKeydown($event)'\n    },\n    styleUrls: ['option.scss'],\n    templateUrl: 'option.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McOption implements AfterViewChecked, OnDestroy {\n    /** The form value of the option. */\n    @Input() value: any;\n\n    @Input()\n    get showCheckbox() {\n        return this._showCheckbox === undefined ? this.multiple : this._showCheckbox;\n    }\n\n    set showCheckbox(value) {\n        this._showCheckbox = coerceBooleanProperty(value);\n    }\n\n    private _showCheckbox: boolean;\n\n    /** Event emitted when the option is selected or deselected. */\n    // tslint:disable-next-line:no-output-on-prefix\n    @Output() readonly onSelectionChange = new EventEmitter<McOptionSelectionChange>();\n\n    /** Emits when the state of the option changes and any parents have to be notified. */\n    readonly stateChanges = new Subject<void>();\n\n    /**\n     * The displayed value of the option. It is necessary to show the selected option in the\n     * select's trigger.\n     */\n    get viewValue(): string {\n        // TODO: Add input property alternative for node envs.\n        return (this.getHostElement().textContent || '').trim();\n    }\n\n    /** Whether the wrapping component is in multiple selection mode. */\n    get multiple() {\n        return this.parent && this.parent.multiple;\n    }\n\n    get id(): string {\n        return this._id;\n    }\n\n    private _id = `mc-option-${uniqueIdCounter++}`;\n\n    get selected(): boolean {\n        return this._selected;\n    }\n\n    private _selected = false;\n\n    @Input()\n    get disabled() {\n        return (this.group && this.group.disabled) || this._disabled;\n    }\n\n    set disabled(value: any) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n\n    private _disabled = false;\n\n    /**\n     * Whether or not the option is currently active and ready to be selected.\n     * An active option displays styles as if it is focused, but the\n     * focus is actually retained somewhere else. This comes in handy\n     * for components like autocomplete where focus must remain on the input.\n     */\n    get active(): boolean {\n        return this._active;\n    }\n\n    private _active = false;\n\n    private mostRecentViewValue = '';\n\n    constructor(\n        private readonly element: ElementRef,\n        private readonly changeDetectorRef: ChangeDetectorRef,\n        @Optional() @Inject(MC_OPTION_PARENT_COMPONENT) private readonly parent: McOptionParentComponent,\n        @Optional() readonly group: McOptgroup\n    ) {}\n\n    ngAfterViewChecked() {\n        // Since parent components could be using the option's label to display the selected values\n        // (e.g. `mc-select`) and they don't have a way of knowing if the option's label has changed\n        // we have to check for changes in the DOM ourselves and dispatch an event. These checks are\n        // relatively cheap, however we still limit them only to selected options in order to avoid\n        // hitting the DOM too often.\n        if (this._selected) {\n            const viewValue = this.viewValue;\n\n            if (viewValue !== this.mostRecentViewValue) {\n                this.mostRecentViewValue = viewValue;\n                this.stateChanges.next();\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.stateChanges.complete();\n    }\n\n    getHeight(): number {\n        // tslint:disable-next-line:naming-convention\n        const DOMRect: DOMRect = this.element.nativeElement.getClientRects()[0];\n\n        return DOMRect ? DOMRect.height : 0;\n    }\n\n    select(): void {\n        if (!this._selected) {\n            this._selected = true;\n\n            this.changeDetectorRef.markForCheck();\n            this.emitSelectionChangeEvent();\n        }\n    }\n\n    deselect(): void {\n        if (this._selected) {\n            this._selected = false;\n\n            this.changeDetectorRef.markForCheck();\n            this.emitSelectionChangeEvent();\n        }\n    }\n\n    focus(): void {\n        const element = this.getHostElement();\n\n        if (typeof element.focus === 'function') {\n            element.focus();\n        }\n    }\n\n    /**\n     * This method sets display styles on the option to make it appear\n     * active. This is used by the ActiveDescendantKeyManager so key\n     * events will display the proper options as active on arrow key events.\n     */\n    setActiveStyles(): void {\n        if (!this._active) {\n            this._active = true;\n            this.changeDetectorRef.markForCheck();\n        }\n    }\n\n    /**\n     * This method removes display styles on the option that made it appear\n     * active. This is used by the ActiveDescendantKeyManager so key\n     * events will display the proper options as active on arrow key events.\n     */\n    setInactiveStyles(): void {\n        if (this._active) {\n            this._active = false;\n            this.changeDetectorRef.markForCheck();\n        }\n    }\n\n    /** Gets the label to be used when determining whether the option should be focused. */\n    getLabel(): string {\n        return this.viewValue;\n    }\n\n    /** Ensures the option is selected when activated from the keyboard. */\n    handleKeydown(event: KeyboardEvent): void {\n        // tslint:disable-next-line\n        if (event.keyCode === ENTER || event.keyCode === SPACE) {\n            this.selectViaInteraction();\n\n            // Prevent the page from scrolling down and form submits.\n            event.preventDefault();\n        }\n    }\n\n    /**\n     * `Selects the option while indicating the selection came from the user. Used to\n     * determine if the select's view -> model callback should be invoked.`\n     */\n    selectViaInteraction(): void {\n        if (!this.disabled) {\n            this._selected = this.multiple ? !this._selected : true;\n\n            this.changeDetectorRef.markForCheck();\n            this.emitSelectionChangeEvent(true);\n        }\n    }\n\n    getTabIndex(): string {\n        return this.disabled ? '-1' : '0';\n    }\n\n    getHostElement(): HTMLElement {\n        return this.element.nativeElement;\n    }\n\n    /** Emits the selection change event. */\n    private emitSelectionChangeEvent(isUserInput = false): void {\n        this.onSelectionChange.emit(new McOptionSelectionChange(this, isUserInput));\n    }\n}\n\n/**\n * Counts the amount of option group labels that precede the specified option.\n * @param optionIndex Index of the option at which to start counting.\n * @param options Flat list of all of the options.\n * @param optionGroups Flat list of all of the option groups.\n * @docs-private\n */\nexport function countGroupLabelsBeforeOption(\n    optionIndex: number,\n    options: QueryList<McOption>,\n    optionGroups: QueryList<McOptgroup>\n): number {\n\n    if (optionGroups.length) {\n        const optionsArray = options.toArray();\n        const groups = optionGroups.toArray();\n\n        let groupCounter = 0;\n\n        for (let i = 0; i < optionIndex + 1; i++) {\n            if (optionsArray[i].group && optionsArray[i].group === groups[groupCounter]) {\n                groupCounter++;\n            }\n        }\n\n        return groupCounter;\n    }\n\n    return 0;\n}\n\n/**\n * Determines the position to which to scroll a panel in order for an option to be into view.\n * @param optionIndex Index of the option to be scrolled into the view.\n * @param optionHeight Height of the options.\n * @param currentScrollPosition Current scroll position of the panel.\n * @param panelHeight Height of the panel.\n * @docs-private\n */\nexport function getOptionScrollPosition(\n    optionIndex: number,\n    optionHeight: number,\n    currentScrollPosition: number,\n    panelHeight: number\n): number {\n    const optionOffset = optionIndex * optionHeight;\n\n    if (optionOffset < currentScrollPosition) { return optionOffset; }\n\n    if (optionOffset + optionHeight > currentScrollPosition + panelHeight) {\n        return Math.max(0, optionOffset - panelHeight + optionHeight);\n    }\n\n    return currentScrollPosition;\n}\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { McPseudoCheckboxModule } from '../selection/index';\n\nimport { McOptgroup } from './optgroup';\nimport { McOption } from './option';\n\n\n@NgModule({\n    imports: [CommonModule, McPseudoCheckboxModule],\n    exports: [McOption, McOptgroup],\n    declarations: [McOption, McOptgroup]\n})\nexport class McOptionModule {}\n","import {\n    AfterContentInit,\n    ContentChildren,\n    Directive,\n    ElementRef,\n    QueryList\n} from '@angular/core';\n\n\n@Directive({\n    selector: '.mc-form__row, .mc-form__fieldset, .mc-form__legend',\n    exportAs: 'mcFormElement',\n    host: {\n        '[class.mc-form-row_margin]': 'margin'\n    }\n})\nexport class McFormElement implements AfterContentInit {\n    margin = false;\n\n    isRow = false;\n    isFieldSet = false;\n    hasLegend = false;\n    isHorizontal = false;\n\n    @ContentChildren(McFormElement) elements: QueryList<McFormElement>;\n\n    constructor(private readonly element: ElementRef<HTMLElement>) {}\n\n    ngAfterContentInit(): void {\n        const classList = this.element.nativeElement.classList;\n\n        this.isRow = classList.contains('mc-form__row');\n        this.isHorizontal = classList.contains('mc-horizontal');\n\n        this.isFieldSet = classList.contains('mc-form__fieldset');\n\n        if (this.isFieldSet && this.element.nativeElement.firstElementChild) {\n            this.hasLegend = this.element.nativeElement.firstElementChild.classList.contains('mc-form__legend');\n        }\n    }\n}\n\n\n@Directive({\n    selector: '.mc-form-vertical, .mc-form-horizontal',\n    exportAs: 'mcForm',\n    host: {\n        class: 'mc-form'\n    }\n})\nexport class McForm implements AfterContentInit {\n    @ContentChildren(McFormElement) elements: QueryList<McFormElement>;\n\n    ngAfterContentInit(): void {\n        this.handleElements(this.elements);\n    }\n\n    handleElements(elements: QueryList<McFormElement>): void {\n        elements.forEach((element, index) => {\n            const nextElement: McFormElement | undefined = elements.get(index + 1);\n\n            if (element.isFieldSet && !element.isHorizontal) {\n                this.handleElements(element.elements);\n            }\n\n            element.margin = !!(nextElement && !nextElement.hasLegend);\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\n\nimport {\n    McForm,\n    McFormElement\n} from './forms.directive';\n\n\n@NgModule({\n    exports: [\n        McForm,\n        McFormElement\n    ],\n    declarations: [\n        McForm,\n        McFormElement\n    ]\n})\nexport class McFormsModule {}\n","/**\n * Returns an exception to be thrown when attempting to change a select's `multiple` option\n * after initialization.\n * @docs-private\n */\nexport function getMcSelectDynamicMultipleError(): Error {\n    return Error('Cannot change `multiple` mode of select after initialization.');\n}\n\n/**\n * Returns an exception to be thrown when attempting to assign a non-array value to a select\n * in `multiple` mode. Note that `undefined` and `null` are still valid values to allow for\n * resetting the value.\n * @docs-private\n */\nexport function getMcSelectNonArrayValueError(): Error {\n    return Error('Value must be an array in multiple-selection mode.');\n}\n\n/**\n * Returns an exception to be thrown when assigning a non-function value to the comparator\n * used to determine if a value corresponds to an option. Note that whether the function\n * actually takes two values and returns a boolean is not checked.\n */\nexport function getMcSelectNonFunctionValueError(): Error {\n    return Error('`compareWith` must be a function.');\n}\n","\nexport function isBoolean(val: any): val is boolean { return typeof val === 'boolean'; }\n\nexport function toBoolean(value: any): boolean {\n    return value != null && `${value}` !== 'false';\n}\n","import { FormControl, FormGroupDirective, NgControl, NgForm } from '@angular/forms';\nimport { Subject } from 'rxjs';\n\nimport { ErrorStateMatcher } from '../error/error-options';\n\nimport { Constructor } from './constructor';\n\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport interface CanUpdateErrorState {\n\n    readonly stateChanges: Subject<void>;\n\n    errorState: boolean;\n    errorStateMatcher: ErrorStateMatcher;\n\n    updateErrorState();\n}\n\n/** @docs-private */\nexport type CanUpdateErrorStateCtor = Constructor<CanUpdateErrorState>;\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport interface HasErrorState {\n    parentFormGroup: FormGroupDirective;\n    parentForm: NgForm;\n    defaultErrorStateMatcher: ErrorStateMatcher;\n    ngControl: NgControl;\n}\n\n/**\n * Mixin to augment a directive with updateErrorState method.\n * For component with `errorState` and need to update `errorState`.\n */\nexport function mixinErrorState<T extends Constructor<HasErrorState>>(base: T): CanUpdateErrorStateCtor & T {\n    return class extends base {\n        /** Whether the component is in an error state. */\n        errorState: boolean = false;\n\n        /**\n         * Stream that emits whenever the state of the input changes such that the wrapping\n         * `MatFormField` needs to run change detection.\n         */\n        readonly stateChanges = new Subject<void>();\n\n        errorStateMatcher: ErrorStateMatcher;\n\n        constructor(...args: any[]) {\n            super(...args);\n        }\n\n        updateErrorState() {\n            const oldState = this.errorState;\n            const parent = this.parentFormGroup || this.parentForm;\n            const matcher = this.errorStateMatcher || this.defaultErrorStateMatcher;\n            const control = this.ngControl ? this.ngControl.control as FormControl : null;\n            const newState = matcher.isErrorState(control, parent);\n\n            if (newState !== oldState) {\n                this.errorState = newState;\n                this.stateChanges.next();\n            }\n        }\n    };\n}\n","import { coerceNumberProperty } from '@angular/cdk/coercion';\n\nimport { AbstractConstructor, Constructor } from './constructor';\nimport { CanDisable } from './disabled';\n\n\n// tslint:disable-next-line:naming-convention\nexport interface HasTabIndex {\n    tabIndex: number;\n}\n\nexport type HasTabIndexCtor = Constructor<HasTabIndex>;\n\n// Mixin to augment a directive with a `tabIndex` property.\nexport function mixinTabIndex<T extends AbstractConstructor<CanDisable>>(base: T, defaultTabIndex = 0):\n    HasTabIndexCtor & T {\n    // Note: We cast `base` to `unknown` and then `Constructor`. It could be an abstract class,\n    // but given we `extend` it from another class, we can assume a constructor being accessible.\n    // tslint:disable-next-line:naming-convention\n    abstract class Mixin extends (base as unknown as Constructor<CanDisable>) {\n        // tslint:disable-next-line:orthodox-getter-and-setter\n        private _tabIndex: number = defaultTabIndex;\n        defaultTabIndex = defaultTabIndex;\n\n        get tabIndex(): number {\n            return this.disabled ? -1 : this._tabIndex;\n        }\n\n        set tabIndex(value: number) {\n            // If the specified tabIndex value is null or undefined, fall back to the default value.\n            this._tabIndex = value != null ? coerceNumberProperty(value) : this.defaultTabIndex;\n        }\n\n        constructor(...args: any[]) {\n            super(...args);\n        }\n    }\n\n    // Since we don't directly extend from `base` with it's original types, and we instruct\n    // TypeScript that `T` actually is instantiatable through `new`, the types don't overlap.\n    // This is a limitation in TS as abstract classes cannot be typed properly dynamically.\n    return Mixin as unknown as T & Constructor<HasTabIndex>;\n}\n","export const selectEvents = 'selectEvents';\n"]}