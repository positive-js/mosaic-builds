/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@ptsecurity/cdk/a11y"),require("@ptsecurity/mosaic/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/checkbox",["exports","@angular/core","@angular/forms","@ptsecurity/cdk/a11y","@ptsecurity/mosaic/core","@angular/common"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.checkbox={}),e.ng.core,e.ng.forms,e.ng.cdk.a11y,e.ng.mosaic.core,e.ng.common)}(this,function(e,t,n,i,c,o){"use strict";function r(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t,n,i){var c,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(r=(o<3?c(r):o>3?c(t,n,r):c(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}function s(e,t){return function(n,i){t(n,i,e)}}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},l=new t.InjectionToken("mc-checkbox-click-action"),u=0,p={provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return f}),multi:!0};!function(e){e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate"}(e.TransitionCheckState||(e.TransitionCheckState={}));var m=function(){function e(){}return e}(),b=function(){function e(e){this._elementRef=e}return e}(),k=c.mixinTabIndex(c.mixinColor(c.mixinDisabled(b))),f=function(n){function o(i,c,o,r,a){var s=n.call(this,i)||this;return s._changeDetectorRef=c,s._focusMonitor=o,s._clickAction=a,s.ariaLabel="",s.ariaLabelledby=null,s._uniqueId="mc-checkbox-"+ ++u,s.id=s._uniqueId,s.labelPosition="after",s.name=null,s.change=new t.EventEmitter,s.indeterminateChange=new t.EventEmitter,s._onTouched=function(){},s._currentAnimationClass="",s._currentCheckState=e.TransitionCheckState.Init,s._controlValueAccessorChangeFn=function(){},s._checked=!1,s._disabled=!1,s._indeterminate=!1,s.tabIndex=parseInt(r)||0,s}return r(o,n),Object.defineProperty(o.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"required",{get:function(){return this._required},set:function(e){this._required=c.toBoolean(e)},enumerable:!0,configurable:!0}),o.prototype.ngAfterViewInit=function(){var e=this;this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(function(t){return e._onInputFocusChange(t)})},o.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)},Object.defineProperty(o.prototype,"checked",{get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"disabled",{get:function(){return this._disabled},set:function(e){e!=this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(t){var n=t!=this._indeterminate;this._indeterminate=t,n&&(this._indeterminate?this._transitionCheckState(e.TransitionCheckState.Indeterminate):this._transitionCheckState(this.checked?e.TransitionCheckState.Checked:e.TransitionCheckState.Unchecked),this.indeterminateChange.emit(this._indeterminate))},enumerable:!0,configurable:!0}),o.prototype._onLabelTextChange=function(){this._changeDetectorRef.markForCheck()},o.prototype.writeValue=function(e){this.checked=!!e},o.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},o.prototype.registerOnTouched=function(e){this._onTouched=e},o.prototype.setDisabledState=function(e){this.disabled=e},o.prototype._getAriaChecked=function(){return this.checked?"true":this.indeterminate?"mixed":"false"},o.prototype._transitionCheckState=function(e){var t=this._currentCheckState,n=this._elementRef.nativeElement;t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentCheckState=e,this._currentAnimationClass.length>0&&n.classList.add(this._currentAnimationClass))},o.prototype._emitChangeEvent=function(){var e=new m;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)},o.prototype._onInputFocusChange=function(e){e&&this._onTouched()},o.prototype.toggle=function(){this.checked=!this.checked},o.prototype._onInputClick=function(t){var n=this;t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(function(){n._indeterminate=!1,n.indeterminateChange.emit(n._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?e.TransitionCheckState.Checked:e.TransitionCheckState.Unchecked),this._emitChangeEvent())},o.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")},o.prototype._onInteractionEvent=function(e){e.stopPropagation()},a([t.Input("aria-label"),h("design:type",String)],o.prototype,"ariaLabel",void 0),a([t.Input("aria-labelledby"),h("design:type",Object)],o.prototype,"ariaLabelledby",void 0),a([t.Input(),h("design:type",String)],o.prototype,"id",void 0),a([t.Input(),h("design:type",Boolean),h("design:paramtypes",[Boolean])],o.prototype,"required",null),a([t.Input(),h("design:type",String)],o.prototype,"labelPosition",void 0),a([t.Input(),h("design:type",Object)],o.prototype,"name",void 0),a([t.Output(),h("design:type",t.EventEmitter)],o.prototype,"change",void 0),a([t.Output(),h("design:type",t.EventEmitter)],o.prototype,"indeterminateChange",void 0),a([t.Input(),h("design:type",String)],o.prototype,"value",void 0),a([t.ViewChild("input"),h("design:type",t.ElementRef)],o.prototype,"_inputElement",void 0),a([t.Input(),h("design:type",Boolean),h("design:paramtypes",[Boolean])],o.prototype,"checked",null),a([t.Input(),h("design:type",Object),h("design:paramtypes",[Object])],o.prototype,"disabled",null),a([t.Input(),h("design:type",Boolean),h("design:paramtypes",[Boolean])],o.prototype,"indeterminate",null),o=a([t.Component({selector:"mc-checkbox",template:'<label [attr.for]="inputId" class="mc-checkbox-layout" #label><div class="mc-checkbox-inner-container" [class.mc-checkbox-inner-container-no-side-margin]="!checkboxLabel.textContent || !checkboxLabel.textContent.trim()"><input #input class="mc-checkbox-input cdk-visually-hidden" type="checkbox" [id]="inputId" [required]="required" [checked]="checked" [attr.value]="value" [disabled]="disabled" [attr.name]="name" [tabIndex]="tabIndex" [indeterminate]="indeterminate" [attr.aria-label]="ariaLabel || null" [attr.aria-labelledby]="ariaLabelledby" [attr.aria-checked]="_getAriaChecked()" (change)="_onInteractionEvent($event)" (click)="_onInputClick($event)"><div class="mc-checkbox-frame"></div><div class="mc-checkbox-background"><i class="mc-checkbox-checkmark mc mc-check_16"></i> <i class="mc-checkbox-mixedmark mc mc-minus_16"></i></div></div><span class="mc-checkbox-label" #checkboxLabel (cdkObserveContent)="_onLabelTextChange()"><span style="display:none">&nbsp;</span><ng-content></ng-content></span></label>',styles:[".mc-checkbox-checkmark,.mc-checkbox-mixedmark{width:calc(100% - 2px)}.mc-checkbox-background,.mc-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:3px;box-sizing:border-box;pointer-events:none}.mc-checkbox{cursor:pointer;-webkit-tap-highlight-color:transparent}.mc-checkbox-layout{cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mc-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mc-checkbox-inner-container{margin-left:8px;margin-right:auto}.mc-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mc-checkbox-frame{background-color:transparent;border-width:1px;border-style:solid;box-shadow:inset 0 0 1px 0 rgba(0,0,0,.2)}.mc-checkbox-background{align-items:center;display:inline-flex;justify-content:center}.mc-checkbox-checkmark,.mc-checkbox-mixedmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%;opacity:0}.mc-checkbox-label-before .mc-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mc-checkbox-label-before .mc-checkbox-inner-container{margin-left:auto;margin-right:8px}.mc-checkbox-checked .mc-checkbox-checkmark{opacity:1}.mc-checkbox-checked .mc-checkbox-mixedmark{opacity:0}.mc-checkbox-indeterminate .mc-checkbox-checkmark{opacity:0}.mc-checkbox-indeterminate .mc-checkbox-mixedmark{opacity:1}.mc-checkbox-unchecked .mc-checkbox-background{background-color:transparent}.mc-checkbox-disabled{cursor:default}.mc-checkbox-disabled .mc-checkbox-frame{box-shadow:none}.mc-checkbox-input{bottom:0;left:50%}.mc-checkbox-input:focus+.mc-checkbox-frame{top:-1px;left:-1px;border-width:2px;width:18px;height:18px}"],exportAs:"mcCheckbox",host:{class:"mc-checkbox","[id]":"id","[attr.id]":"id","[class.mc-checkbox-indeterminate]":"indeterminate","[class.mc-checkbox-checked]":"checked","[class.mc-checkbox-disabled]":"disabled","[class.mc-checkbox-label-before]":'labelPosition == "before"'},providers:[p],inputs:["color","tabIndex"],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}),s(3,t.Attribute("tabindex")),s(4,t.Optional()),s(4,t.Inject(l)),h("design:paramtypes",[t.ElementRef,t.ChangeDetectorRef,i.FocusMonitor,String,Object])],o)}(k),g={provide:n.NG_VALIDATORS,useExisting:t.forwardRef(function(){return x}),multi:!0},x=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n=a([t.Directive({selector:"mc-checkbox[required][formControlName],\n             mc-checkbox[required][formControl], mc-checkbox[required][ngModel]",providers:[g],host:{"[attr.required]":'required ? "" : null'}})],n)}(n.CheckboxRequiredValidator),y=function(){function e(){}return e=a([t.NgModule({imports:[o.CommonModule,c.McCommonModule],exports:[f,x,c.McCommonModule],declarations:[f,x]})],e)}();e.MC_CHECKBOX_CONTROL_VALUE_ACCESSOR=p,e.McCheckboxChange=m,e.McCheckboxBase=b,e._McCheckboxMixinBase=k,e.McCheckbox=f,e.MC_CHECKBOX_CLICK_ACTION=l,e.McCheckboxModule=y,e.MC_CHECKBOX_REQUIRED_VALIDATOR=g,e.McCheckboxRequiredValidator=x,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-checkbox.umd.min.js.map
