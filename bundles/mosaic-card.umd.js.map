{"version":3,"file":"mosaic-card.umd.js","sources":["../../packages/mosaic/card/card.module.ts","../../packages/mosaic/card/card.component.ts"],"sourcesContent":["import { A11yModule } from '@angular/cdk/a11y';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport {\n    McCard\n} from './card.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        PlatformModule\n    ],\n    exports: [McCard],\n    declarations: [McCard]\n})\nexport class McCardModule {}\n","import { FocusMonitor } from '@angular/cdk/a11y';\nimport {\n    Output,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef, Input,\n    OnDestroy, EventEmitter,\n    ViewEncapsulation, HostBinding\n} from '@angular/core';\nimport { SPACE } from '@ptsecurity/cdk/keycodes';\n\n\n@Component({\n    selector: 'mc-card',\n    templateUrl: './card.component.html',\n    styleUrls: ['./card.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    inputs: ['color'],\n    host: {\n        class: 'mc-card',\n        '[class.mc-card_readonly]': 'readonly',\n        '[class.mc-card_selected]': 'selected',\n        '(keydown)': 'onKeyDown($event)',\n        '(click)': 'onClick($event)'\n    }\n})\nexport class McCard implements OnDestroy {\n    get tabIndex(): number | null {\n        return this.readonly ? null : this._tabIndex;\n    }\n\n    @HostBinding('attr.tabIndex')\n    @Input()\n    set tabIndex(value: number | null) {\n        this._tabIndex = value;\n    }\n\n    @Input()\n    readonly = false;\n\n    @Input()\n    selected = false;\n\n    @Output()\n    selectedChange = new EventEmitter<boolean>();\n\n    private _tabIndex: number | null = 0;\n\n    constructor(private _elementRef: ElementRef, private _focusMonitor: FocusMonitor) {\n        this._focusMonitor.monitor(this._elementRef.nativeElement, false);\n    }\n\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.hostElement.focus();\n    }\n\n    onClick($event: MouseEvent) {\n        if (!this.readonly) {\n            $event.stopPropagation();\n\n            this.selectedChange.emit(!this.selected);\n        }\n    }\n\n    private get hostElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    onKeyDown($event: KeyboardEvent) {\n        // tslint:disable-next-line:deprecation\n        switch ($event.keyCode) {\n            case SPACE:\n                if (!this.readonly) {\n                    $event.preventDefault();\n                    this.selectedChange.emit(!this.selected);\n                }\n                break;\n            default:\n        }\n    }\n}\n"],"names":["PlatformModule","A11yModule","CommonModule","NgModule","Output","Input","HostBinding","FocusMonitor","ElementRef","ViewEncapsulation","ChangeDetectionStrategy","Component","SPACE","EventEmitter"],"mappings":"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"}