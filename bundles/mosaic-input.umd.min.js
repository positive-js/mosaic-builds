/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/forms"),require("@ptsecurity/cdk/coercion"),require("@ptsecurity/cdk/platform"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/form-field"),require("@angular/common"),require("@ptsecurity/cdk/a11y")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/input",["exports","@angular/core","rxjs","@angular/forms","@ptsecurity/cdk/coercion","@ptsecurity/cdk/platform","@ptsecurity/mosaic/core","@ptsecurity/mosaic/form-field","@angular/common","@ptsecurity/cdk/a11y"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.input={}),e.ng.core,e.rxjs,e.ng.forms,e.ng.cdk.coercion,e.ng.cdk.platform,e.ng.mosaic.core,e.ng.mosaic.formField,e.ng.common,e.ng.cdk.a11y)}(this,function(e,t,n,o,r,i,u,p,s,c){"use strict";function a(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e){return Error('Input type "'+e+"\" isn't supported by mcInput.")}var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},f=new t.InjectionToken("MC_INPUT_VALUE_ACCESSOR"),y=["button","checkbox","file","hidden","image","radio","range","reset","submit"],h=0,m=function(){function e(e,t,n,o){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=o}return e}(),_=u.mixinErrorState(m),g=function(e){function s(t,o,r,u,p,s,c){var a=e.call(this,s,u,p,r)||this;return a._elementRef=t,a._platform=o,a.ngControl=r,a.focused=!1,a.stateChanges=new n.Subject,a.controlType="mc-input",a._uid="mc-input-"+h++,a._disabled=!1,a._required=!1,a._type="text",a._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(e){return i.getSupportedInputTypes().has(e)}),a._inputValueAccessor=c||a._elementRef.nativeElement,a._previousNativeValue=a.value,a.id=a.id,a}return a(s,e),Object.defineProperty(s.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=r.coerceBooleanProperty(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"required",{get:function(){return this._required},set:function(e){this._required=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),i.getSupportedInputTypes().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())},enumerable:!0,configurable:!0}),s.prototype.ngOnChanges=function(){this.stateChanges.next()},s.prototype.ngOnDestroy=function(){this.stateChanges.complete()},s.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},s.prototype.focus=function(){this._elementRef.nativeElement.focus()},s.prototype._focusChanged=function(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())},s.prototype._onInput=function(){},Object.defineProperty(s.prototype,"empty",{get:function(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()},enumerable:!0,configurable:!0}),s.prototype.onContainerClick=function(){this.focus()},s.prototype._dirtyCheckNativeValue=function(){var e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())},s.prototype._validateType=function(){if(y.indexOf(this._type)>-1)throw l(this._type)},s.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},s.prototype._isBadInput=function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput},s.decorators=[{type:t.Directive,args:[{selector:"input[mcInput]",exportAs:"mcInput",host:{class:"mc-input","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","(blur)":"_focusChanged(false)","(focus)":"_focusChanged(true)","(input)":"_onInput()"},providers:[{provide:p.McFormFieldControl,useExisting:s}]}]}],s.ctorParameters=function(){return[{type:t.ElementRef},{type:i.Platform},{type:o.NgControl,decorators:[{type:t.Optional},{type:t.Self}]},{type:o.NgForm,decorators:[{type:t.Optional}]},{type:o.FormGroupDirective,decorators:[{type:t.Optional}]},{type:u.ErrorStateMatcher},{type:void 0,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[f]}]}]},s.propDecorators={errorStateMatcher:[{type:t.Input}],disabled:[{type:t.Input}],id:[{type:t.Input}],placeholder:[{type:t.Input}],required:[{type:t.Input}],type:[{type:t.Input}],value:[{type:t.Input}]},s}(_),v=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"input[mcInputMonospace]",exportAs:"McInputMonospace",host:{class:"mc-input_monospace"}}]}],e}(),b=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[s.CommonModule,c.A11yModule,u.McCommonModule,o.FormsModule],exports:[g,v],declarations:[g,v]}]}],e}();e.Éµa12=f,e.McInputModule=b,e.McInputBase=m,e._McInputMixinBase=_,e.McInput=g,e.McInputMono=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-input.umd.min.js.map
