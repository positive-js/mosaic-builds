/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/forms"),require("@ptsecurity/cdk/coercion"),require("@ptsecurity/cdk/platform"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/form-field"),require("@angular/common"),require("@ptsecurity/cdk/a11y")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/input",["exports","@angular/core","rxjs","@angular/forms","@ptsecurity/cdk/coercion","@ptsecurity/cdk/platform","@ptsecurity/mosaic/core","@ptsecurity/mosaic/form-field","@angular/common","@ptsecurity/cdk/a11y"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.input={}),e.ng.core,e.rxjs,e.ng.forms,e.ng.cdk.coercion,e.ng.cdk.platform,e.ng.mosaic.core,e.ng.mosaic.formField,e.ng.common,e.ng.cdk.a11y)}(this,function(e,t,n,o,r,i,u,p,s,c){"use strict";function a(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,o){var r,i=arguments.length,u=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(u=(i<3?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function d(e,t){return function(n,o){t(n,o,e)}}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function y(e){return Error('Input type "'+e+"\" isn't supported by mcInput.")}var m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},h=new t.InjectionToken("MC_INPUT_VALUE_ACCESSOR"),g=["button","checkbox","file","hidden","image","radio","range","reset","submit"],_=0,v=function(){function e(e,t,n,o){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=o}return e}(),b=u.mixinErrorState(v),I=function(e){function s(t,o,r,u,p,s,c){var a=e.call(this,s,u,p,r)||this;return a._elementRef=t,a._platform=o,a.ngControl=r,a.focused=!1,a.stateChanges=new n.Subject,a.controlType="mc-input",a._uid="mc-input-"+_++,a._disabled=!1,a._required=!1,a._type="text",a._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(e){return i.getSupportedInputTypes().has(e)}),a._inputValueAccessor=c||a._elementRef.nativeElement,a._previousNativeValue=a.value,a.id=a.id,a}a(s,e),c=s,Object.defineProperty(s.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=r.coerceBooleanProperty(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"required",{get:function(){return this._required},set:function(e){this._required=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),i.getSupportedInputTypes().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())},enumerable:!0,configurable:!0}),s.prototype.ngOnChanges=function(){this.stateChanges.next()},s.prototype.ngOnDestroy=function(){this.stateChanges.complete()},s.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},s.prototype.focus=function(){this._elementRef.nativeElement.focus()},s.prototype._focusChanged=function(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())},s.prototype._onInput=function(){},Object.defineProperty(s.prototype,"empty",{get:function(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()},enumerable:!0,configurable:!0}),s.prototype.onContainerClick=function(){this.focus()},s.prototype._dirtyCheckNativeValue=function(){var e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())},s.prototype._validateType=function(){if(g.indexOf(this._type)>-1)throw y(this._type)},s.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},s.prototype._isBadInput=function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput};var c;return l([t.Input(),f("design:type",u.ErrorStateMatcher)],s.prototype,"errorStateMatcher",void 0),l([t.Input(),f("design:type",Boolean),f("design:paramtypes",[Boolean])],s.prototype,"disabled",null),l([t.Input(),f("design:type",String),f("design:paramtypes",[String])],s.prototype,"id",null),l([t.Input(),f("design:type",String)],s.prototype,"placeholder",void 0),l([t.Input(),f("design:type",Boolean),f("design:paramtypes",[Boolean])],s.prototype,"required",null),l([t.Input(),f("design:type",String),f("design:paramtypes",[String])],s.prototype,"type",null),l([t.Input(),f("design:type",String),f("design:paramtypes",[String])],s.prototype,"value",null),s=c=l([t.Directive({selector:"input[mcInput]",exportAs:"mcInput",host:{class:"mc-input","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","(blur)":"_focusChanged(false)","(focus)":"_focusChanged(true)","(input)":"_onInput()"},providers:[{provide:p.McFormFieldControl,useExisting:c}]}),d(2,t.Optional()),d(2,t.Self()),d(3,t.Optional()),d(4,t.Optional()),d(6,t.Optional()),d(6,t.Self()),d(6,t.Inject(h)),f("design:paramtypes",[t.ElementRef,i.Platform,o.NgControl,o.NgForm,o.FormGroupDirective,u.ErrorStateMatcher,Object])],s)}(b),C=function(){function e(){}return e=l([t.Directive({selector:"input[mcInputMonospace]",exportAs:"McInputMonospace",host:{class:"mc-input_monospace"}})],e)}(),M=function(){function e(){}return e=l([t.NgModule({imports:[s.CommonModule,c.A11yModule,u.McCommonModule,o.FormsModule],exports:[I,C],declarations:[I,C]})],e)}();e.Éµa13=h,e.McInputModule=M,e.McInputBase=v,e._McInputMixinBase=b,e.McInput=I,e.McInputMono=C,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-input.umd.min.js.map
