!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/icon"),require("rxjs/operators"),require("@ptsecurity/cdk/datetime"),require("rxjs"),require("@angular/cdk/bidi"),require("@ptsecurity/cdk/keycodes"),require("@angular/cdk/coercion"),require("@angular/forms"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/form-field"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/datepicker",["exports","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/portal","@angular/common","@angular/core","@ptsecurity/mosaic/button","@ptsecurity/mosaic/icon","rxjs/operators","@ptsecurity/cdk/datetime","rxjs","@angular/cdk/bidi","@ptsecurity/cdk/keycodes","@angular/cdk/coercion","@angular/forms","@ptsecurity/mosaic/core","@ptsecurity/mosaic/form-field","@angular/animations"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic.datepicker={}),e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.common,e.ng.core,e.ptsecurity.mosaic.button,e.ptsecurity.mosaic.icon,e.rxjs.operators,e.mc.cdk.datetime,e.rxjs,e.ng.cdk.bidi,e.mc.cdk.keycodes,e.ng.cdk.coercion,e.ng.forms,e.ptsecurity.mosaic.core,e.ptsecurity.mosaic["form-field"],e.ng.animations)}(this,(function(e,t,a,i,r,n,s,o,c,d,l,p,h,u,m,f,g,y){"use strict";function v(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var D=v(n),b=function(e,t,a,i,r){this.value=e,this.displayValue=t,this.ariaLabel=a,this.enabled=i,this.cssClasses=r},C=function(){function e(e,t){this.elementRef=e,this.ngZone=t,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new n.EventEmitter}return e.prototype.cellClicked=function(e){e.enabled&&this.selectedValueChange.emit(e.value)},e.prototype.ngOnChanges=function(e){var t=e.numCols,a=this.rows,i=this.numCols;(e.rows||t)&&(this.firstRowOffset=a&&a.length&&a[0].length?i-a[0].length:0),(e.cellAspectRatio||t||!this.cellPadding)&&(this.cellPadding=50*this.cellAspectRatio/i+"%"),!t&&this.cellWidth||(this.cellWidth=100/i+"%")},e.prototype.isActiveCell=function(e,t){var a=e*this.numCols+t;return e&&(a-=this.firstRowOffset),a===this.activeCell},e.prototype.focusActiveCell=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.ngZone.onStable.asObservable().pipe(c.take(1)).subscribe((function(){var t=e.elementRef.nativeElement.querySelector(".mc-calendar__body_active");t&&t.focus()}))}))},e}();function A(e){return Error("McDatepicker: No provider found for "+e+". You must import one of the existing modules at your application root or provide a custom implementation or use exists ones.")}C.decorators=[{type:n.Component,args:[{selector:"[mc-calendar-body]",exportAs:"mcCalendarBody",template:'\x3c!--\n  If there\'s not enough space in the first row, create a separate label row. We mark this row as\n  aria-hidden because we don\'t want it to be read out as one of the weeks in the month.\n--\x3e\n<tr *ngIf="firstRowOffset < labelMinRequiredCells">\n    <td class="mc-calendar__body-label"\n        [attr.colspan]="numCols"\n        [style.paddingTop]="cellPadding"\n        [style.paddingBottom]="cellPadding">\n        {{ label }}\n    </td>\n</tr>\n\n\x3c!-- Create the first row separately so we can include a special spacer cell. --\x3e\n<tr *ngFor="let row of rows; let rowIndex = index">\n    \x3c!--\n      We mark this cell as aria-hidden so it doesn\'t get read out as one of the days in the week.\n      The aspect ratio of the table cells is maintained by setting the top and bottom padding as a\n      percentage of the width (a variant of the trick described here:\n      https://www.w3schools.com/howto/howto_css_aspect_ratio.asp).\n    --\x3e\n    <td *ngIf="rowIndex === 0 && firstRowOffset"\n        class="mc-calendar__body-label"\n        [attr.colspan]="firstRowOffset"\n        [style.paddingTop]="cellPadding"\n        [style.paddingBottom]="cellPadding">\n        {{ firstRowOffset >= labelMinRequiredCells ? label : \'\' }}\n    </td>\n    <td *ngFor="let item of row; let colIndex = index"\n        class="mc-calendar__body-cell"\n        [ngClass]="item.cssClasses"\n        [tabindex]="isActiveCell(rowIndex, colIndex) ? 0 : -1"\n        [class.mc-calendar__body_disabled]="!item.enabled"\n        [class.mc-calendar__body_active]="isActiveCell(rowIndex, colIndex)"\n        (click)="cellClicked(item)"\n        [style.width]="cellWidth"\n        [style.paddingTop]="cellPadding"\n        [style.paddingBottom]="cellPadding">\n        <div class="mc-calendar__body-cell-content"\n             [class.mc-selected]="selectedValue === item.value"\n             [class.mc-calendar__body-today]="todayValue === item.value">\n            {{ item.displayValue }}\n        </div>\n    </td>\n</tr>\n',host:{class:"mc-calendar__body",role:"grid","aria-readonly":"true"},encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[".mc-calendar__body{min-width:calc(7 * var(--mc-datepicker-body-size-cell-min-size, $datepicker-body-size-cell-min-size))}.mc-calendar__body-label{height:0;line-height:0;text-align:left;padding-left:var(--mc-datepicker-body-size-label-padding-side,4.71429%);padding-right:var(--mc-datepicker-body-size-label-padding-side,4.71429%)}.mc-calendar__body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mc-calendar__body_disabled{cursor:default}.mc-calendar__body-cell-content{position:absolute;top:var(--mc-datepicker-body-size-cell-margin,5%);left:var(--mc-datepicker-body-size-cell-margin,5%);padding:var(--mc-datepicker-body-size-cell-padding,8px);display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:var(--mc-datepicker-body-size-cell-border-width,1px);border-style:solid}.cdk-high-contrast-active .mc-calendar__body-cell-content,.cdk-high-contrast-active :host .mc-calendar__body-cell-content{border:none}mc-month-view .mc-calendar__body-cell-content{justify-content:flex-end}mc-multi-year-view .mc-calendar__body-cell-content,mc-year-view .mc-calendar__body-cell-content{justify-content:center}.cdk-high-contrast-active .mc-datepicker__popup:not(:empty),.cdk-high-contrast-active .mc-selected{outline:1px solid}.cdk-high-contrast-active .mc-calendar__body-today{outline:1px dotted}.cdk-high-contrast-active :host .mc-datepicker__popup:not(:empty),.cdk-high-contrast-active :host .mc-selected{outline:1px solid}.cdk-high-contrast-active :host .mc-calendar__body-today{outline:1px dotted}[dir=rtl] .mc-calendar__body-label{text-align:right}"]}]}],C.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone}]},C.propDecorators={label:[{type:n.Input}],rows:[{type:n.Input}],todayValue:[{type:n.Input}],selectedValue:[{type:n.Input}],labelMinRequiredCells:[{type:n.Input}],numCols:[{type:n.Input}],activeCell:[{type:n.Input}],cellAspectRatio:[{type:n.Input}],selectedValueChange:[{type:n.Output}]};var _=function(){this.changes=new l.Subject,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"};_.ɵprov=D.ɵɵdefineInjectable({factory:function(){return new _},token:_,providedIn:"root"}),_.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}];var w=function(){function e(e,t,a,i){if(this.changeDetectorRef=e,this.dateFormats=t,this.dateAdapter=a,this.dir=i,this.selectedChange=new n.EventEmitter,this.userSelection=new n.EventEmitter,this.activeDateChange=new n.EventEmitter,!this.dateAdapter)throw A("DateAdapter");if(!this.dateFormats)throw A("MC_DATE_FORMATS");var r=this.dateAdapter.getFirstDayOfWeek(),s=this.dateAdapter.getDayOfWeekNames("narrow"),o=this.dateAdapter.getDayOfWeekNames("long").map((function(e,t){return{long:e,narrow:s[t]}}));this.weekdays=o.slice(r).concat(o.slice(0,r)),this._activeDate=this.dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this.getValidDateOrNull(this.dateAdapter.deserialize(e))||this.dateAdapter.today();this._activeDate=this.dateAdapter.clampDate(a,this.minDate,this.maxDate),this.hasSameMonthAndYear(t,this._activeDate)||this.init()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this.getValidDateOrNull(this.dateAdapter.deserialize(e)),this.selectedDate=this.getDateInCurrentMonth(this._selected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.init()},e.prototype.dateSelected=function(e){if(this.selectedDate!==e){var t=this.dateAdapter.getYear(this.activeDate),a=this.dateAdapter.getMonth(this.activeDate),i=this.dateAdapter.createDate(t,a,e);this.selectedChange.emit(i)}this.userSelection.emit()},e.prototype.handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this.isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,-7);break;case h.DOWN_ARROW:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,7);break;case h.HOME:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,1-this.dateAdapter.getDate(this._activeDate));break;case h.END:this.activeDate=this.dateAdapter.addCalendarDays(this._activeDate,this.dateAdapter.getNumDaysInMonth(this._activeDate)-this.dateAdapter.getDate(this._activeDate));break;case h.PAGE_UP:this.activeDate=e.altKey?this.dateAdapter.addCalendarYears(this._activeDate,-1):this.dateAdapter.addCalendarMonths(this._activeDate,-1);break;case h.PAGE_DOWN:this.activeDate=e.altKey?this.dateAdapter.addCalendarYears(this._activeDate,1):this.dateAdapter.addCalendarMonths(this._activeDate,1);break;case h.ENTER:case h.SPACE:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this.dateSelected(this.dateAdapter.getDate(this._activeDate)),this.userSelection.emit(),e.preventDefault()));default:return}this.dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this.focusActiveCell(),e.preventDefault()},e.prototype.init=function(){this.selectedDate=this.getDateInCurrentMonth(this.selected),this.todayDate=this.getDateInCurrentMonth(this.dateAdapter.today()),this.monthLabel=this.dateAdapter.getMonthNames("short")[this.dateAdapter.getMonth(this.activeDate)-this.dateAdapter.firstMonth],this.monthLabel=this.monthLabel[0].toLocaleUpperCase()+this.monthLabel.substr(1);var e=this.dateAdapter.createDate(this.dateAdapter.getYear(this.activeDate),this.dateAdapter.getMonth(this.activeDate));this.firstWeekOffset=(7+this.dateAdapter.getDayOfWeek(e)-this.dateAdapter.getFirstDayOfWeek())%7,this.createWeekCells(),this.changeDetectorRef.markForCheck()},e.prototype.focusActiveCell=function(){this.mcCalendarBody.focusActiveCell()},e.prototype.createWeekCells=function(){var e=this.dateAdapter.getNumDaysInMonth(this.activeDate),t=this.dateAdapter.getDateNames();this.weeks=[[]];for(var a=this.firstWeekOffset,i=0;i<e;i++){7===++a&&(this.weeks.push([]),a=0);var r=this.dateAdapter.createDate(this.dateAdapter.getYear(this.activeDate),this.dateAdapter.getMonth(this.activeDate),i+1),n=this.shouldEnableDate(r),s=this.dateAdapter.format(r,this.dateFormats.dateA11yLabel),o=this.dateClass?this.dateClass(r):void 0;this.weeks[this.weeks.length-1].push(new b(i+1,t[i],s,n,o))}},e.prototype.shouldEnableDate=function(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this.dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this.dateAdapter.compareDate(e,this.maxDate)<=0)},e.prototype.getDateInCurrentMonth=function(e){return e&&this.hasSameMonthAndYear(e,this.activeDate)?this.dateAdapter.getDate(e):null},e.prototype.hasSameMonthAndYear=function(e,t){return!(!e||!t||this.dateAdapter.getMonth(e)!==this.dateAdapter.getMonth(t)||this.dateAdapter.getYear(e)!==this.dateAdapter.getYear(t))},e.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},e.prototype.isRtl=function(){return this.dir&&"rtl"===this.dir.value},e}();w.decorators=[{type:n.Component,args:[{selector:"mc-month-view",exportAs:"mcMonthView",template:'<table class="mc-calendar__table">\n    <thead class="mc-calendar__table-header">\n        <tr>\n            <th *ngFor="let day of weekdays" [attr.aria-label]="day.long">{{day.narrow}}</th>\n        </tr>\n        <tr>\n            <th class="mc-calendar__table-header-divider" colspan="7"></th>\n        </tr>\n    </thead>\n    <tbody mc-calendar-body\n           [label]="monthLabel"\n           [rows]="weeks"\n           [todayValue]="todayDate"\n           [selectedValue]="selectedDate"\n           [labelMinRequiredCells]="3"\n           [activeCell]="dateAdapter.getDate(activeDate) - 1"\n           (selectedValueChange)="dateSelected($event)"\n           (keydown)="handleCalendarBodyKeydown($event)">\n    </tbody>\n</table>\n',encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],w.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[d.MC_DATE_FORMATS]}]},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:p.Directionality,decorators:[{type:n.Optional}]}]},w.propDecorators={activeDate:[{type:n.Input}],selected:[{type:n.Input}],minDate:[{type:n.Input}],maxDate:[{type:n.Input}],dateFilter:[{type:n.Input}],dateClass:[{type:n.Input}],selectedChange:[{type:n.Output}],userSelection:[{type:n.Output}],activeDateChange:[{type:n.Output}],mcCalendarBody:[{type:n.ViewChild,args:[C,{static:!1}]}]};var k=24,O=function(){function e(e,t,a){if(this.changeDetectorRef=e,this.dateAdapter=t,this.dir=a,this.selectedChange=new n.EventEmitter,this.yearSelected=new n.EventEmitter,this.activeDateChange=new n.EventEmitter,!this.dateAdapter)throw A("DateAdapter");this._activeDate=this.dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this.getValidDateOrNull(this.dateAdapter.deserialize(e))||this.dateAdapter.today();this._activeDate=this.dateAdapter.clampDate(a,this.minDate,this.maxDate),Math.floor(this.dateAdapter.getYear(t)/k)!==Math.floor(this.dateAdapter.getYear(this._activeDate)/k)&&this.init()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this.getValidDateOrNull(this.dateAdapter.deserialize(e)),this.selectedYear=this._selected&&this.dateAdapter.getYear(this._selected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.init()},e.prototype.init=function(){var e=this;this.todayYear=this.dateAdapter.getYear(this.dateAdapter.today());var t=this.dateAdapter.getYear(this._activeDate),a=t%k;this.years=[];for(var i=0,r=[];i<k;i++)r.push(t-a+i),4===r.length&&(this.years.push(r.map((function(t){return e.createCellForYear(t)}))),r=[]);this.changeDetectorRef.markForCheck()},e.prototype.onYearSelected=function(e){this.yearSelected.emit(this.dateAdapter.createDate(e));var t=this.dateAdapter.getMonth(this.activeDate),a=this.dateAdapter.getNumDaysInMonth(this.dateAdapter.createDate(e,t));this.selectedChange.emit(this.dateAdapter.createDate(e,t,Math.min(this.dateAdapter.getDate(this.activeDate),a)))},e.prototype.handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this.isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,-4);break;case h.DOWN_ARROW:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,4);break;case h.HOME:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,-this.dateAdapter.getYear(this._activeDate)%k);break;case h.END:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,k-this.dateAdapter.getYear(this._activeDate)%k-1);break;case h.PAGE_UP:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case h.PAGE_DOWN:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:k);break;case h.ENTER:case h.SPACE:this.onYearSelected(this.dateAdapter.getYear(this._activeDate));break;default:return}this.dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this.focusActiveCell(),e.preventDefault()},e.prototype.getActiveCell=function(){return this.dateAdapter.getYear(this.activeDate)%k},e.prototype.focusActiveCell=function(){this.mcCalendarBody.focusActiveCell()},e.prototype.createCellForYear=function(e){var t=this.dateAdapter.getYearName(this.dateAdapter.createDate(e));return new b(e,t,t,this.shouldEnableYear(e))},e.prototype.shouldEnableYear=function(e){if(null==e||this.maxDate&&e>this.dateAdapter.getYear(this.maxDate)||this.minDate&&e<this.dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this.dateAdapter.createDate(e);this.dateAdapter.getYear(t)===e;t=this.dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1},e.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},e.prototype.isRtl=function(){return this.dir&&"rtl"===this.dir.value},e}();O.decorators=[{type:n.Component,args:[{selector:"mc-multi-year-view",exportAs:"mcMultiYearView",template:'<table class="mc-calendar__table">\n    <thead class="mc-calendar__table-header">\n    <tr>\n        <th class="mc-calendar__table-header-divider" colspan="4"></th>\n    </tr>\n    </thead>\n    <tbody mc-calendar-body\n           [rows]="years"\n           [todayValue]="todayYear"\n           [selectedValue]="selectedYear"\n           [numCols]="4"\n           [cellAspectRatio]="4 / 7"\n           [activeCell]="getActiveCell()"\n           (selectedValueChange)="onYearSelected($event)"\n           (keydown)="handleCalendarBodyKeydown($event)">\n    </tbody>\n</table>\n',encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],O.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:p.Directionality,decorators:[{type:n.Optional}]}]},O.propDecorators={activeDate:[{type:n.Input}],selected:[{type:n.Input}],minDate:[{type:n.Input}],maxDate:[{type:n.Input}],dateFilter:[{type:n.Input}],selectedChange:[{type:n.Output}],yearSelected:[{type:n.Output}],activeDateChange:[{type:n.Output}],mcCalendarBody:[{type:n.ViewChild,args:[C,{static:!1}]}]};var M,V=function(){function e(e,t,a,i){if(this.changeDetectorRef=e,this.dateFormats=t,this.dateAdapter=a,this.dir=i,this.selectedChange=new n.EventEmitter,this.monthSelected=new n.EventEmitter,this.activeDateChange=new n.EventEmitter,!this.dateAdapter)throw A("DateAdapter");if(!this.dateFormats)throw A("MC_DATE_FORMATS");this._activeDate=this.dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,a=this.getValidDateOrNull(this.dateAdapter.deserialize(e))||this.dateAdapter.today();this._activeDate=this.dateAdapter.clampDate(a,this.minDate,this.maxDate),this.dateAdapter.getYear(t)!==this.dateAdapter.getYear(this._activeDate)&&this.init()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this.getValidDateOrNull(this.dateAdapter.deserialize(e)),this.selectedMonth=this.getMonthInCurrentYear(this._selected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.init()},e.prototype.onMonthSelected=function(e){var t=this.dateAdapter.getYear(this.activeDate),a=this.dateAdapter.createDate(t,e);this.monthSelected.emit(a);var i=this.dateAdapter.getNumDaysInMonth(a);this.selectedChange.emit(this.dateAdapter.createDate(t,e,Math.min(this.dateAdapter.getDate(this.activeDate),i)))},e.prototype.handleCalendarBodyKeydown=function(e){var t=this._activeDate,a=this.isRtl();switch(e.keyCode){case h.LEFT_ARROW:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case h.RIGHT_ARROW:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case h.UP_ARROW:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,-4);break;case h.DOWN_ARROW:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,4);break;case h.HOME:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,-this.dateAdapter.getMonth(this._activeDate));break;case h.END:this.activeDate=this.dateAdapter.addCalendarMonths(this._activeDate,11-this.dateAdapter.getMonth(this._activeDate));break;case h.PAGE_UP:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case h.PAGE_DOWN:this.activeDate=this.dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case h.ENTER:case h.SPACE:this.onMonthSelected(this.dateAdapter.getMonth(this._activeDate));break;default:return}this.dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this.focusActiveCell(),e.preventDefault()},e.prototype.init=function(){var e=this;this.selectedMonth=this.getMonthInCurrentYear(this.selected),this.todayMonth=this.getMonthInCurrentYear(this.dateAdapter.today()),this.yearLabel=this.dateAdapter.getYearName(this.activeDate);var t=this.dateAdapter.getMonthNames("short");this.months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map((function(a){return a.map((function(a){return e.createCellForMonth(a+e.dateAdapter.firstMonth,t[a])}))})),this.changeDetectorRef.markForCheck()},e.prototype.focusActiveCell=function(){this.mcCalendarBody.focusActiveCell()},e.prototype.getMonthInCurrentYear=function(e){return e&&this.dateAdapter.getYear(e)===this.dateAdapter.getYear(this.activeDate)?this.dateAdapter.getMonth(e):null},e.prototype.createCellForMonth=function(e,t){var a=this.dateAdapter.format(this.dateAdapter.createDate(this.dateAdapter.getYear(this.activeDate),e),this.dateFormats.monthYearA11yLabel),i=t[0].toLocaleUpperCase()+t.substr(1);return new b(e,i,a,this.shouldEnableMonth(e))},e.prototype.shouldEnableMonth=function(e){var t=this.dateAdapter.getYear(this.activeDate);if(null==e||this.isYearAndMonthAfterMaxDate(t,e)||this.isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var a=this.dateAdapter.createDate(t,e);this.dateAdapter.getMonth(a)===e;a=this.dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1},e.prototype.isYearAndMonthAfterMaxDate=function(e,t){if(this.maxDate){var a=this.dateAdapter.getYear(this.maxDate),i=this.dateAdapter.getMonth(this.maxDate);return e>a||e===a&&t>i}return!1},e.prototype.isYearAndMonthBeforeMinDate=function(e,t){if(this.minDate){var a=this.dateAdapter.getYear(this.minDate),i=this.dateAdapter.getMonth(this.minDate);return e<a||e===a&&t<i}return!1},e.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},e.prototype.isRtl=function(){return this.dir&&"rtl"===this.dir.value},e}();V.decorators=[{type:n.Component,args:[{selector:"mc-year-view",exportAs:"mcYearView",template:'<table class="mc-calendar__table">\n    <thead class="mc-calendar__table-header">\n    <tr>\n        <th class="mc-calendar__table-header-divider" colspan="4"></th>\n    </tr>\n    </thead>\n    <tbody mc-calendar-body\n           [label]="yearLabel"\n           [rows]="months"\n           [todayValue]="todayMonth"\n           [selectedValue]="selectedMonth"\n           [labelMinRequiredCells]="2"\n           [numCols]="4"\n           [cellAspectRatio]="4 / 7"\n           [activeCell]="dateAdapter.getMonth(activeDate)"\n           (selectedValueChange)="onMonthSelected($event)"\n           (keydown)="handleCalendarBodyKeydown($event)">\n    </tbody>\n</table>\n',encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],V.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[d.MC_DATE_FORMATS]}]},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:p.Directionality,decorators:[{type:n.Optional}]}]},V.propDecorators={activeDate:[{type:n.Input}],selected:[{type:n.Input}],minDate:[{type:n.Input}],maxDate:[{type:n.Input}],dateFilter:[{type:n.Input}],selectedChange:[{type:n.Output}],monthSelected:[{type:n.Output}],activeDateChange:[{type:n.Output}],mcCalendarBody:[{type:n.ViewChild,args:[C,{static:!1}]}]},e.McCalendarView=void 0,(M=e.McCalendarView||(e.McCalendarView={})).Month="month",M.Year="year",M.MultiYear="multi-year";var x=function(){function t(e,t,a,i,r){this.intl=e,this.calendar=t,this.dateAdapter=a,this.dateFormats=i,this.calendar.stateChanges.subscribe((function(){return r.markForCheck()}))}return Object.defineProperty(t.prototype,"periodButtonText",{get:function(){if(this.calendar.currentView===e.McCalendarView.Month){var t=this.dateAdapter.format(this.calendar.activeDate,this.dateFormats.monthYearLabel);return t[0].toLocaleUpperCase()+t.substr(1)}if(this.calendar.currentView===e.McCalendarView.Year)return this.dateAdapter.getYearName(this.calendar.activeDate);var a=this.dateAdapter.getYear(this.calendar.activeDate);return this.dateAdapter.getYearName(this.dateAdapter.createDate(a-a%24))+" – "+this.dateAdapter.getYearName(this.dateAdapter.createDate(a+k-1-a%24))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"periodButtonLabel",{get:function(){return this.calendar.currentView===e.McCalendarView.Month?this.intl.switchToMultiYearViewLabel:this.intl.switchToMonthViewLabel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevButtonLabel",{get:function(){var t;return(t={},t[e.McCalendarView.Month]=this.intl.prevMonthLabel,t[e.McCalendarView.Year]=this.intl.prevYearLabel,t[e.McCalendarView.MultiYear]=this.intl.prevMultiYearLabel,t)[this.calendar.currentView]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButtonLabel",{get:function(){var t;return(t={},t[e.McCalendarView.Month]=this.intl.nextMonthLabel,t[e.McCalendarView.Year]=this.intl.nextYearLabel,t[e.McCalendarView.MultiYear]=this.intl.nextMultiYearLabel,t)[this.calendar.currentView]},enumerable:!1,configurable:!0}),t.prototype.currentPeriodClicked=function(){[e.McCalendarView.Month,e.McCalendarView.MultiYear].includes(this.calendar.currentView)?this.calendar.currentView=e.McCalendarView.Year:this.calendar.currentView===e.McCalendarView.Year&&(this.calendar.currentView=e.McCalendarView.Month)},t.prototype.previousClicked=function(){this.calendar.currentView===e.McCalendarView.Month?this.calendar.activeDate=this.dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this.calendar.activeDate=this.dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView===e.McCalendarView.Year?-1:-24)},t.prototype.nextClicked=function(){this.calendar.currentView===e.McCalendarView.Month?this.calendar.activeDate=this.dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this.calendar.activeDate=this.dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView===e.McCalendarView.Year?1:k)},t.prototype.previousEnabled=function(){return!this.calendar.minDate||(!this.calendar.minDate||!this.isSameView(this.calendar.activeDate,this.calendar.minDate))},t.prototype.nextEnabled=function(){return!this.calendar.maxDate||!this.isSameView(this.calendar.activeDate,this.calendar.maxDate)},t.prototype.isSameView=function(t,a){var i=this.dateAdapter.getYear(t),r=this.dateAdapter.getYear(a),n=this.dateAdapter.getMonth(t),s=this.dateAdapter.getMonth(a);return this.calendar.currentView===e.McCalendarView.Month?i===r&&n===s:this.calendar.currentView===e.McCalendarView.Year?i===r:Math.floor(i/k)===Math.floor(r/k)},t}();x.decorators=[{type:n.Component,args:[{selector:"mc-calendar-header",template:'<button mc-button\n        [tabindex]="\'-1\'"\n        class="mc-button_transparent mc-calendar__period-button"\n        (click)="currentPeriodClicked()">\n    {{ periodButtonText }}\n\n    <i class="mc mc-icon"\n       [class.mc-angle-up-M_16]="calendar.currentView !== \'month\'"\n       [class.mc-angle-down-M_16]="calendar.currentView === \'month\'">\n    </i>\n</button>\n\n<div class="mc-calendar-spacer"></div>\n\n<button mc-button\n        [tabindex]="\'-1\'"\n        class="mc-button_transparent mc-calendar__previous-button"\n        [disabled]="!previousEnabled()"\n        (click)="previousClicked()">\n\n    <i mc-icon="mc-angle-left-L_16"></i>\n</button>\n\n<button mc-button\n        [tabindex]="\'-1\'"\n        class="mc-button_transparent mc-calendar__next-button"\n        [disabled]="!nextEnabled()"\n        (click)="nextClicked()">\n\n    <i mc-icon="mc-angle-right-L_16"></i>\n</button>\n',exportAs:"mcCalendarHeader",host:{class:"mc-calendar-header"},encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],x.ctorParameters=function(){return[{type:_},{type:E,decorators:[{type:n.Inject,args:[n.forwardRef((function(){return E}))]}]},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[d.MC_DATE_FORMATS]}]},{type:n.ChangeDetectorRef}]};var E=function(){function t(t,a,i,r){var s=this;if(this.dateAdapter=a,this.dateFormats=i,this.changeDetectorRef=r,this.startView=e.McCalendarView.Month,this.selectedChange=new n.EventEmitter,this.yearSelected=new n.EventEmitter,this.monthSelected=new n.EventEmitter,this.userSelection=new n.EventEmitter,this.stateChanges=new l.Subject,this.moveFocusOnNextTick=!1,!this.dateAdapter)throw A("DateAdapter");if(!this.dateFormats)throw A("MC_DATE_FORMATS");this.intlChanges=t.changes.subscribe((function(){r.markForCheck(),s.stateChanges.next()}))}return Object.defineProperty(t.prototype,"startAt",{get:function(){return this._startAt},set:function(e){this._startAt=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeDate",{get:function(){return this.clampedActiveDate},set:function(e){this.clampedActiveDate=this.dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentView",{get:function(){return this._currentView},set:function(e){this._currentView=e,this.moveFocusOnNextTick=!0},enumerable:!1,configurable:!0}),t.prototype.ngAfterContentInit=function(){this.calendarHeaderPortal=new i.ComponentPortal(this.headerComponent||x),this.activeDate=this.startAt||this.dateAdapter.today(),this._currentView=this.startView},t.prototype.ngAfterViewChecked=function(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())},t.prototype.ngOnDestroy=function(){this.intlChanges.unsubscribe(),this.stateChanges.complete()},t.prototype.ngOnChanges=function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var a=this.getCurrentViewComponent();a&&(this.changeDetectorRef.detectChanges(),a.init())}this.stateChanges.next()},t.prototype.focusActiveCell=function(){this.getCurrentViewComponent().focusActiveCell()},t.prototype.updateTodaysDate=function(){(this.currentView===e.McCalendarView.Month?this.monthView:this.currentView===e.McCalendarView.Year?this.yearView:this.multiYearView).ngAfterContentInit()},t.prototype.dateSelected=function(e){this.dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)},t.prototype.yearSelectedInMultiYearView=function(e){this.yearSelected.emit(e)},t.prototype.monthSelectedInYearView=function(e){this.monthSelected.emit(e)},t.prototype.userSelected=function(){this.userSelection.emit()},t.prototype.goToDateInView=function(e,t){this.activeDate=e,this.currentView=t},t.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},t.prototype.getCurrentViewComponent=function(){return this.monthView||this.yearView||this.multiYearView},t}();E.decorators=[{type:n.Component,args:[{selector:"mc-calendar",exportAs:"mcCalendar",template:'<ng-template [cdkPortalOutlet]="calendarHeaderPortal"></ng-template>\n\n<div class="mc-calendar__content" [ngSwitch]="currentView">\n    <mc-month-view\n        *ngSwitchCase="\'month\'"\n        [(activeDate)]="activeDate"\n        [selected]="selected"\n        [dateFilter]="dateFilter"\n        [maxDate]="maxDate"\n        [minDate]="minDate"\n        [dateClass]="dateClass"\n        (selectedChange)="dateSelected($event)"\n        (userSelection)="userSelected()">\n    </mc-month-view>\n\n    <mc-year-view\n        *ngSwitchCase="\'year\'"\n        [(activeDate)]="activeDate"\n        [selected]="selected"\n        [dateFilter]="dateFilter"\n        [maxDate]="maxDate"\n        [minDate]="minDate"\n        (monthSelected)="monthSelectedInYearView($event)"\n        (selectedChange)="goToDateInView($event, \'multi-year\')">\n    </mc-year-view>\n\n    <mc-multi-year-view\n        *ngSwitchCase="\'multi-year\'"\n        [(activeDate)]="activeDate"\n        [selected]="selected"\n        [dateFilter]="dateFilter"\n        [maxDate]="maxDate"\n        [minDate]="minDate"\n        (yearSelected)="yearSelectedInMultiYearView($event)"\n        (selectedChange)="goToDateInView($event, \'month\')">\n    </mc-multi-year-view>\n</div>\n',host:{class:"mc-calendar"},encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,styles:['.mc-calendar{display:block}.mc-calendar-header{display:flex;padding:var(--mc-datepicker-calendar-size-padding-top,16px) var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-blocks,12px) var(--mc-datepicker-calendar-size-padding-horizontal,8px)}.mc-calendar__content{padding:0 var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-horizontal,8px);outline:none}.mc-calendar-spacer{flex:1 1 auto}.mc-calendar__period-button{min-width:0}.mc-calendar__previous-button:after{border-left-width:var(--mc-datepicker-calendar-size-icon-border-width,2px);transform:var(--mc-datepicker-calendar-size-icon-prev-icon-transform,translateX(2px) rotate(-45deg))}.mc-calendar__next-button:after{border-right-width:var(--mc-datepicker-calendar-size-icon-border-width,2px);transform:var(--mc-datepicker-calendar-size-icon-nex-icon-transform,translateX(-2px) rotate(45deg))}.mc-calendar__table{border-spacing:0;border-collapse:collapse;width:100%}.mc-calendar__table-header th{text-align:center;height:30px}.mc-calendar__table-header th.mc-calendar__table-header-divider{position:relative;height:calc(var(--mc-datepicker-calendar-size-padding-blocks, 12px) - 2px)}.mc-calendar__table-header th.mc-calendar__table-header-divider:after{content:"";position:absolute;top:0;left:calc(-1 * var(--mc-datepicker-calendar-size-padding-horizontal, 8px));right:calc(-1 * var(--mc-datepicker-calendar-size-padding-horizontal, 8px));height:var(--mc-datepicker-calendar-size-divider-width,1px)}']}]}],E.ctorParameters=function(){return[{type:_},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[d.MC_DATE_FORMATS]}]},{type:n.ChangeDetectorRef}]},E.propDecorators={startAt:[{type:n.Input}],selected:[{type:n.Input}],minDate:[{type:n.Input}],maxDate:[{type:n.Input}],headerComponent:[{type:n.Input}],startView:[{type:n.Input}],dateFilter:[{type:n.Input}],dateClass:[{type:n.Input}],selectedChange:[{type:n.Output}],yearSelected:[{type:n.Output}],monthSelected:[{type:n.Output}],userSelection:[{type:n.Output}],monthView:[{type:n.ViewChild,args:[w,{static:!1}]}],yearView:[{type:n.ViewChild,args:[V,{static:!1}]}],multiYearView:[{type:n.ViewChild,args:[O,{static:!1}]}]};Object.create;function I(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],i=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var i,r,n=a.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}return s}var P;Object.create;!function(e){e.year="y",e.month="m",e.day="d"}(P||(P={}));var R=function(){function e(e,t,a,i){void 0===i&&(i=0),this.value=e,this.start=t,this.length=a,this.firstMonth=i,this.maxDays=31,e===P.day?this.parse=this.parseDay:e===P.month?this.parse=this.parseMonth:e===P.year&&(this.parse=this.parseYear)}return Object.defineProperty(e.prototype,"maxMonth",{get:function(){return 11+this.firstMonth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.start+this.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDay",{get:function(){return this.value===P.day},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMonth",{get:function(){return this.value===P.month},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isYear",{get:function(){return this.value===P.year},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.isDay?"date":this.isMonth?"month":this.isYear?"year":void 0},enumerable:!1,configurable:!0}),e.prototype.parseDay=function(e){var t=parseInt(e);return 0===t?1:t>this.maxDays?this.maxDays:t},e.prototype.parseMonth=function(e){var t=parseInt(e);return 0===t?1:t>this.maxMonth?this.maxMonth:t},e.prototype.parseYear=function(e){var t=parseInt(e);return 0===t?1:t},e}(),Y={provide:m.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return j})),multi:!0},T={provide:m.NG_VALIDATORS,useExisting:n.forwardRef((function(){return j})),multi:!0},N=function(e,t){this.target=e,this.targetElement=t,this.value=this.target.value},F=0,j=function(){function e(e,t,a,i){var r=this;if(this.elementRef=e,this.renderer=t,this.dateAdapter=a,this.dateFormats=i,this.stateChanges=new l.Subject,this.controlType="datepicker",this.focused=!1,this.valueChange=new n.EventEmitter,this.disabledChange=new n.EventEmitter,this._disabled=!1,this.incorrectInput=new n.EventEmitter,this.dateChange=new n.EventEmitter,this.dateInput=new n.EventEmitter,this.uid="mc-datepicker-"+F++,this.datepickerSubscription=l.Subscription.EMPTY,this.localeSubscription=l.Subscription.EMPTY,this.lastValueValid=!1,this.onTouched=function(){},this.onInput=function(){r.correctCursorPosition();var e=r.replaceSymbols(r.viewValue),t=r.getDateFromString(e);if(r.lastValueValid=!!t,!t)return r.control.updateValueAndValidity(),void(r._value=null);r.setViewValue(r.getTimeStringFromDate(t,r.dateFormats.dateInput),!0),r.selectNextDigitByCursor(r.selectionStart),r.updateValue(t)},this.parseOnBlur=function(){if(!r.viewValue)return null;var e=r.getDefaultValue(),t=r.viewValue.split(r.separator).map((function(e){return e})).filter((function(e){return e})),a=S(t,3),i=a[0],n=a[1],s=a[2];if(3!==t.length)return r.lastValueValid=!1,r._value=null,setTimeout((function(){return r.control.updateValueAndValidity()}));e[r.firstDigit.fullName]=r.firstDigit.parse(i),e[r.secondDigit.fullName]=r.secondDigit.parse(n),e[r.thirdDigit.fullName]=r.thirdDigit.parse(s);var o=S([r.firstDigit,r.secondDigit,r.thirdDigit].reduce((function(e,a,i){return a.value===P.year?[a,t[i]]:e}),[]),2),c=o[0],d=o[1];if(d.length<3)e.year+=e.year<30?2e3:1900;else if(d.length<c.length)return r.lastValueValid=!1,r._value=null,setTimeout((function(){return r.control.updateValueAndValidity()}));var l=r.getValidDateOrNull(r.dateAdapter.createDateTime(e.year,e.month,e.date,e.hours,e.minutes,e.seconds,e.milliseconds));r.lastValueValid=!!l,r.setViewValue(r.getTimeStringFromDate(l,r.dateFormats.dateInput),!0),r.updateValue(l)},this.updateLocaleParams=function(){r.setFormat(r.dateFormats.dateInput),r.value=r.value},this.cvaOnChange=function(){},this.validatorOnChange=function(){},this.parseValidator=function(){return r.focused||r.empty||r.lastValueValid?null:{mcDatepickerParse:{text:r.elementRef.nativeElement.value}}},this.minValidator=function(e){var t=r.getValidDateOrNull(r.dateAdapter.deserialize(e.value));return!r.min||!t||r.dateAdapter.compareDate(r.min,t)<=0?null:{mcDatepickerMin:{min:r.min,actual:t}}},this.maxValidator=function(e){var t=r.getValidDateOrNull(r.dateAdapter.deserialize(e.value));return!r.max||!t||r.dateAdapter.compareDate(r.max,t)>=0?null:{mcDatepickerMax:{max:r.max,actual:t}}},this.filterValidator=function(e){var t=r.getValidDateOrNull(r.dateAdapter.deserialize(e.value));return r.dateFilter&&t&&!r.dateFilter(t)?{mcDatepickerFilter:!0}:null},this.validator=m.Validators.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator]),!this.dateAdapter)throw A("DateAdapter");if(!this.dateFormats)throw A("MC_DATE_FORMATS");this.setFormat(i.dateInput),this.localeSubscription=a.localeChanges.subscribe(this.updateLocaleParams)}return Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=u.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcDatepicker",{set:function(e){var t=this;e&&(this.datepicker=e,this.datepicker.registerInput(this),this.datepickerSubscription.unsubscribe(),this.datepickerSubscription=this.datepicker.selectedChanged.subscribe((function(e){t.value=e,t.cvaOnChange(e),t.onTouched(),t.dateChange.emit(new N(t,t.elementRef.nativeElement))})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcDatepickerFilter",{set:function(e){this.dateFilter=e,this.validatorOnChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){var t=this.dateAdapter.deserialize(e);this.lastValueValid=!t||this.dateAdapter.isValid(t),t=this.getValidDateOrNull(t);var a=this.value;this._value=t,this.formatValue(t),this.dateAdapter.sameDate(a,t)||this.valueChange.emit(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=this.getValidDateOrNull(this.dateAdapter.deserialize(e)),this.validatorOnChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=this.getValidDateOrNull(this.dateAdapter.deserialize(e)),this.validatorOnChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=u.coerceBooleanProperty(e),a=this.elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&a.blur&&a.blur()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcValidationTooltip",{set:function(e){e&&(e.mcMouseEnterDelay=f.validationTooltipShowDelay,e.mcTrigger="manual",e.mcTooltipClass="mc-tooltip_warning",e.initElementRefListeners(),this.incorrectInput.subscribe((function(){e.isTooltipOpen||(e.show(),setTimeout((function(){return e.hide()}),f.validationTooltipHideDelay))})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.viewValue&&!this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewValue",{get:function(){return this.elementRef.nativeElement.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ngControl",{get:function(){return this.control},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this.elementRef.nativeElement.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this.elementRef.nativeElement.selectionStart},set:function(e){this.elementRef.nativeElement.selectionStart=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this.elementRef.nativeElement.selectionEnd},set:function(e){this.elementRef.nativeElement.selectionEnd=e},enumerable:!1,configurable:!0}),e.prototype.onContainerClick=function(){this.focus()},e.prototype.focus=function(){this.elementRef.nativeElement.focus()},e.prototype.focusChanged=function(e){e!==this.focused&&(this.focused=e,this.onTouched(),this.stateChanges.next())},e.prototype.ngOnDestroy=function(){this.datepickerSubscription.unsubscribe(),this.localeSubscription.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()},e.prototype.registerOnValidatorChange=function(e){this.validatorOnChange=e},e.prototype.validate=function(e){return this.setControl(e),this.validator?this.validator(e):null},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.cvaOnChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.onKeyDown=function(e){if(!this.isReadOnly){var t=e.keyCode;if(this.isLetterKey(e))e.preventDefault(),this.incorrectInput.emit();else if(this.isKeyForOpen(e))e.preventDefault(),this.datepicker.open();else if(this.isKeyForClose(e))e.preventDefault(),this.datepicker.close();else if(t===h.TAB)this.datepicker.close(!1);else{if(this.isKeyForByPass(e))return;if(t===h.SPACE)this.spaceKeyHandler(e);else if([h.UP_ARROW,h.DOWN_ARROW].includes(t))e.preventDefault(),this.verticalArrowKeyHandler(t);else if([h.LEFT_ARROW,h.RIGHT_ARROW,h.HOME,h.PAGE_UP,h.END,h.PAGE_DOWN].includes(t))e.preventDefault(),this.changeCaretPosition(t);else if(/^\D$/.test(e.key)){e.preventDefault();var a=this.getNewValue(e.key,this.selectionStart),i=this.replaceSymbols(a);a!==i?(this.setViewValue(i,!0),setTimeout(this.onInput)):this.incorrectInput.emit()}else setTimeout(this.onInput)}}},e.prototype.onChange=function(){this.dateChange.emit(new N(this,this.elementRef.nativeElement))},e.prototype.onBlur=function(){this.parseOnBlur(),this.focusChanged(!1)},e.prototype.onPaste=function(e){var t,a,i;e.preventDefault();var r=e.clipboardData.getData("text"),n=r.match(/^(?<first>\d+)\W(?<second>\d+)\W(?<third>\d+)$/);if(!(null===(t=null==n?void 0:n.groups)||void 0===t?void 0:t.first)||!(null===(a=null==n?void 0:n.groups)||void 0===a?void 0:a.second)||!(null===(i=null==n?void 0:n.groups)||void 0===i?void 0:i.third))return this.setViewValue(r),r;var s=[n.groups.first,n.groups.second,n.groups.third].join(this.separator),o=this.getDateFromString(s);if(!o)return this.setViewValue(s),s;this.setViewValue(this.getTimeStringFromDate(o,this.dateFormats.dateInput)),this.updateValue(o)},e.prototype.toISO8601=function(e){return this.dateAdapter.toIso8601(e)},e.prototype.setFormat=function(e){var t=this;this.separator=e.match(/[aA-zZ]+(?<separator>\W|\D)[aA-zZ]+/).groups.separator,this.separatorPositions=e.split("").reduce((function(e,a,i){return t.separator===a?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(S(arguments[t]));return e}(e,[i+1]):e}),[]),this.getDigitPositions(e)},e.prototype.updateValue=function(e){this.dateAdapter.sameDate(e,this.value)||(this._value=e,this.cvaOnChange(e),this.valueChange.emit(e),this.dateInput.emit(new N(this,this.elementRef.nativeElement))),this.control.updateValueAndValidity()},e.prototype.isKeyForClose=function(e){return e.altKey&&e.keyCode===h.UP_ARROW||e.keyCode===h.ESCAPE},e.prototype.isKeyForOpen=function(e){return e.altKey&&e.keyCode===h.DOWN_ARROW},e.prototype.isLetterKey=function(e){return h.isLetterKey(e)&&!e.ctrlKey&&!e.metaKey},e.prototype.isKeyForByPass=function(e){return h.hasModifierKey(e)&&(h.isVerticalMovement(e.keyCode)||h.isHorizontalMovement(e.keyCode))||e.ctrlKey||e.metaKey||[h.DELETE,h.BACKSPACE].includes(e.keyCode)},e.prototype.spaceKeyHandler=function(e){if(e.preventDefault(),this.selectionStart===this.selectionEnd){var t=this.getNewValue(e.key,this.selectionStart);this.setViewValue(t),setTimeout(this.onInput)}else this.selectionStart!==this.selectionEnd&&this.selectNextDigit(this.selectionStart,!0)},e.prototype.getNewValue=function(e,t){return[this.viewValue.slice(0,t),e,this.viewValue.slice(t)].join("")},e.prototype.setViewValue=function(e,t){if(void 0===t&&(t=!1),t){var a=this.selectionStart,i=this.selectionEnd;this.renderer.setProperty(this.elementRef.nativeElement,"value",e),this.selectionStart=a,this.selectionEnd=i}else this.renderer.setProperty(this.elementRef.nativeElement,"value",e)},e.prototype.replaceSymbols=function(e){return e.split(this.separator).map((function(e){return e.replace(/^([0-9]+)\W$/,"0$1")})).join(this.separator)},e.prototype.getDateFromString=function(e){if(!e||e.length<this.firstDigit.length)return null;var t=this.getDefaultValue(),a=e.split(this.separator).map((function(e){return e})),i=S(a,3),r=i[0],n=i[1],s=i[2];if(1===a.length){if(r.length<this.firstDigit.length)return null;t[this.firstDigit.fullName]=this.firstDigit.parse(r),t.month=0}else if(2===a.length){if(r.length<this.firstDigit.length||n.length<this.secondDigit.length)return null;t[this.firstDigit.fullName]=this.firstDigit.parse(r),t[this.secondDigit.fullName]=this.secondDigit.parse(n)}else{if(3!==a.length)return null;if(r.length<this.firstDigit.length||n.length<this.secondDigit.length||s.length<this.thirdDigit.length)return null;t[this.firstDigit.fullName]=this.firstDigit.parse(r),t[this.secondDigit.fullName]=this.secondDigit.parse(n),t[this.thirdDigit.fullName]=this.thirdDigit.parse(s)}return this.getValidDateOrNull(this.dateAdapter.createDateTime(t.year,t.month,t.date,t.hours,t.minutes,t.seconds,t.milliseconds))},e.prototype.getDefaultValue=function(){var e=this.value||this.dateAdapter.today();return{year:this.dateAdapter.getYear(e),month:this.dateAdapter.getMonth(e),date:this.dateAdapter.getDate(e),hours:this.dateAdapter.getHours(e),minutes:this.dateAdapter.getMinutes(e),seconds:this.dateAdapter.getSeconds(e),milliseconds:this.dateAdapter.getMilliseconds(e)}},e.prototype.getTimeStringFromDate=function(e,t){return e&&this.dateAdapter.isValid(e)?this.dateAdapter.format(e,t):""},e.prototype.getDateEditMetrics=function(e){var t,a;try{for(var i=I([this.firstDigit,this.secondDigit,this.thirdDigit]),r=i.next();!r.done;r=i.next()){var n=r.value;if(e>=n.start&&e<=n.end)return[n.value,n.start,n.end]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}return[this.thirdDigit.value,this.thirdDigit.start,this.thirdDigit.end]},e.prototype.incrementDate=function(e,t){var a=this.dateAdapter.getYear(e),i=this.dateAdapter.getMonth(e),r=this.dateAdapter.getDate(e);switch(t){case P.day:++r>this.dateAdapter.getNumDaysInMonth(e)&&(r=1);break;case P.month:++i>this.dateAdapter.lastMonth&&(i=this.dateAdapter.firstMonth);var n=this.getLastDayFor(a,i);r>n&&(r=n);break;case P.year:a++}return this.createDate(a,i,r)},e.prototype.getLastDayFor=function(e,t){return this.dateAdapter.getNumDaysInMonth(this.createDate(e,t,1))},e.prototype.decrementDate=function(e,t){var a=this.dateAdapter.getYear(e),i=this.dateAdapter.getMonth(e),r=this.dateAdapter.getDate(e);switch(t){case P.day:--r<1&&(r=this.dateAdapter.getNumDaysInMonth(e));break;case P.month:--i<this.dateAdapter.firstMonth&&(i=this.dateAdapter.lastMonth);var n=this.getLastDayFor(a,i);r>n&&(r=n);break;case P.year:a--}return this.createDate(a,i,r)},e.prototype.verticalArrowKeyHandler=function(e){if(this.value){var t,a=S(this.getDateEditMetrics(this.selectionStart),3),i=a[0],r=a[1],n=a[2];e===h.UP_ARROW&&(t=this.incrementDate(this.value,i)),e===h.DOWN_ARROW&&(t=this.decrementDate(this.value,i)),this.value=t,this.selectionStart=r,this.selectionEnd=n,this.onChange(),this.stateChanges.next()}},e.prototype.changeCaretPosition=function(e){if(this.value){var t=this.selectionStart;if([h.HOME,h.PAGE_UP].includes(e))t=0;else if([h.END,h.PAGE_DOWN].includes(e))t=this.viewValue.length;else if(e===h.LEFT_ARROW)t=0===t?this.viewValue.length:t-1;else if(e===h.RIGHT_ARROW){var a=this.viewValue.indexOf(this.separator,t);t=a?a+1:0}this.selectDigitByCursor(t)}},e.prototype.selectDigitByCursor=function(e){var t=this;setTimeout((function(){var a=S(t.getDateEditMetrics(e),3),i=a[1],r=a[2];t.selectionStart=i,t.selectionEnd=r}))},e.prototype.selectNextDigitByCursor=function(e){var t=this;setTimeout((function(){var a=S(t.getDateEditMetrics(e),3)[2],i=S(t.getDateEditMetrics(a+1),3),r=i[1],n=i[2];t.selectionStart=r,t.selectionEnd=n}))},e.prototype.selectNextDigit=function(e,t){var a=this;void 0===t&&(t=!1),setTimeout((function(){var i=t?0:e,r=a.viewValue.indexOf(a.separator,e),n=r>0?r+1:i,s=S(a.getDateEditMetrics(n),3),o=s[1],c=s[2];a.selectionStart=o,a.selectionEnd=c}))},e.prototype.isBadInput=function(){var e=this.elementRef.nativeElement.validity;return e&&e.badInput},e.prototype.formatValue=function(e){var t=e?this.dateAdapter.format(e,this.dateFormats.dateInput):"";this.setViewValue(t)},e.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},e.prototype.setControl=function(e){this.control||(this.control=e)},e.prototype.getDigitPositions=function(e){var t=this;e.toLowerCase().split("").reduce((function(e,a,i,r){var n=e.prev,s=e.length,o=e.start;return a===t.separator||r.length-1===i?(t.firstDigit?t.secondDigit?t.thirdDigit||(t.thirdDigit=new R(n,o,r.length-o,t.dateAdapter.firstMonth)):t.secondDigit=new R(n,o,s,t.dateAdapter.firstMonth):t.firstDigit=new R(n,o,s,t.dateAdapter.firstMonth),s=0,o=i+1):s++,{prev:a,length:s,start:o}}),{length:0,start:0}),this.firstDigit&&this.secondDigit&&this.thirdDigit||Error("Can' t use this format: "+e)},e.prototype.createDate=function(e,t,a){return this.dateAdapter.createDateTime(e,t,a,this.dateAdapter.getHours(this.value),this.dateAdapter.getMinutes(this.value),this.dateAdapter.getSeconds(this.value),this.dateAdapter.getMilliseconds(this.value))},e.prototype.correctCursorPosition=function(){this.selectionStart&&this.separatorPositions.includes(this.selectionStart)&&(this.selectionStart=this.selectionStart-1)},e}();j.decorators=[{type:n.Directive,args:[{selector:"input[mcDatepicker]",exportAs:"mcDatepickerInput",providers:[Y,T,{provide:g.McFormFieldControl,useExisting:j}],host:{class:"mc-input mc-datepicker","[attr.placeholder]":"placeholder","[attr.required]":"required","[attr.disabled]":"disabled || null","[attr.min]":"min ? toISO8601(min) : null","[attr.max]":"max ? toISO8601(max) : null","[attr.autocomplete]":'"off"',"(paste)":"onPaste($event)","(change)":"onChange()","(focus)":"focusChanged(true)","(blur)":"onBlur()","(keydown)":"onKeyDown($event)"}}]}],j.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[d.MC_DATE_FORMATS]}]}]},j.propDecorators={placeholder:[{type:n.Input}],required:[{type:n.Input}],mcDatepicker:[{type:n.Input}],mcDatepickerFilter:[{type:n.Input}],value:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],disabled:[{type:n.Input}],id:[{type:n.Input}],mcValidationTooltip:[{type:n.Input}],incorrectInput:[{type:n.Output}],dateChange:[{type:n.Output}],dateInput:[{type:n.Output}]};var z=function(){};z.decorators=[{type:n.Directive,args:[{selector:"[mcDatepickerToggleIcon]"}]}];var L=function(){function e(e,t){this.intl=e,this.changeDetectorRef=t,this.stateChanges=l.Subscription.EMPTY}return Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled?this.datepicker.disabled:this._disabled},set:function(e){this._disabled=u.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){e.datepicker&&this.watchStateChanges()},e.prototype.ngOnDestroy=function(){this.stateChanges.unsubscribe()},e.prototype.ngAfterContentInit=function(){this.watchStateChanges()},e.prototype.open=function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())},e.prototype.watchStateChanges=function(){var e=this,t=this.datepicker?this.datepicker.disabledChange:l.of(),a=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.disabledChange:l.of(),i=this.datepicker?l.merge(this.datepicker.openedStream,this.datepicker.closedStream):l.of();this.stateChanges.unsubscribe(),this.stateChanges=l.merge(this.intl.changes,t,a,i).subscribe((function(){return e.changeDetectorRef.markForCheck()}))},e}();L.decorators=[{type:n.Component,args:[{selector:"mc-datepicker-toggle",template:'\x3c!--todo need simplify this--\x3e\n<button\n    #button\n    mc-button\n    type="button"\n    class="mc-datepicker-toggle__button"\n    aria-haspopup="true"\n    [attr.aria-label]="intl.openCalendarLabel"\n    [attr.tabindex]="tabIndex"\n    [disabled]="disabled"\n    (click)="open($event)">\n\n    <i *ngIf="!customIcon" mc-icon="mc-calendar_16" class="mc-datepicker-toggle__default-icon"></i>\n\n    <ng-content select="[mcDatepickerToggleIcon]"></ng-content>\n</button>\n',host:{class:"mc-datepicker-toggle","[class.mc-active]":"datepicker && datepicker.opened"},exportAs:"mcDatepickerToggle",encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[".mc-datepicker-toggle:focus{outline:0}.mc-datepicker-toggle__button.mc-icon-button{width:var(--mc-datepicker-toggle-size-width,30px);height:var(--mc-datepicker-toggle-size-height,30px);margin-left:2px}.mc-form-field-appearance-legacy .mc-form-field-prefix .mc-datepicker-toggle__default-icon,.mc-form-field-appearance-legacy .mc-form-field-suffix .mc-datepicker-toggle__default-icon{width:1em}.mc-form-field:not(.mc-form-field-appearance-legacy) .mc-form-field-prefix .mc-datepicker-toggle__default-icon,.mc-form-field:not(.mc-form-field-appearance-legacy) .mc-form-field-suffix .mc-datepicker-toggle__default-icon{display:block;width:1.5em;height:1.5em}.mc-form-field:not(.mc-form-field-appearance-legacy) .mc-form-field-prefix .mc-icon-button .mc-datepicker-toggle__default-icon,.mc-form-field:not(.mc-form-field-appearance-legacy) .mc-form-field-suffix .mc-icon-button .mc-datepicker-toggle__default-icon{margin:auto}"]}]}],L.ctorParameters=function(){return[{type:_},{type:n.ChangeDetectorRef}]},L.propDecorators={disabled:[{type:n.Input}],datepicker:[{type:n.Input,args:["for"]}],tabIndex:[{type:n.Input}],customIcon:[{type:n.ContentChild,args:[z,{static:!1}]}],button:[{type:n.ViewChild,args:["button",{static:!1}]}]};var B={transformPanel:y.trigger("transformPanel",[y.state("void",y.style({opacity:0,transform:"scale(1, 0.8)"})),y.transition("void => enter",y.animate("120ms cubic-bezier(0, 0, 0.2, 1)",y.style({opacity:1,transform:"scale(1, 1)"}))),y.transition("* => void",y.animate("100ms linear",y.style({opacity:0})))]),fadeInCalendar:y.trigger("fadeInCalendar",[y.state("void",y.style({opacity:0})),y.state("enter",y.style({opacity:1})),y.transition("void => *",y.animate("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);var W=0,K=new n.InjectionToken("mc-datepicker-scroll-strategy");function q(e){return function(){return e.scrollStrategies.reposition()}}var H={provide:K,deps:[a.Overlay],useFactory:q},$=function(){};$.decorators=[{type:n.Component,args:[{selector:"mc-datepicker__content",exportAs:"mcDatepickerContent",template:'<mc-calendar [id]="datepicker.id"\n             [ngClass]="datepicker.panelClass"\n             [startAt]="datepicker.startAt"\n             [startView]="datepicker.startView"\n             [minDate]="datepicker.minDate"\n             [maxDate]="datepicker.maxDate"\n             [dateFilter]="datepicker.dateFilter"\n             [headerComponent]="datepicker.calendarHeaderComponent"\n             [selected]="datepicker.selected"\n             [dateClass]="datepicker.dateClass"\n             [@fadeInCalendar]="\'enter\'"\n             (selectedChange)="datepicker.select($event)"\n             (yearSelected)="datepicker.selectYear($event)"\n             (monthSelected)="datepicker.selectMonth($event)"\n             (userSelection)="datepicker.close()">\n</mc-calendar>\n',host:{class:"mc-datepicker__content","[@transformPanel]":'"enter"'},animations:[B.transformPanel,B.fadeInCalendar],encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,styles:['.mc-calendar{display:block}.mc-calendar-header{display:flex;padding:var(--mc-datepicker-calendar-size-padding-top,16px) var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-blocks,12px) var(--mc-datepicker-calendar-size-padding-horizontal,8px)}.mc-calendar__content{padding:0 var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-horizontal,8px) var(--mc-datepicker-calendar-size-padding-horizontal,8px);outline:none}.mc-calendar-spacer{flex:1 1 auto}.mc-calendar__period-button{min-width:0}.mc-calendar__previous-button:after{border-left-width:var(--mc-datepicker-calendar-size-icon-border-width,2px);transform:var(--mc-datepicker-calendar-size-icon-prev-icon-transform,translateX(2px) rotate(-45deg))}.mc-calendar__next-button:after{border-right-width:var(--mc-datepicker-calendar-size-icon-border-width,2px);transform:var(--mc-datepicker-calendar-size-icon-nex-icon-transform,translateX(-2px) rotate(45deg))}.mc-calendar__table{border-spacing:0;border-collapse:collapse;width:100%}.mc-calendar__table-header th{text-align:center;height:30px}.mc-calendar__table-header th.mc-calendar__table-header-divider{position:relative;height:calc(var(--mc-datepicker-calendar-size-padding-blocks, 12px) - 2px)}.mc-calendar__table-header th.mc-calendar__table-header-divider:after{content:"";position:absolute;top:0;left:calc(-1 * var(--mc-datepicker-calendar-size-padding-horizontal, 8px));right:calc(-1 * var(--mc-datepicker-calendar-size-padding-horizontal, 8px));height:var(--mc-datepicker-calendar-size-divider-width,1px)}.mc-datepicker__content{display:block;border-width:1px;border-style:solid}.mc-datepicker__content .mc-calendar{width:296px;height:348px}.mc-datepicker__content .mc-calendar__next-button[disabled],.mc-datepicker__content .mc-calendar__previous-button[disabled]{border:0}']}]}],$.propDecorators={calendar:[{type:n.ViewChild,args:[E,{static:!1}]}]};var G=function(){function t(t,a,i,r,s,o,c){if(this.overlay=t,this.ngZone=a,this.viewContainerRef=i,this.dateAdapter=s,this.dir=o,this.document=c,this._hasBackdrop=!1,this._opened=!1,this.startView=e.McCalendarView.Month,this.yearSelected=new n.EventEmitter,this.monthSelected=new n.EventEmitter,this.backdropClass="cdk-overlay-transparent-backdrop",this.openedStream=new n.EventEmitter,this.closedStream=new n.EventEmitter,this.id="mc-datepicker-"+W++,this.stateChanges=new l.Subject,this.disabledChange=new l.Subject,this.selectedChanged=new l.Subject,this.validSelected=null,this.focusedElementBeforeOpen=null,this.inputSubscription=l.Subscription.EMPTY,this.closeSubscription=l.Subscription.EMPTY,!this.dateAdapter)throw A("DateAdapter");this.scrollStrategy=r}return Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=u.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startAt",{get:function(){return this._startAt||(this.datepickerInput?this.datepickerInput.value:null)},set:function(e){this._startAt=this.getValidDateOrNull(this.dateAdapter.deserialize(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:this._disabled},set:function(e){var t=u.coerceBooleanProperty(e);t!==this._disabled&&(this._disabled=t,this.disabledChange.next(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},set:function(e){u.coerceBooleanProperty(e)?this.open():this.close()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.validSelected},set:function(e){this.validSelected=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this.datepickerInput&&this.datepickerInput.min},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this.datepickerInput&&this.datepickerInput.max},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dateFilter",{get:function(){return this.datepickerInput&&this.datepickerInput.dateFilter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.selected},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.close(),this.inputSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.disabledChange.complete(),this.popupRef&&(this.popupRef.dispose(),this.popupComponentRef=null)},t.prototype.select=function(e){var t=this.selected;this.selected=e,this.dateAdapter.sameDate(t,this.selected)||this.selectedChanged.next(e)},t.prototype.selectYear=function(e){this.yearSelected.emit(e)},t.prototype.selectMonth=function(e){this.monthSelected.emit(e)},t.prototype.registerInput=function(e){var t=this;if(this.datepickerInput)throw Error("A McDatepicker can only be associated with a single input.");this.datepickerInput=e,this.inputSubscription=this.datepickerInput.valueChange.subscribe((function(e){var a;t.selected=e,t.popupComponentRef&&(null===(a=t.popupComponentRef.instance.calendar.monthView)||void 0===a||a.init(),t.popupComponentRef.instance.calendar.activeDate=e)}))},t.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this.datepickerInput)throw Error("Attempted to open an McDatepicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.openAsPopup(),this._opened=!0,this.openedStream.emit()}},t.prototype.close=function(e){var t=this;if(void 0===e&&(e=!0),this._opened){this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.calendarPortal&&this.calendarPortal.isAttached&&this.calendarPortal.detach();var a=function(){t._opened&&(t._opened=!1,t.closedStream.emit(),t.focusedElementBeforeOpen=null,e&&t.datepickerInput.elementRef.nativeElement.focus())};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(e&&this.focusedElementBeforeOpen.focus(),setTimeout(a)):a()}},t.prototype.toggle=function(){this.datepickerInput.isReadOnly||(this._opened?this.close():this.open())},t.prototype.openAsPopup=function(){var e=this;this.calendarPortal||(this.calendarPortal=new i.ComponentPortal($,this.viewContainerRef)),this.popupRef||this.createPopup(),this.popupRef.hasAttached()||(this.popupComponentRef=this.popupRef.attach(this.calendarPortal),this.popupComponentRef.instance.datepicker=this,this.ngZone.onStable.asObservable().pipe(c.take(1)).subscribe((function(){return e.popupRef.updatePosition()})))},t.prototype.createPopup=function(){var e=this,t=new a.OverlayConfig({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:this.hasBackdrop,backdropClass:this.backdropClass,direction:this.dir,scrollStrategy:this.scrollStrategy(),panelClass:"mc-datepicker__popup"});this.popupRef=this.overlay.create(t),this.closeSubscription=this.closingActions().subscribe((function(){return e.close()}))},t.prototype.closingActions=function(){return l.merge(this.popupRef.backdropClick(),this.popupRef.outsidePointerEvents())},t.prototype.createPopupPositionStrategy=function(){return this.overlay.position().flexibleConnectedTo(this.datepickerInput.elementRef).withTransformOriginOn(".mc-datepicker__content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])},t.prototype.getValidDateOrNull=function(e){return this.dateAdapter.isDateInstance(e)&&this.dateAdapter.isValid(e)?e:null},t}();G.decorators=[{type:n.Component,args:[{selector:"mc-datepicker",template:"",exportAs:"mcDatepicker",changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,providers:[{provide:g.McFormFieldControl,useExisting:G}]}]}],G.ctorParameters=function(){return[{type:a.Overlay},{type:n.NgZone},{type:n.ViewContainerRef},{type:void 0,decorators:[{type:n.Inject,args:[K]}]},{type:d.DateAdapter,decorators:[{type:n.Optional}]},{type:p.Directionality,decorators:[{type:n.Optional}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[r.DOCUMENT]}]}]},G.propDecorators={hasBackdrop:[{type:n.Input}],startAt:[{type:n.Input}],disabled:[{type:n.Input}],opened:[{type:n.Input}],calendarHeaderComponent:[{type:n.Input}],startView:[{type:n.Input}],yearSelected:[{type:n.Output}],monthSelected:[{type:n.Output}],panelClass:[{type:n.Input}],dateClass:[{type:n.Input}],backdropClass:[{type:n.Input}],openedStream:[{type:n.Output,args:["opened"]}],closedStream:[{type:n.Output,args:["closed"]}]};var U=function(){};U.decorators=[{type:n.NgModule,args:[{imports:[r.CommonModule,s.McButtonModule,a.OverlayModule,t.A11yModule,i.PortalModule,o.McIconModule],exports:[E,C,G,$,j,L,z,w,V,O,x,s.McButtonModule],declarations:[E,C,G,$,j,L,z,w,V,O,x],providers:[_,H],entryComponents:[$,x]}]}],e.MC_DATEPICKER_SCROLL_STRATEGY=K,e.MC_DATEPICKER_SCROLL_STRATEGY_FACTORY=q,e.MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER=H,e.MC_DATEPICKER_VALIDATORS=T,e.MC_DATEPICKER_VALUE_ACCESSOR=Y,e.McCalendar=E,e.McCalendarBody=C,e.McCalendarCell=b,e.McCalendarHeader=x,e.McDatepicker=G,e.McDatepickerContent=$,e.McDatepickerInput=j,e.McDatepickerInputEvent=N,e.McDatepickerIntl=_,e.McDatepickerModule=U,e.McDatepickerToggle=L,e.McDatepickerToggleIcon=z,e.McMonthView=w,e.McMultiYearView=O,e.McYearView=V,e.mcDatepickerAnimations=B,e.yearsPerPage=k,e.yearsPerRow=4,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-datepicker.umd.min.js.map