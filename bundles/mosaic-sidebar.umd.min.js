/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@angular/core"),require("@ptsecurity/cdk/keycodes"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/sidebar",["exports","@angular/animations","@angular/core","@ptsecurity/cdk/keycodes","@angular/common"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.sidebar={}),e.ng.animations,e.ng.core,e.ng.cdk.keycodes,e.ng.common)}(this,function(e,t,n,i,o){"use strict";var s={Opened:"opened",Closed:"closed"},r={sidebarState:t.trigger("state",[t.state("opened",t.style({minWidth:"{{ openedStateMinWidth }}",width:"{{ openedStateWidth }}",maxWidth:"{{ openedStateMaxWidth }}"}),{params:{openedStateMinWidth:"",openedStateWidth:"",openedStateMaxWidth:""}}),t.state("closed",t.style({minWidth:"{{ closedStateWidth }}",width:"{{ closedStateWidth }}",maxWidth:"{{ closedStateWidth }}"}),{params:{closedStateWidth:""}}),t.transition("opened => closed",[t.animate("0.1s")]),t.transition("closed => opened",[t.animate("0.2s")])])},a={Left:"left",Right:"right"},d=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[mc-sidebar-opened]",exportAs:"mcSidebarOpened"}]}],e.propDecorators={minWidth:[{type:n.Input}],width:[{type:n.Input}],maxWidth:[{type:n.Input}]},e}(),p=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[mc-sidebar-closed]",exportAs:"mcSidebarClosed"}]}],e.propDecorators={width:[{type:n.Input}]},e}(),c=function(){function e(e,t){this.ngZone=e,this.elementRef=t,this._opened=!0,this.stateChanged=new n.EventEmitter,this.internalState=!0,this.needSaveAndRestoreWidth=!1}return Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){this.needSaveAndRestoreWidth&&this._opened&&this.saveWidth(),this._opened=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationState",{get:function(){return this._opened?s.Opened:s.Closed},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.position!==a.Left&&this.position!==a.Right||this.registerKeydownListener()},e.prototype.ngOnDestroy=function(){this.position!==a.Left&&this.position!==a.Right||this.unRegisterKeydownListener()},e.prototype.toggle=function(){this.opened=!this.opened},e.prototype.onAnimationStart=function(){this._opened&&(this.internalState=this._opened)},e.prototype.onAnimationDone=function(){this.internalState=this._opened,this.stateChanged.emit(this._opened)},e.prototype.ngAfterContentInit=function(){this.openedContent.width||(this.needSaveAndRestoreWidth=!0),this.params={openedStateWidth:this.openedContent.width||"inherit",openedStateMinWidth:this.openedContent.minWidth||"inherit",openedStateMaxWidth:this.openedContent.maxWidth||"inherit",closedStateWidth:this.closedContent.width||"32px"}},e.prototype.registerKeydownListener=function(){var e=this;this.documentKeydownListener=function(t){i.isControl(t)||i.isInput(t)||(e.position===a.Left&&i.isLeftBracket(t)||e.position===a.Right&&i.isRightBracket(t))&&e.ngZone.run(function(){return e._opened=!e._opened})},this.ngZone.runOutsideAngular(function(){document.addEventListener("keypress",e.documentKeydownListener,!0)})},e.prototype.unRegisterKeydownListener=function(){document.removeEventListener("keypress",this.documentKeydownListener,!0)},e.prototype.saveWidth=function(){this.params.openedStateWidth=this.elementRef.nativeElement.offsetWidth+"px"},e.decorators=[{type:n.Component,args:[{selector:"mc-sidebar",exportAs:"mcSidebar",template:'<ng-container [ngSwitch]="internalState"><ng-container *ngSwitchCase="true"><ng-content select="[mc-sidebar-opened]"></ng-content></ng-container><ng-container *ngSwitchCase="false"><ng-content select="[mc-sidebar-closed]"></ng-content></ng-container></ng-container>',styles:[".mc-sidebar{display:inline-block;height:100%;overflow:hidden}.mc-sidebar-closed,.mc-sidebar-opened{height:100%}"],host:{class:"mc-sidebar","[@state]":"{\n            value: animationState,\n            params: params\n        }","(@state.start)":"onAnimationStart()","(@state.done)":"onAnimationDone()"},animations:[r.sidebarState],encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.NgZone},{type:n.ElementRef}]},e.propDecorators={opened:[{type:n.Input}],position:[{type:n.Input}],stateChanged:[{type:n.Output}],openedContent:[{type:n.ContentChild,args:[d,{static:!1}]}],closedContent:[{type:n.ContentChild,args:[p,{static:!1}]}]},e}(),h=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule],declarations:[p,d,c],exports:[p,d,c]}]}],e}();e.McSidebarModule=h,e.SidebarPositions=a,e.McSidebarOpened=d,e.McSidebarClosed=p,e.McSidebar=c,e.Éµa2=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-sidebar.umd.min.js.map
