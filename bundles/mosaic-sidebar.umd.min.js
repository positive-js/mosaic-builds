/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@ptsecurity/cdk/keycodes"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/sidebar",["exports","@angular/common","@angular/core","@ptsecurity/cdk/keycodes","@angular/animations"],t):(e=e||self,t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.sidebar={}),e.ng.common,e.ng.core,e.ng.cdk.keycodes,e.ng.animations))}(this,function(e,t,n,i,o){"use strict";var s={Opened:"opened",Closed:"closed"},a={sidebarState:o.trigger("state",[o.state("opened",o.style({minWidth:"{{ openedStateMinWidth }}",width:"{{ openedStateWidth }}",maxWidth:"{{ openedStateMaxWidth }}"}),{params:{openedStateMinWidth:"",openedStateWidth:"",openedStateMaxWidth:""}}),o.state("closed",o.style({minWidth:"{{ closedStateWidth }}",width:"{{ closedStateWidth }}",maxWidth:"{{ closedStateWidth }}"}),{params:{closedStateWidth:""}}),o.transition("opened => closed",[o.animate("0.1s")]),o.transition("closed => opened",[o.animate("0.2s")])])},r={Left:"left",Right:"right"},d=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[mc-sidebar-opened]",exportAs:"mcSidebarOpened"}]}],e.propDecorators={minWidth:[{type:n.Input}],width:[{type:n.Input}],maxWidth:[{type:n.Input}]},e}(),p=function(){function e(){}return e.decorators=[{type:n.Directive,args:[{selector:"[mc-sidebar-closed]",exportAs:"mcSidebarClosed"}]}],e.propDecorators={width:[{type:n.Input}]},e}(),c=function(){function e(e,t){this.ngZone=e,this.elementRef=t,this._opened=!0,this.params={openedStateWidth:"inherit",openedStateMinWidth:"inherit",openedStateMaxWidth:"inherit",closedStateWidth:"32px"},this.stateChanged=new n.EventEmitter,this.internalState=!0}return Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){this._opened&&this.saveWidth(),this._opened=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationState",{get:function(){return this._opened?s.Opened:s.Closed},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.position!==r.Left&&this.position!==r.Right||this.registerKeydownListener()},e.prototype.ngOnDestroy=function(){this.position!==r.Left&&this.position!==r.Right||this.unRegisterKeydownListener()},e.prototype.toggle=function(){this.opened=!this.opened},e.prototype.onAnimationStart=function(){this._opened&&(this.internalState=this._opened)},e.prototype.onAnimationDone=function(){this.internalState=this._opened,this.stateChanged.emit(this._opened)},e.prototype.ngAfterContentInit=function(){this.params={openedStateWidth:this.openedContent.width||"inherit",openedStateMinWidth:this.openedContent.minWidth||"inherit",openedStateMaxWidth:this.openedContent.maxWidth||"inherit",closedStateWidth:this.closedContent.width||"32px"}},e.prototype.registerKeydownListener=function(){var e=this;this.documentKeydownListener=function(t){i.isControl(t)||i.isInput(t)||(e.position===r.Left&&i.isLeftBracket(t)||e.position===r.Right&&i.isRightBracket(t))&&e.ngZone.run(function(){return e._opened=!e._opened})},this.ngZone.runOutsideAngular(function(){document.addEventListener("keypress",e.documentKeydownListener,!0)})},e.prototype.unRegisterKeydownListener=function(){document.removeEventListener("keypress",this.documentKeydownListener,!0)},e.prototype.saveWidth=function(){this.params.openedStateWidth=this.elementRef.nativeElement.offsetWidth+"px"},e.decorators=[{type:n.Component,args:[{selector:"mc-sidebar",exportAs:"mcSidebar",template:'<ng-container [ngSwitch]="internalState"><ng-container *ngSwitchCase="true"><ng-content select="[mc-sidebar-opened]"></ng-content></ng-container><ng-container *ngSwitchCase="false"><ng-content select="[mc-sidebar-closed]"></ng-content></ng-container></ng-container>',styles:[".mc-sidebar{display:inline-block;height:100%;overflow:hidden}.mc-sidebar-closed,.mc-sidebar-opened{height:100%}"],host:{class:"mc-sidebar","[@state]":"{\n            value: animationState,\n            params: params\n        }","(@state.start)":"onAnimationStart()","(@state.done)":"onAnimationDone()"},animations:[a.sidebarState],encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.NgZone},{type:n.ElementRef}]},e.propDecorators={opened:[{type:n.Input}],position:[{type:n.Input}],stateChanged:[{type:n.Output}],openedContent:[{type:n.ContentChild,args:[d,{static:!1}]}],closedContent:[{type:n.ContentChild,args:[p,{static:!1}]}]},e}(),h=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule],declarations:[p,d,c],exports:[p,d,c]}]}],e}();e.McSidebar=c,e.McSidebarClosed=p,e.McSidebarModule=h,e.McSidebarOpened=d,e.SidebarPositions=r,e.Éµa2=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-sidebar.umd.min.js.map
