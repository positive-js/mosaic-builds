/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ptsecurity/cdk/bidi"),require("@ptsecurity/cdk/coercion"),require("rxjs"),require("@angular/common"),require("@ptsecurity/cdk/keycodes")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/core",["exports","@angular/core","@ptsecurity/cdk/bidi","@ptsecurity/cdk/coercion","rxjs","@angular/common","@ptsecurity/cdk/keycodes"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.core={}),e.ng.core,e.ng.cdk.bidi,e.ng.cdk.coercion,e.rxjs,e.ng.common,e.ng.cdk.keycodes)}(this,function(e,t,n,o,i,r,c){"use strict";function s(e,t){function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t,n,o){var i,r=arguments.length,c=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,n,c):i(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c}function l(e,t){return function(n,o){t(n,o,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e){return"boolean"==typeof e}function p(e){return null!=e&&""+e!="false"}function h(){return!0}function m(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.apply(this,t)||this;return o._disabled=!1,o}return s(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),t}(e)}function f(t,n){return void 0===n&&(n=e.ThemePalette.Default),function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=e.apply(this,t)||this;return i.color=n,i}return s(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(e){var t=e||n;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mc-"+this._color),t&&this._elementRef.nativeElement.classList.add("mc-"+t),this._color=t)},enumerable:!0,configurable:!0}),t}(t)}function b(e,t){return void 0===t&&(t=0),function(e){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e.apply(this,n)||this;return i._tabIndex=t,i}return s(n,e),Object.defineProperty(n.prototype,"tabIndex",{get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?e:t},enumerable:!0,configurable:!0}),n}(e)}function _(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.apply(this,t)||this;return o.errorState=!1,o.stateChanges=new i.Subject,o}return s(t,e),t.prototype.updateErrorState=function(){var e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,o=this.ngControl?this.ngControl.control:null,i=n.isErrorState(o,t);i!==e&&(this.errorState=i,this.stateChanges.next())},t}(e)}function y(e,t,n){if(n.length){for(var o=t.toArray(),i=n.toArray(),r=0,c=0;c<e+1;c++)o[c].group&&o[c].group===i[r]&&r++;return r}return 0}function g(e,t,n,o){var i=e*t;return i<n?i:i+t>n+o?Math.max(0,i-o+t):n}var k=function(e,t){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},v=new t.InjectionToken("mc-sanity-checks",{providedIn:"root",factory:h}),x=function(){function e(e){this._sanityChecksEnabled=e,this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return e.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&t.isDevMode()&&!this._isTestEnv()},e.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},e.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Mosaic components not to behave as expected.")},e.prototype._checkThemeIsPresent=function(){if(this._document&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mc-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Mosaic core theme. Most Mosaic components may not work as expected. For more info refer to the theming guide: link there"),this._document.body.removeChild(e)}},e=a([t.NgModule({imports:[n.BidiModule],exports:[n.BidiModule]}),l(0,t.Optional()),l(0,t.Inject(v)),u("design:paramtypes",[Boolean])],e)}();!function(e){e.Primary="primary",e.Second="second",e.Warn="warn",e.Default="second"}(e.ThemePalette||(e.ThemePalette={}));var C=function(){function e(){}return e=a([t.Directive({selector:"[mc-line], [mcLine]",host:{class:"mc-line"}})],e)}(),O=function(){function e(e,t){var n=this;this._lines=e,this._element=t,this._setLineClass(this._lines.length),this._lines.changes.subscribe(function(){n._setLineClass(n._lines.length)})}return e.prototype._setLineClass=function(e){this._resetClasses(),2===e||3===e?this._setClass("mc-"+e+"-line",!0):e>3&&this._setClass("mc-multi-line",!0)},e.prototype._resetClasses=function(){this._setClass("mc-2-line",!1),this._setClass("mc-3-line",!1),this._setClass("mc-multi-line",!1)},e.prototype._setClass=function(e,t){t?this._element.nativeElement.classList.add(e):this._element.nativeElement.classList.remove(e)},e}(),w=function(){function e(){}return e=a([t.NgModule({imports:[],exports:[C],declarations:[C]})],e)}(),M=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))},e=a([t.Injectable()],e)}(),j=function(){function e(){}return e.prototype.isErrorState=function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=a([t.Injectable({providedIn:"root"})],e)}(),I=function(){function e(){this.state="unchecked",this.disabled=!1}return a([t.Input(),u("design:type",String)],e.prototype,"state",void 0),a([t.Input(),u("design:type",Boolean)],e.prototype,"disabled",void 0),e=a([t.Component({encapsulation:t.ViewEncapsulation.None,preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush,selector:"mc-pseudo-checkbox",styles:[".mc-pseudo-checkbox{position:relative;display:inline-block;box-sizing:border-box;width:16px;height:16px;border-radius:3px;border-width:1px;border-style:solid;cursor:pointer;vertical-align:middle;flex-shrink:0}.mc-pseudo-checkbox .mc-checkbox-checkmark,.mc-pseudo-checkbox .mc-checkbox-mixedmark{display:none;position:absolute;top:-1px;left:-1px}.mc-pseudo-checkbox.mc-pseudo-checkbox-checked,.mc-pseudo-checkbox.mc-pseudo-checkbox-indeterminate{border-color:transparent}.mc-pseudo-checkbox.mc-pseudo-checkbox_checked .mc-checkbox-checkmark{display:inline-block}.mc-pseudo-checkbox.mc-pseudo-checkbox_indeterminate .mc-checkbox-mixedmark{display:inline-block}.mc-pseudo-checkbox.mc-disabled{cursor:default}"],template:'<i class="mc-checkbox-checkmark mc mc-check_16"></i> <i class="mc-checkbox-mixedmark mc mc-minus_16"></i>',host:{class:"mc-pseudo-checkbox","[class.mc-pseudo-checkbox_indeterminate]":'state === "indeterminate"',"[class.mc-pseudo-checkbox_checked]":'state === "checked"',"[class.mc-disabled]":"disabled"}})],e)}(),E=function(){function e(){}return e=a([t.NgModule({exports:[I],declarations:[I]})],e)}(),S=function(){function e(e){this.document=e,this.scrollbarMeasure={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"},this.initScrollBarWidth()}return Object.defineProperty(e.prototype,"scrollBarWidth",{get:function(){return this._scrollbarWidth?this._scrollbarWidth:(this.initScrollBarWidth(),this._scrollbarWidth)},enumerable:!0,configurable:!0}),e.prototype.initScrollBarWidth=function(){var e=this.document.createElement("div");for(var t in this.scrollbarMeasure)this.scrollbarMeasure.hasOwnProperty(t)&&(e.style[t]=this.scrollbarMeasure[t]);this.document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;this.document.body.removeChild(e),this._scrollbarWidth=n},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(r.DOCUMENT))},token:e,providedIn:"root"}),e=a([t.Injectable({providedIn:"root"}),l(0,t.Inject(r.DOCUMENT)),u("design:paramtypes",[Object])],e)}(),P=function(){function e(){}return e}(),D=m(P),T=0,R=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._labelId="mc-optgroup-label-"+T++,t}return s(n,e),a([t.Input(),u("design:type",String)],n.prototype,"label",void 0),n=a([t.Component({selector:"mc-optgroup",exportAs:"mcOptgroup",template:'<label class="mc-optgroup-label" [id]="_labelId">{{ label }}</label><ng-content select="mc-option, ng-container"></ng-content>',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,inputs:["disabled"],styles:[".mc-optgroup-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}"],host:{class:"mc-optgroup",role:"group","[class.mc-optgroup-disabled]":"disabled","[attr.aria-disabled]":"disabled.toString()","[attr.aria-labelledby]":"_labelId"}})],n)}(D),N=0,L=function(){function e(e,t){void 0===t&&(t=!1),this.source=e,this.isUserInput=t}return e}(),B=new t.InjectionToken("MC_OPTION_PARENT_COMPONENT"),V=function(){function e(e,n,o,r){this._element=e,this._changeDetectorRef=n,this._parent=o,this.group=r,this.onSelectionChange=new t.EventEmitter,this._stateChanges=new i.Subject,this._selected=!1,this._active=!1,this._disabled=!1,this._id="mc-option-"+N++,this._mostRecentViewValue=""}return Object.defineProperty(e.prototype,"multiple",{get:function(){return this._parent&&this._parent.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._parent&&this._parent.disableRipple},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewValue",{get:function(){return(this._getHostElement().textContent||"").trim()},enumerable:!0,configurable:!0}),e.prototype.select=function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())},e.prototype.deselect=function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())},e.prototype.focus=function(){var e=this._getHostElement();"function"==typeof e.focus&&e.focus()},e.prototype.setActiveStyles=function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())},e.prototype.setInactiveStyles=function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())},e.prototype.getLabel=function(){return this.viewValue},e.prototype._handleKeydown=function(e){e.keyCode!==c.ENTER&&e.keyCode!==c.SPACE||(this._selectViaInteraction(),e.preventDefault())},e.prototype._selectViaInteraction=function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))},e.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},e.prototype._getHostElement=function(){return this._element.nativeElement},e.prototype.ngAfterViewChecked=function(){if(this._selected){var e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e.prototype._emitSelectionChangeEvent=function(e){void 0===e&&(e=!1),this.onSelectionChange.emit(new L(this,e))},a([t.Input(),u("design:type",Object)],e.prototype,"value",void 0),a([t.Input(),u("design:type",Object),u("design:paramtypes",[Object])],e.prototype,"disabled",null),a([t.Output(),u("design:type",Object)],e.prototype,"onSelectionChange",void 0),e=a([t.Component({selector:"mc-option",exportAs:"mcOption",host:{"[attr.tabindex]":"_getTabIndex()","[class.mc-selected]":"selected","[class.mc-option-multiple]":"multiple","[class.mc-active]":"active","[id]":"id","[class.mc-disabled]":"disabled","(click)":"_selectViaInteraction()","(keydown)":"_handleKeydown($event)",class:"mc-option"},styles:[".mc-option{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;position:relative;max-width:100%;border:2px solid transparent;cursor:pointer;outline:0;padding:0 16px;-webkit-tap-highlight-color:transparent}.mc-option.mc-disabled{cursor:default}.mc-option .mc-pseudo-checkbox{margin-right:8px}.mc-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}"],template:'<mc-pseudo-checkbox *ngIf="multiple" [state]="selected ? \'checked\' : \'\'" [disabled]="disabled"></mc-pseudo-checkbox><span class="mc-option-text"><ng-content></ng-content></span>',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}),l(2,t.Optional()),l(2,t.Inject(B)),l(3,t.Optional()),u("design:paramtypes",[t.ElementRef,t.ChangeDetectorRef,Object,R])],e)}(),A=function(){function e(){}return e=a([t.NgModule({imports:[r.CommonModule,E],exports:[V,R],declarations:[V,R]})],e)}(),W=new t.InjectionToken("mc-label-global-options");e.ɵa1=h,e.isBoolean=d,e.toBoolean=p,e.McCommonModule=x,e.MC_SANITY_CHECKS=v,e.mixinDisabled=m,e.mixinColor=f,e.mixinTabIndex=b,e.mixinErrorState=_,e.McLine=C,e.McLineSetter=O,e.McLineModule=w,e.ShowOnDirtyErrorStateMatcher=M,e.ErrorStateMatcher=j,e.McPseudoCheckboxModule=E,e.McPseudoCheckbox=I,e.McMeasureScrollbarService=S,e.McOptionModule=A,e.McOptionSelectionChange=L,e.MC_OPTION_PARENT_COMPONENT=B,e.McOption=V,e._countGroupLabelsBeforeOption=y,e._getOptionScrollPosition=g,e.McOptgroupBase=P,e._McOptgroupMixinBase=D,e.McOptgroup=R,e.MC_LABEL_GLOBAL_OPTIONS=W,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-core.umd.min.js.map
