!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/core"),require("@angular/cdk/a11y"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/button-toggle",["exports","@angular/core","@ptsecurity/mosaic/button","@ptsecurity/mosaic/core","@angular/cdk/a11y","@angular/cdk/coercion","@angular/cdk/collections","@angular/forms"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).ptsecurity=t.ptsecurity||{},t.ptsecurity.mosaic=t.ptsecurity.mosaic||{},t.ptsecurity.mosaic["button-toggle"]={}),t.ng.core,t.ptsecurity.mosaic.button,t.ptsecurity.mosaic.core,t.ng.cdk.a11y,t.ng.cdk.coercion,t.ng.cdk.collections,t.ng.forms)}(this,(function(t,e,o,r,i,n,c,l){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function u(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var r,i,n=o.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return c}Object.create;var s={provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return g})),multi:!0},a=function(t,e){this.source=t,this.value=e},g=function(){function t(t){this._changeDetector=t,this.valueChange=new e.EventEmitter,this.change=new e.EventEmitter,this._vertical=!1,this._multiple=!1,this._disabled=!1,this.controlValueAccessorChangeFn=function(){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=n.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var t=this.selectionModel?this.selectionModel.selected:[];return this.multiple?t.map((function(t){return t.value})):t[0]?t[0].value:void 0},set:function(t){this.setSelectionByValue(t),this.valueChange.emit(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){var t=this.selectionModel.selected;return this.multiple?t:t[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._multiple},set:function(t){this._multiple=n.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=n.coerceBooleanProperty(t),this.buttonToggles&&this.buttonToggles.forEach((function(t){return t.markForCheck()}))},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.selectionModel=new c.SelectionModel(this.multiple,void 0,!1)},t.prototype.ngAfterContentInit=function(){var t;(t=this.selectionModel).select.apply(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}(this.buttonToggles.filter((function(t){return t.checked})))),this.disabled=this._disabled},t.prototype.writeValue=function(t){this.value=t,this._changeDetector.markForCheck()},t.prototype.registerOnChange=function(t){this.controlValueAccessorChangeFn=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.emitChangeEvent=function(){var t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,o=new a(e,this.value);this.controlValueAccessorChangeFn(o.value),this.change.emit(o)},t.prototype.syncButtonToggle=function(t,e,o){void 0===o&&(o=!1),this.multiple||!this.selected||t.checked||(this.selected.checked=!1),e?this.selectionModel.select(t):this.selectionModel.deselect(t),o&&this.emitChangeEvent(),this.valueChange.emit(this.value)},t.prototype.isSelected=function(t){return this.selectionModel.isSelected(t)},t.prototype.isPrechecked=function(t){return void 0!==this.rawValue&&(this.multiple&&Array.isArray(this.rawValue)?this.rawValue.some((function(e){return null!=t.value&&e===t.value})):t.value===this.rawValue)},t.prototype.setSelectionByValue=function(t){var e=this;if(this.rawValue=t,this.buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this.clearSelection(),t.forEach((function(t){return e.selectValue(t)}))}else this.clearSelection(),this.selectValue(t)},t.prototype.clearSelection=function(){this.selectionModel.clear(),this.buttonToggles.forEach((function(t){return t.checked=!1}))},t.prototype.selectValue=function(t){var e=this.buttonToggles.find((function(e){return null!=e.value&&e.value===t}));e&&(e.checked=!0,this.selectionModel.select(e))},t}();g.decorators=[{type:e.Directive,args:[{selector:"mc-button-toggle-group",providers:[s],host:{role:"group",class:"mc-button-toggle-group","[class.mc-button-toggle_vertical]":"vertical"},exportAs:"mcButtonToggleGroup"}]}],g.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},g.propDecorators={vertical:[{type:e.Input}],value:[{type:e.Input}],multiple:[{type:e.Input}],buttonToggles:[{type:e.ContentChildren,args:[e.forwardRef((function(){return d}))]}],disabled:[{type:e.Input}],valueChange:[{type:e.Output}],change:[{type:e.Output}]};var d=function(){function t(t,o,r,i){this.buttonToggleGroup=t,this.changeDetectorRef=o,this.focusMonitor=r,this.element=i,this.change=new e.EventEmitter,this.isSingleSelector=!1,this._checked=!1,this._disabled=!1}return Object.defineProperty(t.prototype,"checked",{get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.isSelected(this):this._checked},set:function(t){var e=n.coerceBooleanProperty(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup.syncButtonToggle(this,this._checked),this.changeDetectorRef.markForCheck())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(t){this._disabled=n.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this.type=this.isSingleSelector?"radio":"checkbox",this.buttonToggleGroup&&this.buttonToggleGroup.isPrechecked(this)&&(this.checked=!0),this.focusMonitor.monitor(this.element.nativeElement,!0)},t.prototype.ngOnDestroy=function(){var t=this,e=this.buttonToggleGroup;this.focusMonitor.stopMonitoring(this.element.nativeElement),e&&e.isSelected(this)&&Promise.resolve().then((function(){return e.syncButtonToggle(t,!1)}))},t.prototype.focus=function(){this.element.nativeElement.focus()},t.prototype.onToggleClick=function(){if(!this.disabled){var t=!!this.isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup.syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup.onTouched())),this.change.emit(new a(this,this.value))}},t.prototype.markForCheck=function(){this.changeDetectorRef.markForCheck()},t}();d.decorators=[{type:e.Component,args:[{selector:"mc-button-toggle",exportAs:"mcButtonToggle",template:'\n        <button\n            mc-button\n            type="button"\n            [class.mc-active]="checked"\n            [disabled]="disabled"\n            [tabIndex]="tabIndex"\n            (click)="onToggleClick()">\n            <ng-content></ng-content>\n        </button>\n    ',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{class:"mc-button-toggle","[class.mc-button-toggle-standalone]":"!buttonToggleGroup"},styles:[".mc-group{display:flex;flex-direction:row}.mc-group .mc-group_justified>.mc-group-item{width:100%}.mc-group .mc-group-item+.mc-group-item{margin-left:calc(-1 * var(--mc-button-size-border-width, 1px))}.mc-group>.mc-group-item:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.mc-group>.mc-group-item:first-child:not(:last-child)>.mc-form-field__container{border-bottom-right-radius:0;border-top-right-radius:0}.mc-group>.mc-group-item:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.mc-group>.mc-group-item:last-child:not(:first-child)>.mc-form-field__container{border-bottom-left-radius:0;border-top-left-radius:0}.mc-group>.mc-group-item:not(:first-child):not(:last-child){border-radius:0}.mc-group>.mc-group-item:not(:first-child):not(:last-child)>.mc-form-field__container{border-radius:0}.mc-vertical-group{display:flex;flex-direction:column}.mc-vertical-group>.mc-group-item:first-child:not(:last-child){border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mc-button-size-border-radius,3px)}.mc-vertical-group>.mc-group-item:first-child:not(:last-child)>.mc-form-field__container{border-bottom-right-radius:0;border-bottom-left-radius:0}.mc-vertical-group>.mc-group-item:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0;border-bottom-left-radius:var(--mc-button-size-border-radius,3px)}.mc-vertical-group>.mc-group-item:last-child:not(:first-child)>.mc-form-field__container{border-top-right-radius:0;border-top-left-radius:0}.mc-vertical-group>.mc-group-item:not(:first-child):not(:last-child){border-radius:0}.mc-vertical-group>.mc-group-item:not(:first-child):not(:last-child)>.mc-form-field__container{border-radius:0}.mc-vertical-group .mc-group-item+.mc-group-item{margin-top:calc(-1 * var(--mc-button-size-border-width, 1px))}.mc-button-toggle-group{display:flex;flex-direction:row}.mc-button-toggle-group .mc-button-toggle:first-of-type:not(:last-of-type)>.mc-button,.mc-button-toggle-group .mc-button-toggle:first-of-type:not(:last-of-type)>.mc-icon-button{border-bottom-right-radius:0;border-top-right-radius:0;border-bottom-left-radius:var(--mc-button-toggle-size-border-radius,3px);border-top-left-radius:var(--mc-button-toggle-size-border-radius,3px)}.mc-button-toggle-group .mc-button-toggle:last-of-type:not(:first-of-type)>.mc-button,.mc-button-toggle-group .mc-button-toggle:last-of-type:not(:first-of-type)>.mc-icon-button{border-bottom-left-radius:0;border-top-left-radius:0;border-bottom-right-radius:var(--mc-button-toggle-size-border-radius,3px);border-top-right-radius:var(--mc-button-toggle-size-border-radius,3px)}.mc-button-toggle-group .mc-button-toggle:not(:first-of-type):not(:last-of-type)>.mc-button,.mc-button-toggle-group .mc-button-toggle:not(:first-of-type):not(:last-of-type)>.mc-icon-button{border-radius:0}.mc-button-toggle-group .mc-button-toggle[disabled]{outline:0}.mc-button-toggle-group:not(.mc-button-toggle_vertical) .mc-button-toggle:not([disabled])+.mc-button-toggle:not([disabled]){margin-left:calc(-1 * var(--mc-button-toggle-size-border-size, 1px))}.mc-button-toggle_vertical{flex-direction:column}.mc-button-toggle_vertical .mc-button-toggle+.mc-button-toggle{border-left:none;border-right:none}.mc-button-toggle_vertical .mc-button-toggle:not([disabled])+.mc-button-toggle:not([disabled]){margin-top:calc(-1 * var(--mc-button-toggle-size-border-size, 1px))}.mc-button-toggle_vertical .mc-button-toggle .mc-button,.mc-button-toggle_vertical .mc-button-toggle .mc-icon-button{width:100%}.mc-button-toggle_vertical .mc-button-toggle:first-child:not(:last-child)>.mc-button,.mc-button-toggle_vertical .mc-button-toggle:first-child:not(:last-child)>.mc-icon-button{border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mc-button-toggle-size-border-radius,3px);border-top-left-radius:var(--mc-button-toggle-size-border-radius,3px)}.mc-button-toggle_vertical .mc-button-toggle:last-child:not(:first-child)>.mc-button,.mc-button-toggle_vertical .mc-button-toggle:last-child:not(:first-child)>.mc-icon-button{border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:var(--mc-button-toggle-size-border-radius,3px);border-bottom-left-radius:var(--mc-button-toggle-size-border-radius,3px)}.mc-button-toggle_vertical .mc-button-toggle:not(:first-child):not(:last-child)>.mc-button,.mc-button-toggle_vertical .mc-button-toggle:not(:first-child):not(:last-child)>.mc-icon-button{border-radius:0}.mc-button-toggle-standalone{box-shadow:none}"]}]}],d.ctorParameters=function(){return[{type:g,decorators:[{type:e.Optional}]},{type:e.ChangeDetectorRef},{type:i.FocusMonitor},{type:e.ElementRef}]},d.propDecorators={checked:[{type:e.Input}],mcButton:[{type:e.ViewChild,args:[o.McButton,{static:!1}]}],value:[{type:e.Input}],tabIndex:[{type:e.Input}],disabled:[{type:e.Input}],change:[{type:e.Output}]};var p=function(){};p.decorators=[{type:e.NgModule,args:[{imports:[r.McCommonModule,o.McButtonModule],exports:[r.McCommonModule,g,d],declarations:[g,d]}]}],t.MC_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR=s,t.McButtonToggle=d,t.McButtonToggleChange=a,t.McButtonToggleGroup=g,t.McButtonToggleModule=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-button-toggle.umd.min.js.map