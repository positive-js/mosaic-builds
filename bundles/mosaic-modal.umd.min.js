/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/cdk/overlay"),require("@angular/common"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/mosaic/core"),require("@angular/cdk/portal"),require("rxjs/operators"),require("@angular/cdk/a11y"),require("@ptsecurity/mosaic/button"),require("@ptsecurity/mosaic/icon")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/modal",["exports","@angular/core","rxjs","@angular/cdk/overlay","@angular/common","@ptsecurity/cdk/keycodes","@ptsecurity/mosaic/core","@angular/cdk/portal","rxjs/operators","@angular/cdk/a11y","@ptsecurity/mosaic/button","@ptsecurity/mosaic/icon"],e):e((t.ng=t.ng||{},t.ng.mosaic=t.ng.mosaic||{},t.ng.mosaic.modal={}),t.ng.core,t.rxjs,t.ng.cdk.overlay,t.ng.common,t.ng.cdk.keycodes,t.ng.mosaic.core,t.ng.cdk.portal,t.rxjs.operators,t.ng.cdk.a11y,t.ng.mosaic.button,t.ng.mosaic.icon)}(this,function(t,e,n,o,i,a,r,c,s,l,m,p){"use strict";function u(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function d(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then&&"function"==typeof t.catch}var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},y=function(){return y=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},y.apply(this,arguments)},g=function(){function t(t){this.parentService=t,this.rootOpenModals=this.parentService?null:[],this.rootAfterAllClose=this.parentService?null:new n.Subject,this.rootRegisteredMetaMap=this.parentService?null:new Map}return Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.parentService?this.parentService.afterAllClose:this.rootAfterAllClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openModals",{get:function(){return this.parentService?this.parentService.openModals:this.rootOpenModals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"registeredMetaMap",{get:function(){return this.parentService?this.parentService.registeredMetaMap:this.rootRegisteredMetaMap},enumerable:!0,configurable:!0}),t.prototype.registerModal=function(t){var e=this;if(!this.hasRegistered(t)){var n=t.afterOpen.subscribe(function(){return e.openModals.push(t)}),o=t.afterClose.subscribe(function(){return e.removeOpenModal(t)});this.registeredMetaMap.set(t,{modalRef:t,afterOpenSubscription:n,afterCloseSubscription:o})}},t.prototype.hasRegistered=function(t){return this.registeredMetaMap.has(t)},t.prototype.closeAll=function(){for(var t=this.openModals.length;t--;)this.openModals[t].close()},t.prototype.removeOpenModal=function(t){var e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this.afterAllClose.next())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:t,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]},t}(),h=function(){function t(){}return t}(),C=function(){function t(t){this.document=t,this.lastPosition={x:-1,y:-1},this.listenDocumentClick()}return t.prototype.getLastClickPosition=function(){return this.lastPosition},t.prototype.listenDocumentClick=function(){var t=this;this.document.addEventListener("click",function(e){t.lastPosition={x:e.clientX,y:e.clientY}})},t}(),b=new C(document),v=function(t){function n(n,o,i,a,r,c,s,l,m){var p=t.call(this)||this;return p.overlay=n,p.renderer=o,p.cfr=i,p.elementRef=a,p.viewContainer=r,p.mcMeasureScrollbarService=c,p.modalControl=s,p.changeDetector=l,p.document=m,p.mcModalType="default",p._mcVisible=!1,p.mcVisibleChange=new e.EventEmitter,p.mcZIndex=1e3,p.mcWidth=480,p.mcCloseByESC=!0,p._mcClosable=!0,p._mcMask=!0,p._mcMaskClosable=!0,p.mcAfterOpen=new e.EventEmitter,p.mcAfterClose=new e.EventEmitter,p.mcOkType="primary",p._mcOkLoading=!1,p.mcOnOk=new e.EventEmitter,p._mcCancelLoading=!1,p.mcOnCancel=new e.EventEmitter,p.transformOrigin="0px 0px 0px",p.mcGetContainer=function(){return p.overlay.create()},p}return u(n,t),Object.defineProperty(n.prototype,"mcVisible",{get:function(){return this._mcVisible},set:function(t){this._mcVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mcClosable",{get:function(){return this._mcClosable},set:function(t){this._mcClosable=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mcMask",{get:function(){return this._mcMask},set:function(t){this._mcMask=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mcMaskClosable",{get:function(){return this._mcMaskClosable},set:function(t){this._mcMaskClosable=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mcOkLoading",{get:function(){return this._mcOkLoading},set:function(t){this._mcOkLoading=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mcCancelLoading",{get:function(){return this._mcCancelLoading},set:function(t){this._mcCancelLoading=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"afterOpen",{get:function(){return this.mcAfterOpen.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"afterClose",{get:function(){return this.mcAfterClose.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"okText",{get:function(){return this.mcOkText},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cancelText",{get:function(){return this.mcCancelText},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hidden",{get:function(){return!this.mcVisible&&!this.animationState},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.isComponent(this.mcContent)&&this.createDynamicComponent(this.mcContent),this.isModalButtons(this.mcFooter)&&(this.mcFooter=this.formatModalButtons(this.mcFooter)),this.isComponent(this.mcComponent)&&this.createDynamicComponent(this.mcComponent),this.container="function"==typeof this.mcGetContainer?this.mcGetContainer():this.mcGetContainer,this.container instanceof HTMLElement?this.container.appendChild(this.elementRef.nativeElement):this.container instanceof o.OverlayRef&&this.container.overlayElement.appendChild(this.elementRef.nativeElement),this.modalControl.registerModal(this)},n.prototype.ngOnChanges=function(t){t.mcVisible&&this.handleVisibleStateChange(this.mcVisible,!t.mcVisible.firstChange)},n.prototype.ngAfterViewInit=function(){this.contentComponentRef&&this.bodyContainer.insert(this.contentComponentRef.hostView),this.autoFocusButtonOk&&this.autoFocusButtonOk.nativeElement.focus()},n.prototype.ngOnDestroy=function(){this.container instanceof o.OverlayRef&&this.container.dispose()},n.prototype.open=function(){this.changeVisibleFromInside(!0)},n.prototype.close=function(t){this.changeVisibleFromInside(!1,t)},n.prototype.destroy=function(t){this.close(t)},n.prototype.triggerOk=function(){this.onClickOkCancel("ok")},n.prototype.triggerCancel=function(){this.onClickOkCancel("cancel")},n.prototype.getInstance=function(){return this},n.prototype.getContentComponentRef=function(){return this.contentComponentRef},n.prototype.getContentComponent=function(){return this.contentComponentRef&&this.contentComponentRef.instance},n.prototype.getElement=function(){return this.elementRef&&this.elementRef.nativeElement},n.prototype.onClickMask=function(t){this.mcMask&&this.mcMaskClosable&&t.target.classList.contains("mc-modal-wrap")&&this.mcVisible&&this.onClickOkCancel("cancel")},n.prototype.isModalType=function(t){return this.mcModalType===t},n.prototype.onKeyDown=function(t){t.keyCode===a.ESCAPE&&this.container&&this.container instanceof o.OverlayRef&&(this.close(),t.preventDefault())},n.prototype.onClickCloseBtn=function(){this.mcVisible&&this.onClickOkCancel("cancel")},n.prototype.onClickOkCancel=function(t){var n=this,o={ok:this.mcOnOk,cancel:this.mcOnCancel}[t],i={ok:"mcOkLoading",cancel:"mcCancelLoading"}[t];if(o instanceof e.EventEmitter)o.emit(this.getContentComponent());else if("function"==typeof o){var a=o(this.getContentComponent()),r=function(t){return!1!==t&&n.close(t)};if(d(a)){this[i]=!0;var c=function(t){n[i]=!1,r(t)};a.then(c).catch(c)}else r(a)}},n.prototype.isNonEmptyString=function(t){return"string"==typeof t&&""!==t},n.prototype.isTemplateRef=function(t){return t instanceof e.TemplateRef},n.prototype.isComponent=function(t){return t instanceof e.Type},n.prototype.isModalButtons=function(t){return Array.isArray(t)&&t.length>0},n.prototype.handleVisibleStateChange=function(t,e,n){var o=this;return void 0===e&&(e=!0),t&&this.changeBodyOverflow(1),Promise.resolve(e&&this.animateTo(t)).then(function(){t?o.mcAfterOpen.emit():(o.mcAfterClose.emit(n),o.changeBodyOverflow())})},n.prototype.getButtonCallableProp=function(t,e){var n=t[e],o=[];return this.contentComponentRef&&o.push(this.contentComponentRef.instance),"function"==typeof n?n.apply(t,o):n},n.prototype.onButtonClick=function(t){var e=this.getButtonCallableProp(t,"onClick");d(e)&&(t.loading=!0,e.then(function(){return t.loading=!1}).catch(function(){return t.loading=!1}))},n.prototype.changeVisibleFromInside=function(t,e){return this.mcVisible!==t?(this.mcVisible=t,this.mcVisibleChange.emit(t),this.handleVisibleStateChange(t,!0,e)):Promise.resolve()},n.prototype.changeAnimationState=function(t){var e,n;this.animationState=t,t?(this.maskAnimationClassMap=(e={},e["fade-"+t]=!0,e["fade-"+t+"-active"]=!0,e),this.modalAnimationClassMap=(n={},n["zoom-"+t]=!0,n["zoom-"+t+"-active"]=!0,n)):this.maskAnimationClassMap=this.modalAnimationClassMap=null,this.contentComponentRef?this.contentComponentRef.changeDetectorRef.markForCheck():this.changeDetector.markForCheck()},n.prototype.animateTo=function(t){var e=this;return t&&window.setTimeout(function(){return e.updateTransformOrigin()}),this.changeAnimationState(t?"enter":"leave"),new Promise(function(t){return window.setTimeout(function(){e.changeAnimationState(null),t()},200)})},n.prototype.formatModalButtons=function(t){return t.map(function(t){return y({type:"default",size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)})},n.prototype.createDynamicComponent=function(t){var n=this.cfr.resolveComponentFactory(t),o=e.Injector.create({providers:[{provide:h,useValue:this}],parent:this.viewContainer.parentInjector});this.contentComponentRef=n.create(o),this.mcComponentParams&&Object.assign(this.contentComponentRef.instance,this.mcComponentParams),this.contentComponentRef.changeDetectorRef.detectChanges()},n.prototype.updateTransformOrigin=function(){var t=this.modalContainer.nativeElement,e=b.getLastClickPosition();e&&(this.transformOrigin=e.x-t.offsetLeft+"px "+(e.y-t.offsetTop)+"px 0px")},n.prototype.changeBodyOverflow=function(t){void 0===t&&(t=0),this.modalControl.openModals.length+t>0?(this.renderer.setStyle(this.document.body,"padding-right",this.mcMeasureScrollbarService.scrollBarWidth+"px"),this.renderer.setStyle(this.document.body,"overflow","hidden")):(this.renderer.removeStyle(this.document.body,"padding-right"),this.renderer.removeStyle(this.document.body,"overflow"))},n.decorators=[{type:e.Component,args:[{selector:"mc-modal",template:'<ng-template #tplOriginContent><ng-content></ng-content></ng-template><div><div *ngIf="mcMask" class="mc-modal-mask" [ngClass]="maskAnimationClassMap" [class.mc-modal-mask-hidden]="hidden" [ngStyle]="mcMaskStyle" [style.zIndex]="mcZIndex"></div><div (click)="onClickMask($event)" class="mc-modal-wrap {{ mcWrapClassName }}" [style.zIndex]="mcZIndex" [style.display]="hidden ? \'none\' : \'\'" tabindex="-1" role="dialog"><div #modalContainer class="mc-modal {{ mcClassName }}" [ngClass]="modalAnimationClassMap" [ngStyle]="mcStyle" [style.width]="mcWidth | toCssUnit" [style.transform-origin]="transformOrigin" role="document"><div class="mc-modal-content" cdkTrapFocus><button *ngIf="mcClosable" (click)="onClickCloseBtn()" class="mc-modal-close" aria-label="Close"><span class="mc-modal-close-x"><i mc-icon="mc-close-L_16" class="mc-icon mc-icon_light" color="second"></i></span></button><ng-container [ngSwitch]="true"><ng-container *ngSwitchCase="isModalType(\'default\')" [ngTemplateOutlet]="tplContentDefault"></ng-container><ng-container *ngSwitchCase="isModalType(\'confirm\')" [ngTemplateOutlet]="tplContentConfirm"></ng-container><ng-container *ngSwitchCase="isModalType(\'custom\')" [ngTemplateOutlet]="tplContentCustom"></ng-container></ng-container></div></div></div></div><ng-template #tplContentCustom><ng-container #bodyContainer></ng-container></ng-template><ng-template #tplContentDefault><div *ngIf="mcTitle" class="mc-modal-header"><div class="mc-modal-title"><ng-container [ngSwitch]="true"><ng-container *ngSwitchCase="isTemplateRef(mcTitle)" [ngTemplateOutlet]="mcTitle"></ng-container><ng-container *ngSwitchCase="isNonEmptyString(mcTitle)"><div [innerHTML]="mcTitle"></div></ng-container></ng-container></div></div><div class="mc-modal-body" [ngStyle]="mcBodyStyle"><ng-container #bodyContainer><ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true"><ng-container *ngSwitchCase="isTemplateRef(mcContent)" [ngTemplateOutlet]="mcContent"></ng-container><ng-container *ngSwitchCase="isNonEmptyString(mcContent)"><div [innerHTML]="mcContent"></div></ng-container><ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container></ng-container></ng-container></div><div *ngIf="mcFooter !== null" class="mc-modal-footer"><ng-container [ngSwitch]="true"><ng-container *ngSwitchCase="isTemplateRef(mcFooter)" [ngTemplateOutlet]="mcFooter"></ng-container><ng-container *ngSwitchCase="isNonEmptyString(mcFooter)"><div [innerHTML]="mcFooter"></div></ng-container><ng-container *ngSwitchCase="isModalButtons(mcFooter)"><button *ngFor="let button of mcFooter" mc-button [hidden]="!getButtonCallableProp(button, \'show\')" [disabled]="getButtonCallableProp(button, \'disabled\')" (click)="onButtonClick(button)" [color]="button.type">{{ button.label }}</button></ng-container><ng-container *ngSwitchDefault><button *ngIf="mcOkText!==null" mc-button color="primary" (click)="onClickOkCancel(\'ok\')">{{ okText }}</button> <button *ngIf="mcCancelText!==null" mc-button (click)="onClickOkCancel(\'cancel\')" autofocus>{{ cancelText }}</button></ng-container></ng-container></div></ng-template><ng-template #tplContentConfirm><div class="mc-modal-body" [ngStyle]="mcBodyStyle"><div class="mc-confirm-body-wrapper"><div class="mc-confirm-body"><div class="mc-confirm-content"><ng-container #bodyContainer><ng-container *ngIf="!isComponent(mcContent)" [ngSwitch]="true"><ng-container *ngSwitchCase="isTemplateRef(mcContent)" [ngTemplateOutlet]="mcContent"></ng-container><ng-container *ngSwitchCase="isNonEmptyString(mcContent)"><div [innerHTML]="mcContent"></div></ng-container><ng-container *ngSwitchDefault [ngTemplateOutlet]="tplOriginContent"></ng-container></ng-container></ng-container></div></div></div></div><div class="mc-confirm-btns"><button mc-button [color]="mcOkType" #autoFocusButtonOk *ngIf="mcOkText !== \'\'" (click)="onClickOkCancel(\'ok\')">{{ okText }}</button> <button mc-button color="second" *ngIf="mcCancelText!==\'\'" (click)="onClickOkCancel(\'cancel\')" autofocus>{{ cancelText }}</button></div></ng-template>',styles:['@keyframes mcFadeIn{0%{opacity:0}100%{opacity:1}}@keyframes mcFadeOut{0%{opacity:1}100%{opacity:0}}@keyframes mcZoomIn{0%{opacity:0;transform:translate(0,-25%)}100%{opacity:1;transform:scale(1)}}@keyframes mcZoomOut{0%{transform:scale(1)}100%{opacity:0;transform:translate(0,-30%)}}.fade-appear,.fade-enter{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.fade-leave{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.fade-appear.fade-appear-active,.fade-enter.fade-enter-active{animation-name:mcFadeIn;animation-play-state:running}.fade-leave.fade-leave-active{animation-name:mcFadeOut;animation-play-state:running;pointer-events:none}.className-appear,.className-enter{opacity:0;animation-timing-function:ease-out}.className-leave{animation-timing-function:ease-out}.zoom-appear,.zoom-enter{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.zoom-leave{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.zoom-appear.zoom-appear-active,.zoom-enter.zoom-enter-active{animation-name:mcZoomIn;animation-play-state:running}.zoom-leave.zoom-leave-active{animation-name:mcZoomOut;animation-play-state:running;pointer-events:none}.className-appear,.className-enter{transform:translate(0,-25%);animation-timing-function:cubic-bezier(.075,.82,.165,1)}.className-leave{transform:translate(0,0);animation-timing-function:cubic-bezier(.785,.135,.15,.86)}.mc-confirm .mc-modal-header{display:none}.mc-confirm .mc-modal-close{display:none}.mc-confirm .mc-modal-body{padding:24px}.mc-confirm-body-wrapper{zoom:1}.mc-confirm-body-wrapper:after,.mc-confirm-body-wrapper:before{content:"";display:table}.mc-confirm-body-wrapper:after{clear:both}.mc-confirm-body .mc-confirm-title{display:block;overflow:auto}.mc-confirm .mc-confirm-btns{border-radius:0 0 4px 4px;text-align:right}.mc-confirm .mc-confirm-btns button+button{margin:16px 16px 16px}.mc-modal{box-sizing:border-box;position:relative;top:48px;width:auto;margin:0 auto;padding:0 0 24px 0;list-style:none}.mc-modal.zoom-appear,.mc-modal.zoom-enter{animation-duration:.3s;transform:none;opacity:0}.mc-modal-wrap{position:fixed;z-index:1000;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;outline:0}.mc-modal-title{margin:0}.mc-modal-content{position:relative;border-radius:4px;background-clip:padding-box;background-color:#fff}.mc-modal-close{position:absolute;z-index:10;top:0;right:0;padding:0;border:0;outline:0;cursor:pointer;background:0 0}.mc-modal-close .mc-modal-close-x{display:block;vertical-align:baseline;text-align:center;width:56px;height:56px;line-height:56px}.mc-modal-header{padding:14px 16px;display:block;border-radius:4px 4px 0 0}.mc-modal-body{display:block;padding:16px 24px 24px 24px;max-height:calc(100vh - 260px);word-wrap:break-word;overflow-y:auto}.mc-modal-footer{display:block;padding:16px 16px;border-radius:0 0 4px 4px;text-align:right}.mc-modal-footer button+button{margin-left:16px;margin-bottom:0}.mc-modal-mask{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;height:100%;background-color:rgba(0,0,0,.5)}.mc-modal-mask.mc-modal-mask-hidden{display:none}.mc-modal-open{overflow:hidden}'],changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"(keydown)":"onKeyDown($event)"}}]}],n.ctorParameters=function(){return[{type:o.Overlay},{type:e.Renderer2},{type:e.ComponentFactoryResolver},{type:e.ElementRef},{type:e.ViewContainerRef},{type:r.McMeasureScrollbarService},{type:g},{type:e.ChangeDetectorRef},{type:void 0,decorators:[{type:e.Inject,args:[i.DOCUMENT]}]}]},n.propDecorators={mcModalType:[{type:e.Input}],mcComponent:[{type:e.Input}],mcContent:[{type:e.Input}],mcComponentParams:[{type:e.Input}],mcFooter:[{type:e.Input}],mcVisible:[{type:e.Input}],mcVisibleChange:[{type:e.Output}],mcZIndex:[{type:e.Input}],mcWidth:[{type:e.Input}],mcWrapClassName:[{type:e.Input}],mcClassName:[{type:e.Input}],mcStyle:[{type:e.Input}],mcTitle:[{type:e.Input}],mcCloseByESC:[{type:e.Input}],mcClosable:[{type:e.Input}],mcMask:[{type:e.Input}],mcMaskClosable:[{type:e.Input}],mcMaskStyle:[{type:e.Input}],mcBodyStyle:[{type:e.Input}],mcAfterOpen:[{type:e.Output}],mcAfterClose:[{type:e.Output}],mcOkText:[{type:e.Input}],mcOkType:[{type:e.Input}],mcOkLoading:[{type:e.Input}],mcOnOk:[{type:e.Input},{type:e.Output}],mcCancelText:[{type:e.Input}],mcCancelLoading:[{type:e.Input}],mcOnCancel:[{type:e.Input},{type:e.Output}],modalContainer:[{type:e.ViewChild,args:["modalContainer",{static:!0}]}],bodyContainer:[{type:e.ViewChild,args:["bodyContainer",{read:e.ViewContainerRef,static:!1}]}],autoFocusButtonOk:[{type:e.ViewChild,args:["autoFocusButtonOk",{read:e.ElementRef,static:!1}]}],mcGetContainer:[{type:e.Input}]},n}(h),k=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e="px");var n=+t;return isNaN(n)?""+t:""+n+e},t.decorators=[{type:e.Pipe,args:[{name:"toCssUnit"}]}],t}(),O=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"[mc-modal-title], mc-modal-title, [mcModalTitle]",host:{class:"mc-modal-header mc-modal-title"}}]}],t}(),M=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"[mc-modal-body], mc-modal-body, [mcModalBody]",host:{class:"mc-modal-body"}}]}],t}(),x=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"[mc-modal-footer], mc-modal-footer, [mcModalFooter]",host:{class:"mc-modal-footer"}}]}],t}(),w=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.overlay=t,this.createModal(),"mcGetContainer"in e||(e.mcGetContainer=void 0),this.changeProps(e),this.modalRef.instance.open(),this.modalRef.instance.mcAfterClose.subscribe(function(){return n.destroyModal()}),this.overlayRef.keydownEvents().pipe(s.filter(function(t){return t.keyCode===a.ESCAPE&&e.mcCloseByESC})).subscribe(function(){return n.modalRef.instance.close()})}return t.prototype.getInstance=function(){return this.modalRef&&this.modalRef.instance},t.prototype.destroyModal=function(){this.modalRef&&(this.overlayRef.dispose(),this.modalRef=null)},t.prototype.changeProps=function(t){this.modalRef&&Object.assign(this.modalRef.instance,t)},t.prototype.createModal=function(){this.overlayRef=this.overlay.create(),this.modalRef=this.overlayRef.attach(new c.ComponentPortal(v))},t}(),S=function(){function t(t,e){this.overlay=t,this.modalControl=e}return Object.defineProperty(t.prototype,"openModals",{get:function(){return this.modalControl.openModals},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterAllClose",{get:function(){return this.modalControl.afterAllClose.asObservable()},enumerable:!0,configurable:!0}),t.prototype.closeAll=function(){this.modalControl.closeAll()},t.prototype.create=function(t){return void 0===t&&(t={}),"function"!=typeof t.mcOnCancel&&(t.mcOnCancel=function(){}),"mcCloseByESC"in t||(t.mcCloseByESC=!0),"mcWidth"in t||(t.mcWidth=480),new w(this.overlay,t).getInstance()},t.prototype.confirm=function(t,e){return void 0===t&&(t={}),void 0===e&&(e="confirm"),"mcFooter"in t&&console.warn('The Confirm-Modal doesn\'t support "mcFooter", this property will be ignored.'),"function"!=typeof t.mcOnOk&&(t.mcOnOk=function(){}),t.mcModalType="confirm",t.mcClassName="mc-confirm mc-confirm-"+e+" "+(t.mcClassName||""),t.mcMaskClosable=!1,this.create(t)},t.prototype.open=function(t){return void 0===t&&(t={}),t.mcModalType="custom",this.create(t)},t.prototype.success=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"success")},t.prototype.delete=function(t){return void 0===t&&(t={}),this.simpleConfirm(t,"warn")},t.prototype.simpleConfirm=function(t,e){return void 0===t&&(t={}),"mcCancelText"in t||(t.mcCancelText=null),this.confirm(t,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.Overlay},{type:g}]},t}(),T=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,o.OverlayModule,l.A11yModule,m.McButtonModule,p.McIconModule],exports:[v,O,M,x],declarations:[v,O,M,x,k],entryComponents:[v],providers:[g,S]}]}],t}();t.McModalComponent=v,t.McModalRef=h,t.McModalModule=T,t.McModalService=S,t.ɵe28=k,t.ɵa28=g,t.ɵc28=M,t.ɵd28=x,t.ɵb28=O,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-modal.umd.min.js.map
