!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@ptsecurity/cdk/tree"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/icon"),require("@ptsecurity/mosaic/tags"),require("@ptsecurity/mosaic/tree"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("@angular/forms"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/mosaic/form-field"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/tree-select",["exports","@angular/cdk/overlay","@angular/common","@angular/core","@ptsecurity/cdk/tree","@ptsecurity/mosaic/core","@ptsecurity/mosaic/icon","@ptsecurity/mosaic/tags","@ptsecurity/mosaic/tree","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/collections","@angular/forms","@ptsecurity/cdk/keycodes","@ptsecurity/mosaic/form-field","rxjs","rxjs/operators"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic["tree-select"]={}),e.ng.cdk.overlay,e.ng.common,e.ng.core,e.tree,e.ptsecurity.mosaic.core,e.ptsecurity.mosaic.icon,e.ptsecurity.mosaic.tags,e.ptsecurity.mosaic.tree,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.forms,e.keycodes,e.ptsecurity.mosaic["form-field"],e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,i,n,o,s,a,c,l,p,d,u,h,m,g,f){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};Object.create;function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}Object.create;var b=0,_=function(e,t,r){void 0===r&&(r=!1),this.source=e,this.value=t,this.isUserInput=r},C=function(){};C.decorators=[{type:i.Directive,args:[{selector:"mc-tree-select-trigger"}]}];var O=function(e,t,r,i,n){this.elementRef=e,this.defaultErrorStateMatcher=t,this.parentForm=r,this.parentFormGroup=i,this.ngControl=n},S=function(e){function t(t,r,n,o,s,a,c,l,p,d,u,h,m,y,_,C){var O=e.call(this,t,a,u,h,y)||this;return O.changeDetectorRef=r,O.viewportRuler=n,O.ngZone=o,O.renderer=s,O.scrollStrategyFactory=c,O.rawValidators=l,O.mcValidation=p,O.dir=d,O.parentFormField=m,O.ngModel=_,O.formControlName=C,O.controlType="mc-select",O.hiddenItems=0,O.triggerFontSize=0,O.transformOrigin="top",O.panelDoneAnimatingStream=new g.Subject,O.scrollStrategy=O.scrollStrategyFactory(),O.offsetY=0,O.positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}],O.hiddenItemsText="...ещё",O.openedChange=new i.EventEmitter,O.openedStream=O.openedChange.pipe(f.filter((function(e){return e})),f.map((function(){}))),O.closedStream=O.openedChange.pipe(f.filter((function(e){return!e})),f.map((function(){}))),O.selectionChange=new i.EventEmitter,O.valueChange=new i.EventEmitter,O.backdropClass="cdk-overlay-transparent-backdrop",O.optionSelectionChanges=g.defer((function(){return O.options?O.options.changes.pipe(f.startWith(O.options),f.switchMap((function(){return g.merge.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}(O.options.map((function(e){return e.onSelectionChange}))))}))):O.ngZone.onStable.asObservable().pipe(f.take(1),f.switchMap((function(){return O.optionSelectionChanges})))})),O._required=!1,O._multiple=!1,O._autoSelect=!0,O._value=null,O._hasBackdrop=!1,O._focused=!1,O.closeSubscription=g.Subscription.EMPTY,O._panelOpen=!1,O.scrollTop=0,O.uid="mc-select-"+b++,O.destroy=new g.Subject,O.onChange=function(){},O.onTouched=function(){},O._compareWith=function(e,t){return e===t},O.ngControl&&(O.ngControl.valueAccessor=O),O.id=O.id,O}return function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=p.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this.selectionModel)throw o.getMcSelectDynamicMultipleError();this._multiple=p.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoSelect",{get:function(){return!this.multiple&&this._autoSelect},set:function(e){this._autoSelect=p.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){if("function"!=typeof e)throw o.getMcSelectNonFunctionValueError();this._compareWith=e,this.selectionModel&&this.initializeSelection()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.multiple?this.tree.getSelectedValues():this.tree.getSelectedValues()[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this.uid,this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=p.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focused",{get:function(){return this._focused||this._panelOpen},set:function(e){this._focused=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowCleaner",{get:function(){return this.cleaner&&this.selectionModel.hasValue()},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.stateChanges.next(),this.panelDoneAnimatingStream.pipe(f.distinctUntilChanged(),f.takeUntil(this.destroy)).subscribe((function(){e.panelOpen?(e.scrollTop=0,e.openedChange.emit(!0)):(e.openedChange.emit(!1),e.overlayDir.offsetX=0,e.changeDetectorRef.markForCheck())}))},t.prototype.ngAfterContentInit=function(){var e=this;this.tree&&(this.mcValidation.useValidation&&o.setMosaicValidation(this),this.tree.resetFocusedItemOnBlur=!1,this.selectionModel=this.tree.selectionModel=new d.SelectionModel(this.multiple),this.tree.ngAfterContentInit(),this.initKeyManager(),this.options=this.tree.renderedOptions,this.tree.autoSelect=this.autoSelect,null===this.tree.multipleMode&&(this.tree.multipleMode=this.multiple?o.MultipleMode.CHECKBOX:null),this.multiple&&(this.tree.noUnselectLast=!1),this.tempValues&&(this.setSelectionByValue(this.tempValues),this.tempValues=null),this.optionSelectionChanges.pipe(f.takeUntil(this.destroy)).subscribe((function(t){!e.multiple&&e.panelOpen&&t.isUserInput&&e.close()})),this.tree.selectionChange.pipe(f.takeUntil(this.destroy)).subscribe((function(t){e.onChange(e.selectedValues),e.selectionChange.emit(new _(e,t.option))})),this.selectionModel.changed.pipe(f.takeUntil(this.destroy)).subscribe((function(t){t.added.length&&(e.tree.keyManager.setFocusOrigin("program"),e.tree.keyManager.setActiveItem(e.options.find((function(e){return e.data===t.added[0]}))))})))},t.prototype.ngAfterViewInit=function(){var e=this;this.tree&&(this.tags.changes.subscribe((function(){setTimeout((function(){return e.calculateHiddenItems()}),0)})),setTimeout((function(){return e.calculateHiddenItems()}),0))},t.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},t.prototype.ngOnChanges=function(e){e.disabled&&this.stateChanges.next()},t.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete(),this.stateChanges.complete(),this.closeSubscription.unsubscribe()},t.prototype.hiddenItemsTextFormatter=function(e,t){return e+" "+t},t.prototype.clearValue=function(e){e.stopPropagation(),this.selectionModel.clear(),this.tree.keyManager.setActiveItem(-1),this.setSelectionByValue([]),this.onChange(this.selectedValues)},t.prototype.toggle=function(){this.panelOpen?this.close():this.open()},t.prototype.open=function(){var e=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this.triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this.triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,setTimeout((function(){return e.highlightCorrectOption()})),this.changeDetectorRef.markForCheck(),this.ngZone.onStable.asObservable().pipe(f.take(1)).subscribe((function(){e.triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e.triggerFontSize+"px")})))},t.prototype.close=function(){var e=this;this._panelOpen&&(this._panelOpen=!1,this.changeDetectorRef.markForCheck(),this.onTouched(),setTimeout((function(){return e.focus()}),0))},t.prototype.writeValue=function(e){this.tree?this.setSelectionByValue(e):this.tempValues=e},t.prototype.registerOnChange=function(e){this.onChange=e},t.prototype.registerOnTouched=function(e){this.onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e,this.changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(t.prototype,"selected",{get:function(){return this.multiple?this.selectionModel.selected:this.selectionModel.selected[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedValues",{get:function(){var e=this,t=this.selectionModel.selected.map((function(t){return e.tree.treeControl.getValue(t)}));return this.multiple?t:t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"triggerValue",{get:function(){return this.empty?"":this.tree.treeControl.getViewValue(this.selected)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"triggerValues",{get:function(){var e=this;return this.empty?[]:this.selectedValues.map((function(t){return e.tree.renderedOptions.find((function(e){return e.value===t}))})).filter((function(e){return e}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return!this.selectionModel||this.selectionModel.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isRtl=function(){return!!this.dir&&"rtl"===this.dir.value},t.prototype.handleKeydown=function(e){this.disabled||(this.panelOpen?this.handleOpenKeydown(e):this.handleClosedKeydown(e))},t.prototype.onFocus=function(){this.disabled||(this._focused=!0,this.stateChanges.next())},t.prototype.onBlur=function(){this._focused=!1,this.disabled||this.panelOpen||(this.onTouched(),this.changeDetectorRef.markForCheck(),this.stateChanges.next())},t.prototype.onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(f.take(1)).subscribe((function(){e.changeDetectorRef.detectChanges(),e.calculateOverlayOffsetX(),e.panel.nativeElement.scrollTop=e.scrollTop,e.tree.updateScrollSize()})),this.closeSubscription=this.closingActions().subscribe((function(){return e.close()}))},t.prototype.getPanelTheme=function(){return this.parentFormField?"mc-"+this.parentFormField.color:""},t.prototype.focus=function(){this.elementRef.nativeElement.focus()},t.prototype.onContainerClick=function(){this.focus()},t.prototype.onRemoveSelectedOption=function(e,t){var r=this;t.stopPropagation(),this.selectionModel.deselect(this.selected.find((function(t){return r.tree.treeControl.getValue(t)===e.value}))),this.onChange(this.selectedValues)},t.prototype.calculateHiddenItems=function(){var e=this;if(!this.customTrigger&&!this.empty&&this.multiple){var t=0,r=this.getTotalItemsWidthInMatcher(),i=0;if(this.tags.forEach((function(r){r.nativeElement.offsetTop<r.nativeElement.offsetHeight&&(i+=e.getItemWidth(r.nativeElement),t++)})),this.hiddenItems=this.selectionModel.selected.length-t,this.hiddenItems){var n=this.trigger.nativeElement.querySelector(".mc-tree-select__match-hidden-text"),o=this.trigger.nativeElement.querySelector(".mc-tree-select__match-list"),s=n.offsetTop<n.offsetHeight,a=o.getBoundingClientRect().width,c=a+86;if(s&&r<c&&(this.hiddenItems=0),i===a||i+86<a)return void this.changeDetectorRef.markForCheck();!s&&r+86>c&&this.hiddenItems++}this.changeDetectorRef.markForCheck()}},t.prototype.closingActions=function(){var e=this.overlayDir.overlayRef.backdropClick(),t=this.overlayDir.overlayRef.outsidePointerEvents(),r=this.overlayDir.overlayRef.detachments();return g.merge(e,t,r)},t.prototype.getTotalItemsWidthInMatcher=function(){var e=this,t=this.trigger.nativeElement.cloneNode(!0);t.querySelector(".mc-tree-select__match-hidden-text").remove(),this.renderer.setStyle(t,"position","absolute"),this.renderer.setStyle(t,"visibility","hidden"),this.renderer.setStyle(t,"top","-100%"),this.renderer.setStyle(t,"left","0"),this.renderer.appendChild(this.trigger.nativeElement,t);var r=0;return t.querySelectorAll("mc-tag").forEach((function(t){r+=e.getItemWidth(t)})),t.remove(),r},t.prototype.getItemWidth=function(e){var t=window.getComputedStyle(e);return parseInt(t.width)+parseInt(t.marginLeft)+parseInt(t.marginRight)},t.prototype.handleClosedKeydown=function(e){var t=e.keyCode,r=t===h.DOWN_ARROW||t===h.UP_ARROW||t===h.LEFT_ARROW||t===h.RIGHT_ARROW;t===h.ENTER||t===h.SPACE||(this.multiple||e.altKey)&&r?(e.preventDefault(),this.open()):!this.multiple&&this.tree.keyManager&&this.tree.keyManager.onKeydown&&this.tree.keyManager.onKeydown(e)},t.prototype.handleOpenKeydown=function(e){var t=e.keyCode,r=t===h.DOWN_ARROW||t===h.UP_ARROW;if(r&&e.altKey)e.preventDefault(),this.close();else{if(t===h.LEFT_ARROW||t===h.RIGHT_ARROW)return this.originalOnKeyDown.call(this.tree,e);if(t===h.HOME)e.preventDefault(),this.tree.keyManager.setFirstItemActive();else if(t===h.END)e.preventDefault(),this.tree.keyManager.setLastItemActive();else if(t===h.PAGE_UP)e.preventDefault(),this.tree.keyManager.setPreviousPageItemActive();else if(t===h.PAGE_DOWN)e.preventDefault(),this.tree.keyManager.setNextPageItemActive();else if(t!==h.ENTER&&t!==h.SPACE||!this.tree.keyManager.activeItem)if(this.multiple&&t===h.A&&e.ctrlKey){e.preventDefault();var i=this.options.some((function(e){return!e.selected}));this.options.forEach((function(e){i&&!e.disabled?e.select():e.deselect()}))}else{var n=this.tree.keyManager.activeItemIndex;this.tree.keyManager.setFocusOrigin("keyboard"),this.tree.keyManager.onKeydown(e),this.multiple&&r&&e.shiftKey&&this.tree.keyManager.activeItem&&this.tree.keyManager.activeItemIndex!==n&&this.tree.keyManager.activeItem.selectViaInteraction(e),this.autoSelect&&this.tree.keyManager.activeItem&&this.tree.setSelectedOptionsByKey(this.tree.keyManager.activeItem,h.hasModifierKey(e,"shiftKey"),h.hasModifierKey(e,"ctrlKey"))}else e.preventDefault(),this.autoSelect?this.close():this.selectionModel.toggle(this.tree.keyManager.activeItem.data)}},t.prototype.initializeSelection=function(){var e=this;Promise.resolve().then((function(){e.setSelectionByValue(e.ngControl?e.ngControl.value:e._value)}))},t.prototype.setSelectionByValue=function(e){if(this.multiple&&e){if(!Array.isArray(e))throw o.getMcSelectNonArrayValueError();this.tree.setOptionsFromValues(e),this.sortValues()}else this.tree.setOptionsFromValues([e]);this.changeDetectorRef.detectChanges()},t.prototype.initKeyManager=function(){var e=this;this.originalOnKeyDown=this.tree.onKeyDown,this.tree.onKeyDown=function(){},this.tree.keyManager.tabOut.pipe(f.takeUntil(this.destroy)).subscribe((function(){e.focus(),e.close()})),this.tree.keyManager.change.pipe(f.takeUntil(this.destroy)).subscribe((function(){e._panelOpen&&e.panel?e.scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e.tree.keyManager.activeItem||e.tree.keyManager.activeItem.selectViaInteraction()}))},t.prototype.sortValues=function(){var e=this;if(this.multiple){var t=this.options.toArray();this.selectionModel.sort((function(r,i){return e.sortComparator?e.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)})),this.stateChanges.next()}},t.prototype.highlightCorrectOption=function(){if(!this.empty&&this.tree.keyManager){var e=this.multiple?this.selectedValues[0]:this.selectedValues,t=this.options.find((function(t){return t.value===e}));t&&this.tree.keyManager.setActiveItem(t)}},t.prototype.scrollActiveOptionIntoView=function(){var e=this.tree.keyManager.activeItemIndex||0;this.panel.nativeElement.scrollTop=o.getOptionScrollPosition(e,this.tree.getItemHeight(),this.panel.nativeElement.scrollTop,o.SELECT_PANEL_MAX_HEIGHT)},t.prototype.calculateOverlayOffsetX=function(){var e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this.viewportRuler.getViewportSize(),r=this.isRtl(),i=2*o.SELECT_PANEL_PADDING_X,n=o.SELECT_PANEL_PADDING_X;r||(n*=-1);var s=0-(e.left+n-(r?i:0)),a=e.right+n-t.width+(r?0:i);s>0?n+=s+o.SELECT_PANEL_VIEWPORT_PADDING:a>0&&(n-=a+o.SELECT_PANEL_VIEWPORT_PADDING),this.overlayDir.offsetX=Math.round(n),this.overlayDir.overlayRef.updatePosition()},t}(o.mixinTabIndex(o.mixinDisabled(o.mixinErrorState(O))));S.decorators=[{type:i.Component,args:[{selector:"mc-tree-select",exportAs:"mcTreeSelect",template:'<div cdk-overlay-origin\n     class="mc-tree-select__trigger"\n     [class.mc-tree-select__trigger_multiple]="multiple"\n     #origin="cdkOverlayOrigin"\n     #trigger>\n    <div class="mc-tree-select__matcher" [ngSwitch]="empty">\n        <span class="mc-tree-select__placeholder" *ngSwitchCase="true">{{ placeholder || \'\\u00A0\' }}</span>\n        <span *ngSwitchCase="false" [ngSwitch]="!!customTrigger">\n            <div *ngSwitchDefault [ngSwitch]="multiple" class="mc-tree-select__match-container">\n                <span *ngSwitchCase="false" class="mc-tree-select__matcher-text">{{ triggerValue }}</span>\n                <div *ngSwitchCase="true" class="mc-tree-select__multiple-matcher">\n                    <div class="mc-tree-select__match-list">\n                        <mc-tag *ngFor="let option of triggerValues"\n                            [selectable]="false"\n                            [disabled]="option.disabled || disabled"\n                            [class.mc-error]="errorState">\n\n                            {{ option.viewValue }}\n                            <i mc-icon="mc-close-S_16"\n                               *ngIf="!option.disabled && !disabled"\n                               (click)="onRemoveSelectedOption(option, $event)">\n                            </i>\n                        </mc-tag>\n                    </div>\n                    <div class="mc-tree-select__match-hidden-text"\n                         [style.display]="hiddenItems > 0 ? \'block\' : \'none\'"\n                         #hiddenItemsCounter>\n                        {{ hiddenItemsTextFormatter(hiddenItemsText, hiddenItems) }}\n                    </div>\n                </div>\n            </div>\n            <ng-content select="mc-tree-select-trigger" *ngSwitchCase="true"></ng-content>\n        </span>\n    </div>\n\n    <div class="mc-select__cleaner" *ngIf="canShowCleaner" (click)="clearValue($event)">\n        <ng-content select="mc-cleaner"></ng-content>\n    </div>\n\n    <div class="mc-tree-select__arrow-wrapper">\n        <i class="mc-tree-select__arrow" mc-icon="mc-angle-down-L_16"></i>\n    </div>\n</div>\n\n<ng-template\n    cdk-connected-overlay\n    cdkConnectedOverlayLockPosition\n    [cdkConnectedOverlayHasBackdrop]="hasBackdrop"\n    [cdkConnectedOverlayBackdropClass]="backdropClass"\n    [cdkConnectedOverlayScrollStrategy]="scrollStrategy"\n    [cdkConnectedOverlayOrigin]="origin"\n    [cdkConnectedOverlayOpen]="panelOpen"\n    [cdkConnectedOverlayPositions]="positions"\n    [cdkConnectedOverlayMinWidth]="triggerRect?.width"\n    [cdkConnectedOverlayOffsetY]="offsetY"\n    (backdropClick)="close()"\n    (attach)="onAttached()"\n    (detach)="close()">\n\n    <div #panel\n         class="mc-tree-select__panel {{ getPanelTheme() }}"\n         [ngClass]="panelClass"\n         [style.transformOrigin]="transformOrigin"\n         [style.font-size.px]="triggerFontSize"\n         (keydown)="handleKeydown($event)">\n\n        <div #optionsContainer\n             class="mc-tree-select__content"\n             [@fadeInContent]="\'showing\'"\n             (@fadeInContent.done)="panelDoneAnimatingStream.next($event.toState)">\n            <ng-content select="mc-tree-selection"></ng-content>\n        </div>\n    </div>\n</ng-template>\n',inputs:["disabled","tabIndex"],encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,host:{class:"mc-tree-select","[class.mc-disabled]":"disabled","[class.mc-invalid]":"errorState","[attr.id]":"id","[attr.tabindex]":"tabIndex","[attr.disabled]":"disabled || null","(click)":"toggle()","(keydown)":"handleKeydown($event)","(focus)":"onFocus()","(blur)":"onBlur()","(window:resize)":"calculateHiddenItems()"},animations:[o.mcSelectAnimations.transformPanel,o.mcSelectAnimations.fadeInContent],providers:[{provide:m.McFormFieldControl,useExisting:S},{provide:n.CdkTree,useExisting:S}],styles:[".mc-option{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;position:relative;max-width:100%;height:var(--mc-option-size-height,32px);border:var(--mc-option-size-border-width,2px) solid transparent;cursor:pointer;outline:none;padding-left:var(--mc-option-size-horizontal-padding,16px);padding-right:var(--mc-option-size-horizontal-padding,16px);-webkit-tap-highlight-color:transparent}.mc-option.mc-disabled{cursor:default}.mc-option .mc-pseudo-checkbox{margin-right:8px}.mc-option .mc-option-overlay{position:absolute;top:calc(-1 * var(--mc-option-size-border-width, 2px));left:calc(-1 * var(--mc-option-size-border-width, 2px));right:calc(-1 * var(--mc-option-size-border-width, 2px));bottom:calc(-1 * var(--mc-option-size-border-width, 2px));pointer-events:none;border-radius:inherit}.mc-option-text{display:inline-block;flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.mc-tree-select{box-sizing:border-box;display:inline-block;width:100%;outline:none}.mc-tree-select.mc-disabled .mc-tree-select__trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mc-tree-select__trigger{display:flex;box-sizing:border-box;position:relative;height:var(--mc-select-size-height,30px);cursor:pointer;padding-left:calc(var(--mc-select-size-left-padding, 16px) - var(--mc-form-field-size-border-width, 1px));padding-right:calc(var(--mc-select-size-right-padding, 8px) - var(--mc-form-field-size-border-width, 1px))}.mc-tree-select__trigger.mc-tree-select__trigger_multiple{padding-left:calc(var(--mc-select-size-left-padding-multiple, 8px) - var(--mc-form-field-size-border-width, 1px))}.mc-tree-select__trigger.mc-tree-select__trigger_multiple .mc-tree-select__placeholder{margin-left:8px}.mc-tree-select__trigger.mc-tree-select__trigger_multiple .mc-tag.mc-disabled .mc-tag__text{margin-right:7px}.mc-tree-select__matcher{display:flex;align-items:center;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mc-tree-select__matcher>span{width:100%}.mc-tree-select__multiple-matcher{display:flex;width:100%}.mc-tree-select__match-list{display:flex;flex-wrap:wrap;overflow:hidden;max-height:calc(var(--mc-select-size-height, 30px) - var(--mc-select-panel-size-border-width, 1px))}.mc-tree-select__match-list .mc-tag{margin-right:4px}.mc-tree-select__match-container{display:flex;flex-direction:row;justify-content:space-between;width:100%}.mc-tree-select__match-container .mc-tree-select__match-hidden-text{flex:0 0 70px;align-self:center;padding:0 8px;text-align:right}.mc-tree-select__match-item{display:flex;border:1px solid transparent;border-radius:3px;padding-left:7px;margin-right:4px;max-width:100%}.mc-tree-select__arrow-wrapper{align-self:center}.mc-form-field-appearance-fill .mc-tree-select__arrow-wrapper,.mc-form-field-appearance-standard .mc-tree-select__arrow-wrapper{transform:translateY(-50%)}.mc-form-field-appearance-outline .mc-tree-select__arrow-wrapper{transform:translateY(-25%)}.mc-tree-select__panel{max-height:var(--mc-select-panel-size-max-height,232px);min-width:100%;overflow:auto;border-width:var(--mc-select-panel-size-border-width,1px);border-style:solid;border-bottom-left-radius:var(--mc-select-panel-size-border-radius,3px);border-bottom-right-radius:var(--mc-select-panel-size-border-radius,3px);padding:4px 0}.mc-tree-select__panel .mc-optgroup-label,.mc-tree-select__panel .mc-tree-select-option{font-size:inherit;line-height:var(--mc-option-size-height,32px);height:var(--mc-option-size-height,32px)}.mc-tree-select__content,.mc-tree-select__content .mc-tree-selection{height:100%}.mc-form-field-type-mc-select:not(.mc-disabled) .mc-form-field-flex{cursor:pointer}"]}]}],S.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:t.ViewportRuler},{type:i.NgZone},{type:i.Renderer2},{type:o.ErrorStateMatcher},{type:void 0,decorators:[{type:i.Inject,args:[o.MC_SELECT_SCROLL_STRATEGY]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Inject,args:[u.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[o.MC_VALIDATION]}]},{type:l.Directionality,decorators:[{type:i.Optional}]},{type:u.NgForm,decorators:[{type:i.Optional}]},{type:u.FormGroupDirective,decorators:[{type:i.Optional}]},{type:m.McFormField,decorators:[{type:i.Optional}]},{type:u.NgControl,decorators:[{type:i.Optional},{type:i.Self}]},{type:u.NgModel,decorators:[{type:i.Optional},{type:i.Self}]},{type:u.FormControlName,decorators:[{type:i.Optional},{type:i.Self}]}]},S.propDecorators={trigger:[{type:i.ViewChild,args:["trigger",{static:!1}]}],panel:[{type:i.ViewChild,args:["panel",{static:!1}]}],overlayDir:[{type:i.ViewChild,args:[t.CdkConnectedOverlay,{static:!1}]}],hiddenItemsCounter:[{type:i.ViewChild,args:["hiddenItemsCounter",{static:!1}]}],tags:[{type:i.ViewChildren,args:[a.McTag]}],cleaner:[{type:i.ContentChild,args:["mcSelectCleaner",{static:!0}]}],customTrigger:[{type:i.ContentChild,args:[C,{static:!1}]}],tree:[{type:i.ContentChild,args:[c.McTreeSelection,{static:!1}]}],hiddenItemsText:[{type:i.Input}],openedChange:[{type:i.Output}],openedStream:[{type:i.Output,args:["opened"]}],closedStream:[{type:i.Output,args:["closed"]}],selectionChange:[{type:i.Output}],valueChange:[{type:i.Output}],panelClass:[{type:i.Input}],backdropClass:[{type:i.Input}],errorStateMatcher:[{type:i.Input}],sortComparator:[{type:i.Input}],placeholder:[{type:i.Input}],required:[{type:i.Input}],multiple:[{type:i.Input}],autoSelect:[{type:i.Input}],compareWith:[{type:i.Input}],id:[{type:i.Input}],hasBackdrop:[{type:i.Input}],hiddenItemsTextFormatter:[{type:i.Input}]};var k=function(){};k.decorators=[{type:i.NgModule,args:[{imports:[r.CommonModule,t.OverlayModule,n.CdkTreeModule,c.McTreeModule,s.McIconModule,a.McTagsModule,o.McPseudoCheckboxModule],exports:[S,C,r.CommonModule],declarations:[S,C],providers:[o.MC_SELECT_SCROLL_STRATEGY_PROVIDER]}]}],e.McTreeSelect=S,e.McTreeSelectChange=_,e.McTreeSelectModule=k,e.McTreeSelectTrigger=C,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-tree-select.umd.min.js.map