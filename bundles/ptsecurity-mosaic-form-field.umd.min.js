!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@ptsecurity/mosaic/icon"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/mosaic/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/form-field",["exports","@angular/common","@angular/core","@ptsecurity/mosaic/icon","@ptsecurity/cdk/keycodes","@ptsecurity/mosaic/core","rxjs","rxjs/operators"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic["form-field"]={}),e.ng.common,e.ng.core,e.ptsecurity.mosaic.icon,e.keycodes,e.ptsecurity.mosaic.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,o,r,i,c,s){"use strict";var a=function(){};a.decorators=[{type:n.Component,args:[{selector:"mc-cleaner",exportAs:"mcCleaner",template:'<i class="mc-icon_light" mc-icon="mc-close-circle_16" color="second"></i>',host:{class:"mc-cleaner"}}]}];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create;Object.create;var p=function(){};function u(){return Error("mc-form-field must contain a McFormFieldControl.")}function d(){return Error('You can\'t use mc-cleaner with input that have type="number"')}var f=0,m=function(){this.id="mc-hint-"+f++};m.decorators=[{type:n.Directive,args:[{selector:"mc-hint",host:{class:"mc-hint","[attr.id]":"id"}}]}],m.propDecorators={id:[{type:n.Input}]};var h=function(){};h.decorators=[{type:n.Directive,args:[{selector:"[mcPrefix]"}]}];var g=function(){function e(){this.stepUp=new n.EventEmitter,this.stepDown=new n.EventEmitter}return e.prototype.connectTo=function(e){e&&(this.stepUp.subscribe((function(){e.stepUp(e.step)})),this.stepDown.subscribe((function(){e.stepDown(e.step)})))},e.prototype.onStepUp=function(e){this.stepUp.emit(),e.preventDefault()},e.prototype.onStepDown=function(e){this.stepDown.emit(),e.preventDefault()},e}();g.decorators=[{type:n.Component,args:[{selector:"mc-stepper",template:'\n        <i class="mc mc-icon mc-icon_light mc-second mc-stepper-step-up mc-angle-down-L_16"\n           (mousedown)="onStepUp($event)">\n        </i>\n        <i class="mc mc-icon mc-icon_light mc-second mc-stepper-step-down mc-angle-down-L_16"\n           (mousedown)="onStepDown($event)">\n        </i>\n    '}]}],g.propDecorators={stepUp:[{type:n.Output}],stepDown:[{type:n.Output}]};var y=function(){};y.decorators=[{type:n.Directive,args:[{selector:"[mcSuffix]"}]}];var b=0,x=function(e){this._elementRef=e};var C=i.mixinColor(x),v=function(e){function t(t,n){var o=e.call(this,t)||this;return o._elementRef=t,o._changeDetectorRef=n,o.labelId="mc-form-field-label-"+b++,o.hovered=!1,o.canCleanerClearByEsc=!0,o.$unsubscribe=new c.Subject,o}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"hasHint",{get:function(){return this.hint&&this.hint.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSuffix",{get:function(){return this.suffix&&this.suffix.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPrefix",{get:function(){return this.prefix&&this.prefix.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCleaner",{get:function(){return!!this.cleaner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasStepper",{get:function(){return!!this.stepper},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowCleaner",{get:function(){return!!(this.hasCleaner&&this.control&&this.control.ngControl)&&(this.control.ngControl.value&&!this.control.disabled)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control&&this.control.disabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowStepper",{get:function(){var e;return this.hasStepper&&!this.disabled&&((null===(e=this.control)||void 0===e?void 0:e.focused)||this.hovered)},enumerable:!1,configurable:!0}),t.prototype.ngAfterContentInit=function(){var e=this;if(this.control.numberInput&&this.hasCleaner)throw this.cleaner=null,d();this.validateControlChild(),this.control.controlType&&this._elementRef.nativeElement.classList.add("mc-form-field-type-"+this.control.controlType),this.control.stateChanges.pipe(s.startWith()).subscribe((function(){e._changeDetectorRef.markForCheck()})),this.hasStepper&&this.stepper.connectTo(this.control.numberInput);var t=this.control.ngControl&&this.control.ngControl.valueChanges||c.EMPTY;c.merge(t).pipe(s.takeUntil(this.$unsubscribe)).subscribe((function(){return e._changeDetectorRef.markForCheck()}))},t.prototype.ngAfterContentChecked=function(){this.validateControlChild()},t.prototype.ngAfterViewInit=function(){this._changeDetectorRef.detectChanges()},t.prototype.clearValue=function(e){e.stopPropagation(),this.control&&this.control.ngControl&&(this.control.ngControl.reset(),this.control.focus())},t.prototype.onContainerClick=function(e){this.control.onContainerClick&&this.control.onContainerClick(e)},t.prototype.onKeyDown=function(e){this.canCleanerClearByEsc&&e.keyCode===r.ESCAPE&&this.control.focused&&this.hasCleaner&&(this.control&&this.control.ngControl&&this.control.ngControl.reset(),e.preventDefault())},t.prototype.onHoverChanged=function(e){e!==this.hovered&&(this.hovered=e,this._changeDetectorRef.markForCheck())},t.prototype.getConnectedOverlayOrigin=function(){return this.connectionContainerRef||this._elementRef},t.prototype.shouldForward=function(e){var t=this.control?this.control.ngControl:null;return t&&t[e]},t.prototype.ngOnDestroy=function(){this.$unsubscribe.next(),this.$unsubscribe.complete()},t.prototype.validateControlChild=function(){if(!this.control)throw u()},t}(C);v.decorators=[{type:n.Component,args:[{selector:"mc-form-field",exportAs:"mcFormField",template:'<div class="mc-form-field__container" (click)="onContainerClick($event)">\n\n    <div class="mc-form-field__prefix" *ngIf="hasPrefix">\n        <ng-content select="[mcPrefix]"></ng-content>\n    </div>\n\n    <div class="mc-form-field__infix">\n        <ng-content></ng-content>\n    </div>\n\n    <div class="mc-form-field__suffix" *ngIf="hasSuffix">\n        <ng-content select="[mcSuffix]"></ng-content>\n    </div>\n\n    <div class="mc-form-field__cleaner"\n         *ngIf="canShowCleaner && !hasSuffix"\n         (click)="clearValue($event)">\n        <ng-content select="mc-cleaner"></ng-content>\n    </div>\n\n    <ng-content *ngIf="canShowStepper" select="mc-stepper"></ng-content>\n</div>\n\n<div class="mc-form-field__hint">\n    <ng-content select="mc-hint"></ng-content>\n</div>\n',host:{class:"mc-form-field","[class.mc-form-field_invalid]":"control.errorState","[class.mc-form-field_has-prefix]":"hasPrefix","[class.mc-form-field_has-suffix]":"hasSuffix","[class.mc-form-field_has-cleaner]":"canShowCleaner","[class.mc-form-field_has-stepper]":"canShowStepper","[class.mc-disabled]":"control.disabled","[class.mc-focused]":"control.focused","[class.ng-untouched]":'shouldForward("untouched")',"[class.ng-touched]":'shouldForward("touched")',"[class.ng-pristine]":'shouldForward("pristine")',"[class.ng-dirty]":'shouldForward("dirty")',"[class.ng-valid]":'shouldForward("valid")',"[class.ng-invalid]":'shouldForward("invalid")',"[class.ng-pending]":'shouldForward("pending")',"(keydown)":"onKeyDown($event)","(mouseenter)":"onHoverChanged(true)","(mouseleave)":"onHoverChanged(false)"},inputs:["color"],encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[".mc-form-field{border-radius:3px;display:inline-block;position:relative;width:100%}.mc-form-field:hover{z-index:1}.mc-form-field.mc-focused{z-index:2}.mc-hint{display:block}.mc-form-field__hint>.mc-hint{margin-top:4px}.mc-form-field__container{border:1px solid transparent;border-radius:3px;position:relative}.mc-form-field_without-borders .mc-form-field__container{border-color:transparent}.mc-form-field__prefix,.mc-form-field__suffix{align-items:center;bottom:0;display:flex;flex-direction:row;justify-content:center;position:absolute;top:0;width:32px}.mc-form-field__prefix{left:0}.mc-form-field__suffix{right:0}.mc-form-field_has-cleaner .mc-input,.mc-form-field_has-stepper .mc-input,.mc-form-field_has-suffix .mc-input{padding-right:32px}.mc-form-field_has-prefix .mc-input{padding-left:32px}.mc-cleaner{cursor:pointer;display:flex;height:100%;width:32px}.mc-cleaner .mc-icon{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.mc-form-field__cleaner .mc-cleaner,mc-stepper{bottom:0;position:absolute;right:0;top:0}mc-stepper{align-items:center;display:flex;flex-direction:column;justify-content:center;width:32px}mc-stepper .mc-stepper-step-down,mc-stepper .mc-stepper-step-up{cursor:pointer;text-align:center;width:32px}mc-stepper .mc-stepper-step-up{transform:scaleY(-1)}",".mc-input{background:transparent;border:none;box-sizing:border-box;margin:0;min-height:30px;outline:none;padding:5px 16px;width:100%}.mc-input::-ms-clear,.mc-input::-ms-reveal{display:none;height:0;width:0}.mc-input::-webkit-search-cancel-button,.mc-input::-webkit-search-decoration,.mc-input::-webkit-search-results-button,.mc-input::-webkit-search-results-decoration{display:none}.mc-input{display:inline-block}input.mc-input[type=number]{-moz-appearance:textfield}input.mc-input[type=number]::-webkit-inner-spin-button,input.mc-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}input.mc-input:invalid{box-shadow:unset}",".mc-textarea{-webkit-appearance:none;background:transparent;border:none;box-sizing:border-box;display:inline-block;margin:0;outline:none;overflow:auto;padding:5px 16px;resize:none;vertical-align:bottom;width:100%}.mc-textarea:not(.mc-textarea-resizable){box-sizing:border-box;overflow-y:hidden}.mc-textarea.mc-textarea-resizable{min-height:50px;resize:vertical}.mc-textarea:invalid{box-shadow:unset}"]}]}],v.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef}]},v.propDecorators={control:[{type:n.ContentChild,args:[p,{static:!1}]}],stepper:[{type:n.ContentChild,args:[g,{static:!1}]}],cleaner:[{type:n.ContentChild,args:[a,{static:!1}]}],hint:[{type:n.ContentChildren,args:[m]}],suffix:[{type:n.ContentChildren,args:[y]}],prefix:[{type:n.ContentChildren,args:[h]}],connectionContainerRef:[{type:n.ViewChild,args:["connectionContainer",{static:!0}]}]};var w=function(){};w.decorators=[{type:n.Directive,args:[{selector:"mc-form-field[mcFormFieldWithoutBorders]",exportAs:"mcFormFieldWithoutBorders",host:{class:"mc-form-field_without-borders"}}]}];var _=function(){};_.decorators=[{type:n.NgModule,args:[{declarations:[v,w,m,h,y,a,g],imports:[t.CommonModule,o.McIconModule],exports:[v,w,m,h,y,a,g]}]}],e.McCleaner=a,e.McFormField=v,e.McFormFieldBase=x,e.McFormFieldControl=p,e.McFormFieldMixinBase=C,e.McFormFieldModule=_,e.McFormFieldWithoutBorders=w,e.McHint=m,e.McPrefix=h,e.McStepper=g,e.McSuffix=y,e.getMcFormFieldMissingControlError=u,e.getMcFormFieldYouCanNotUseCleanerInNumberInputError=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-form-field.umd.min.js.map