!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/portal"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/mosaic/core"),require("rxjs"),require("rxjs/operators"),require("@angular/animations")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/popover",["exports","@angular/cdk/a11y","@angular/cdk/overlay","@angular/common","@angular/core","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/portal","@ptsecurity/cdk/keycodes","@ptsecurity/mosaic/core","rxjs","rxjs/operators","@angular/animations"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.mosaic=e.ptsecurity.mosaic||{},e.ptsecurity.mosaic.popover={}),e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.common,e.ng.core,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.portal,e.keycodes,e.ptsecurity.mosaic.core,e.rxjs,e.rxjs.operators,e.ng.animations)}(this,(function(e,t,o,r,i,n,s,a,p,c,l,m,h){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function u(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,i,n=o.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}Object.create;var d={popoverState:h.trigger("state",[h.state("initial",h.style({opacity:0,transform:"scale(1, 0.8)"})),h.transition("* => visible",h.animate("120ms cubic-bezier(0, 0, 0.2, 1)",h.style({opacity:1,transform:"scale(1, 1)"}))),h.transition("* => hidden",h.animate("100ms linear",h.style({opacity:0})))])},g="click",y="focus",f="hover",b={Initial:"initial",Visible:"visible",Hidden:"hidden"},P=function(){function e(e,t){this.changeDetectorRef=e,this.componentElementRef=t,this.positions=v(c.EXTENDED_OVERLAY_POSITIONS),this.popoverVisibility=b.Initial,this.closeOnInteraction=!1,this.mcVisibleChange=new i.EventEmitter,this._mcTrigger=f,this._mcPlacement="top",this._mcVisible=new l.BehaviorSubject(!1),this._classList=[],this.onHideSubject=new l.Subject,this.availablePositions=c.POSITION_MAP}return Object.defineProperty(e.prototype,"mcTrigger",{get:function(){return this._mcTrigger},set:function(e){this._mcTrigger=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcPlacement",{get:function(){return this._mcPlacement},set:function(e){e!==this._mcPlacement?(this._mcPlacement=e,this.positions.unshift(c.POSITION_MAP[this.mcPlacement])):e||(this._mcPlacement="top")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcPopoverSize",{get:function(){return this.popoverSize},set:function(e){e!==this.popoverSize?this.popoverSize=e:e||(this.popoverSize="normal")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcVisible",{get:function(){return this._mcVisible.value},set:function(e){var t=s.coerceBooleanProperty(e);this._mcVisible.value!==t&&(this._mcVisible.next(t),this.mcVisibleChange.emit(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this._classList.join(" ")},set:function(e){var t=[];Array.isArray(e)?t=e:t.push(e),this._classList=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getCssClassesList",{get:function(){return this.classList+" mc-popover-"+this.mcPopoverSize+" mc-popover_placement-"+this.getPlacementClass},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getPlacementClass",{get:function(){return c.POSITION_TO_CSS_MAP[this.mcPlacement]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.popoverVisibility===b.Visible},enumerable:!1,configurable:!0}),e.prototype.handleKeydown=function(e){this.isOpen&&e.keyCode===p.ESCAPE&&this.hide()},e.prototype.show=function(){this.isNonEmptyContent()&&(this.closeOnInteraction=!0,this.popoverVisibility=b.Visible,this._mcVisible.next(!0),this.mcVisibleChange.emit(!0),this.markForCheck())},e.prototype.hide=function(){this.popoverVisibility=b.Hidden,this._mcVisible.next(!1),this.mcVisibleChange.emit(!1),this.markForCheck()},e.prototype.isNonEmptyContent=function(){return!!this.mcContent&&(this.isTemplateRef(this.mcContent)||this.isNonEmptyString(this.mcContent))},e.prototype.afterHidden=function(){return this.onHideSubject.asObservable()},e.prototype.isVisible=function(){return this.popoverVisibility===b.Visible},e.prototype.markForCheck=function(){this.changeDetectorRef.markForCheck()},e.prototype.isTemplateRef=function(e){return e instanceof i.TemplateRef},e.prototype.isNonEmptyString=function(e){return"string"==typeof e&&""!==e},e.prototype.animationStart=function(){this.closeOnInteraction=!1},e.prototype.animationDone=function(e){var t=e.toState;t!==b.Hidden||this.isVisible()||this.onHideSubject.next(),t!==b.Visible&&t!==b.Hidden||(this.closeOnInteraction=!0)},e.prototype.ngOnDestroy=function(){this.onHideSubject.complete()},e}();P.decorators=[{type:i.Component,args:[{selector:"mc-popover",template:'<div class="mc-popover"\n     [ngClass]="classList"\n     [@state]="popoverVisibility"\n     (@state.start)="animationStart()"\n     (@state.done)="animationDone($event)">\n    <div class="mc-popover__container">\n        <div class="mc-popover__header" *ngIf="mcHeader">\n            <ng-container *ngIf="isTemplateRef(mcHeader)" [ngTemplateOutlet]="mcHeader"></ng-container>\n            <ng-container *ngIf="isNonEmptyString(mcHeader)">\n                <div [innerHTML]="mcHeader"></div>\n            </ng-container>\n        </div>\n        <div class="mc-popover__content" *ngIf="mcContent">\n            <ng-container *ngIf="isTemplateRef(mcContent)" [ngTemplateOutlet]="mcContent"></ng-container>\n            <ng-container *ngIf="isNonEmptyString(mcContent)">\n                <div [innerHTML]="mcContent"></div>\n            </ng-container>\n        </div>\n        <div class="mc-popover__footer" *ngIf="mcFooter">\n            <ng-container *ngIf="isTemplateRef(mcFooter)" [ngTemplateOutlet]="mcFooter"></ng-container>\n            <ng-container *ngIf="isNonEmptyString(mcFooter)">\n                <div [innerHTML]="mcFooter"></div>\n            </ng-container>\n        </div>\n    </div>\n    <div class="mc-popover__arrow"\n         [ngClass]="{ \'mc-popover__arrow_with-footer\': mcFooter }"></div>\n</div>\n',preserveWhitespaces:!1,encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,animations:[d.popoverState],host:{"[class]":"getCssClassesList","(keydown)":"handleKeydown($event)"},styles:['@-webkit-keyframes mc-progress{0%{background-position:0 0}to{background-position:29px 0}}@keyframes mc-progress{0%{background-position:0 0}to{background-position:29px 0}}.mc-progress{position:relative}.mc-progress:after{-webkit-animation:mc-progress 1s linear infinite;animation:mc-progress 1s linear infinite;background:linear-gradient(135deg,rgba(0,0,0,.05) 10px,transparent 0,transparent 20px,rgba(0,0,0,.05) 0,rgba(0,0,0,.05) 30px,transparent 0) repeat;background-size:29px 29px;border-radius:inherit;bottom:0;content:"";left:0;position:absolute;right:0;top:0}.cdk-overlay-container{height:100%;pointer-events:none;position:fixed;width:100%}.cdk-overlay-backdrop,.cdk-overlay-container{box-sizing:border-box;left:0;margin:0;padding:0;top:0;z-index:1000}.cdk-overlay-backdrop{-webkit-tap-highlight-color:transparent;bottom:0;opacity:0;pointer-events:auto;position:absolute;right:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-overlay-pane{max-height:100%;max-width:100%;pointer-events:auto}.cdk-overlay-connected-position-bounding-box,.cdk-overlay-pane{box-sizing:border-box;margin:0;padding:0;position:absolute;z-index:1000}.cdk-overlay-connected-position-bounding-box{display:flex;flex-direction:column;min-height:1px;min-width:1px}.mc-popover{border-radius:var(--mc-popover-size-border-radius,4px);border-style:solid;border-width:var(--mc-popover-size-border-width,1px);box-sizing:border-box;display:block;list-style:none;position:relative;visibility:visible;white-space:pre-line;z-index:1030}.mc-popover-small,.mc-popover-small .mc-popover{max-width:var(--mc-popover-size-small-width,200px)}.mc-popover-normal,.mc-popover-normal .mc-popover{max-width:var(--mc-popover-size-normal-width,400px)}.mc-popover-large,.mc-popover-large .mc-popover{max-width:var(--mc-popover-size-large-width,640px)}.mc-popover__container{border-radius:var(--mc-popover-size-border-radius,4px);overflow:hidden}.mc-popover__header{border-bottom-style:solid;border-bottom-width:var(--mc-popover-size-border-width,1px);padding:var(--mc-popover-header-size-padding,10px 16px)}.mc-popover__content{padding:var(--mc-popover-size-padding,16px)}.mc-popover__footer{border-top-style:solid;border-top-width:var(--mc-popover-size-border-width,1px);margin-top:var(--mc-popover-footer-size-margin-top,8px);padding:var(--mc-popover-footer-size-padding,12px 16px)}.mc-popover_placement-top-left .mc-popover,.mc-popover_placement-top-right .mc-popover,.mc-popover_placement-top .mc-popover{margin-bottom:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*2)}.mc-popover_placement-right-bottom .mc-popover,.mc-popover_placement-right-top .mc-popover,.mc-popover_placement-right .mc-popover{margin-left:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*2)}.mc-popover_placement-bottom-left .mc-popover,.mc-popover_placement-bottom-right .mc-popover,.mc-popover_placement-bottom .mc-popover{margin-top:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*2)}.mc-popover_placement-left-bottom .mc-popover,.mc-popover_placement-left-top .mc-popover,.mc-popover_placement-left .mc-popover{margin-right:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*2)}.mc-popover__arrow{border:1px solid;height:14px;position:absolute;transform:rotate(45deg);width:14px;z-index:-1}.mc-popover_placement-top .mc-popover__arrow{bottom:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px);left:50%;margin-left:calc(var(--mc-popover-size-arrow-width, 4px)*-1)}.mc-popover_placement-top-left .mc-popover__arrow{bottom:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px);left:20px;margin-left:0}.mc-popover_placement-top-right .mc-popover__arrow{bottom:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px);margin-left:0;right:20px}.mc-popover_placement-right .mc-popover__arrow{top:50%}.mc-popover_placement-right-top .mc-popover__arrow,.mc-popover_placement-right .mc-popover__arrow{left:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px);margin-top:calc(var(--mc-popover-size-arrow-width, 4px)*-1)}.mc-popover_placement-right-top .mc-popover__arrow{top:18px}.mc-popover_placement-right-bottom .mc-popover__arrow{bottom:14px;left:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px);margin-top:calc(var(--mc-popover-size-arrow-width, 4px)*-1)}.mc-popover_placement-left .mc-popover__arrow{top:50%}.mc-popover_placement-left-top .mc-popover__arrow,.mc-popover_placement-left .mc-popover__arrow{margin-top:calc(var(--mc-popover-size-arrow-width, 4px)*-1);right:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px)}.mc-popover_placement-left-top .mc-popover__arrow{top:18px}.mc-popover_placement-left-bottom .mc-popover__arrow{bottom:14px;margin-top:calc(var(--mc-popover-size-arrow-width, 4px)*-1);right:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px)}.mc-popover_placement-bottom .mc-popover__arrow{left:50%;margin-left:calc(var(--mc-popover-size-arrow-width, 4px)*-1);top:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px)}.mc-popover_placement-bottom-left .mc-popover__arrow{left:20px;margin-left:0;top:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px)}.mc-popover_placement-bottom-right .mc-popover__arrow{margin-left:0;right:20px;top:calc(var(--mc-popover-size-arrow-width, $popover-size-arrow-width)*-1 + -2px)}']}]}],P.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef}]},P.propDecorators={mcVisibleChange:[{type:i.Output,args:["mcPopoverVisibleChange"]}]};var _=new i.InjectionToken("mc-popover-scroll-strategy");function w(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}var C={provide:_,deps:[o.Overlay],useFactory:w};var O=function(){function e(e,t,o,r,n,s,a){var p=this;this.overlay=e,this.elementRef=t,this.ngZone=o,this.scrollDispatcher=r,this.hostView=n,this.scrollStrategy=s,this.direction=a,this.isPopoverOpen=!1,this.isDynamicPopover=!1,this.backdropClass="cdk-overlay-transparent-backdrop",this.mcVisibleChange=new i.EventEmitter,this.mcPositionStrategyPlacementChange=new i.EventEmitter,this._hasBackdrop=!1,this.$unsubscribe=new l.Subject,this._disabled=!1,this._mcTrigger=g,this.popoverSize="normal",this._mcPlacementPriority=null,this._mcPlacement="top",this.closeSubscription=l.Subscription.EMPTY,this.manualListeners=new Map,this.destroyed=new l.Subject,this.resizeListener=function(){return p.updatePosition()},this.availablePositions=c.POSITION_MAP,this.defaultPositionsMap=c.DEFAULT_4_POSITIONS_TO_CSS_MAP}return Object.defineProperty(e.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=s.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcHeader",{get:function(){return this._mcHeader},set:function(e){this._mcHeader=e,this.updateCompValue("mcHeader",e),this.isPopoverOpen&&this.updatePosition(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcContent",{get:function(){return this._mcContent},set:function(e){this._mcContent=e,this.updateCompValue("mcContent",e),this.isPopoverOpen&&this.updatePosition(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcFooter",{get:function(){return this._mcFooter},set:function(e){this._mcFooter=e,this.updateCompValue("mcFooter",e),this.isPopoverOpen&&this.updatePosition(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=s.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcMouseEnterDelay",{get:function(){return this._mcMouseEnterDelay},set:function(e){this._mcMouseEnterDelay=e,this.updateCompValue("mcMouseEnterDelay",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcMouseLeaveDelay",{get:function(){return this._mcMouseLeaveDelay},set:function(e){this._mcMouseLeaveDelay=e,this.updateCompValue("mcMouseLeaveDelay",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcTrigger",{get:function(){return this._mcTrigger},set:function(e){e?(this._mcTrigger=e,this.updateCompValue("mcTrigger",e)):this._mcTrigger=g,this.resetListeners()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcPopoverSize",{get:function(){return this.popoverSize},set:function(e){!e||"small"!==e&&"normal"!==e&&"large"!==e?this.popoverSize="normal":(this.popoverSize=e,this.updateCompValue("mcPopoverSize",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcPlacementPriority",{get:function(){return this._mcPlacementPriority},set:function(e){e&&e.length>0?this._mcPlacementPriority=e:this._mcPlacementPriority=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcPlacement",{get:function(){return this._mcPlacement},set:function(e){e?(this._mcPlacement=e,this.updateCompValue("mcPlacement",e)):this._mcPlacement="top"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this._classList},set:function(e){this._classList=e,this.updateCompValue("classList",this._classList)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mcVisible",{get:function(){return this._mcVisible},set:function(e){var t=s.coerceBooleanProperty(e);this._mcVisible!==t&&(this._mcVisible=t,this.updateCompValue("mcVisible",t),t?this.show():this.hide())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.isPopoverOpen},enumerable:!1,configurable:!0}),e.prototype.createOverlay=function(){var e=this;this.overlayRef&&this.overlayRef.dispose();var t=this.overlay.position().flexibleConnectedTo(this.elementRef).withTransformOriginOn(".mc-popover").withFlexibleDimensions(!1).withViewportMargin(8).withPositions(v(c.EXTENDED_OVERLAY_POSITIONS)),o=this.scrollDispatcher.getAncestorScrollContainers(this.elementRef);return t.withScrollableContainers(o),t.positionChanges.pipe(m.takeUntil(this.destroyed)).subscribe((function(t){e.popover&&(e.onPositionChange(t),t.scrollableViewProperties.isOverlayClipped&&e.popover.mcVisible&&e.ngZone.run((function(){return e.hide()})))})),this.overlayRef=this.overlay.create({direction:this.direction,positionStrategy:t,panelClass:"mc-popover__panel",scrollStrategy:this.scrollStrategy(),hasBackdrop:this.hasBackdrop,backdropClass:this.backdropClass}),this.closeSubscription=this.closingActions().pipe(m.delay(0)).subscribe((function(){return e.hide()})),this.updatePosition(),this.overlayRef.detachments().pipe(m.takeUntil(this.destroyed)).subscribe((function(){return e.detach()})),this.overlayRef},e.prototype.detach=function(){this.overlayRef&&this.overlayRef.hasAttached()&&this.overlayRef.detach(),this.popover=null},e.prototype.onPositionChange=function(e){var t=this,o=this.mcPlacement;Object.keys(this.availablePositions).some((function(r){return e.connectionPair.originX===t.availablePositions[r].originX&&e.connectionPair.originY===t.availablePositions[r].originY&&e.connectionPair.overlayX===t.availablePositions[r].overlayX&&e.connectionPair.overlayY===t.availablePositions[r].overlayY&&(o=r,!0)})),this.updateCompValue("mcPlacement",o),this.mcPositionStrategyPlacementChange.emit(o),this.popover&&(this.updateCompValue("classList",this.classList),this.popover.markForCheck()),this.defaultPositionsMap[o]||this.handlePositionUpdate(o)},e.prototype.handlePositionUpdate=function(e){this.overlayRef||(this.overlayRef=this.createOverlay());var t=this.overlayRef.overlayElement.style,o=this.hostView.element.nativeElement.clientHeight,r=this.hostView.element.nativeElement.clientWidth,i=Math.floor(o/2),n=Math.floor(r/2-6),s={top:i,bottom:i,right:n,left:n},a=e.split(/(?=[A-Z])/)[1].toLowerCase();("top"===a||"bottom"===a)&&o>44||("left"===a||"right"===a)&&r>44||(this.overlayRef.overlayElement.style[a]||(this.overlayRef.overlayElement.style[a]="0px"),this.overlayRef.overlayElement.style[a]=parseInt(t[a].split("px")[0],10)+s[a]-20+"px")},e.prototype.updateCompValue=function(e,t){this.isDynamicPopover&&t&&this.popover&&(this.popover[e]=t)},e.prototype.ngOnInit=function(){this.initElementRefListeners()},e.prototype.ngOnDestroy=function(){var e=this;this.overlayRef&&this.overlayRef.dispose(),this.manualListeners.forEach((function(t,o){e.elementRef.nativeElement.removeEventListener(o,t)})),this.manualListeners.clear(),this.$unsubscribe.next(),this.$unsubscribe.complete(),this.closeSubscription.unsubscribe()},e.prototype.handleKeydown=function(e){this.isOpen&&e.keyCode===p.ESCAPE&&this.hide()},e.prototype.handleTouchend=function(){this.hide()},e.prototype.initElementRefListeners=function(){var e=this;this.mcTrigger===g?this.manualListeners.set("click",(function(){return e.show()})).forEach((function(t,o){e.elementRef.nativeElement.addEventListener(o,t)})):this.mcTrigger===f?this.manualListeners.set("mouseenter",(function(){return e.show()})).set("mouseleave",(function(){return e.hide()})).forEach((function(t,o){e.elementRef.nativeElement.addEventListener(o,t)})):this.mcTrigger===y&&this.manualListeners.set("focus",(function(){return e.show()})).set("blur",(function(){return e.hide()})).forEach((function(t,o){e.elementRef.nativeElement.addEventListener(o,t)}))},e.prototype.registerResizeHandler=function(){var e=this;this.ngZone.runOutsideAngular((function(){window.addEventListener("resize",e.resizeListener)}))},e.prototype.deregisterResizeHandler=function(){window.removeEventListener("resize",this.resizeListener)},e.prototype.resetListeners=function(){var e=this;this.manualListeners.size&&(this.manualListeners.forEach((function(t,o){e.elementRef.nativeElement.removeEventListener(o,t)})),this.manualListeners.clear(),this.initElementRefListeners())},e.prototype.show=function(){var e=this;if(!this.disabled){if(!this.popover){this.detach();var t=this.createOverlay();this.portal=this.portal||new a.ComponentPortal(P,this.hostView),this.popover=t.attach(this.portal).instance,this.popover.afterHidden().pipe(m.takeUntil(this.destroyed)).subscribe((function(){return e.detach()})),this.isDynamicPopover=!0;["mcPlacement","mcPopoverSize","mcTrigger","mcMouseEnterDelay","mcMouseLeaveDelay","classList","mcVisible","mcHeader","mcContent","mcFooter"].forEach((function(t){return e.updateCompValue(t,e[t])})),this.popover.mcVisibleChange.pipe(m.takeUntil(this.$unsubscribe),m.distinctUntilChanged()).subscribe((function(t){e.mcVisible=t,e.mcVisibleChange.emit(t),e.isPopoverOpen=t}))}this.popover.show()}},e.prototype.hide=function(){this.popover&&this.popover.hide()},e.prototype.updatePosition=function(e){void 0===e&&(e=!1),this.overlayRef||(this.overlayRef=this.createOverlay());var t=this.overlayRef.getConfig().positionStrategy;t.withPositions(this.getPrioritizedPositions()).withPush(!0),e&&setTimeout((function(){return t.reapplyLastPosition()}))},e.prototype.closingActions=function(){var e=this.overlayRef.backdropClick(),t=this.overlayRef.outsidePointerEvents(),o=this.overlayRef.detachments();return l.merge(e,t,o)},e.prototype.getPriorityPlacementStrategy=function(e){var t=this,o=[],r=Object.keys(this.availablePositions);return Array.isArray(e)?e.forEach((function(e){r.includes(e)&&o.push(t.availablePositions[e])})):r.includes(e)&&o.push(this.availablePositions[e]),o},e.prototype.getPrioritizedPositions=function(){return this.mcPlacementPriority?this.getPriorityPlacementStrategy(this.mcPlacementPriority):c.POSITION_PRIORITY_STRATEGY[this.mcPlacement]},e}();O.decorators=[{type:i.Directive,args:[{selector:"[mcPopover]",exportAs:"mcPopover",host:{"(keydown)":"handleKeydown($event)","(touchend)":"handleTouchend()","[class.mc-popover_open]":"isOpen"}}]}],O.ctorParameters=function(){return[{type:o.Overlay},{type:i.ElementRef},{type:i.NgZone},{type:o.ScrollDispatcher},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[_]}]},{type:n.Directionality,decorators:[{type:i.Optional}]}]},O.propDecorators={backdropClass:[{type:i.Input}],mcVisibleChange:[{type:i.Output,args:["mcPopoverVisibleChange"]}],mcPositionStrategyPlacementChange:[{type:i.Output,args:["mcPopoverPositionStrategyPlacementChange"]}],hasBackdrop:[{type:i.Input}],mcHeader:[{type:i.Input,args:["mcPopoverHeader"]}],mcContent:[{type:i.Input,args:["mcPopoverContent"]}],mcFooter:[{type:i.Input,args:["mcPopoverFooter"]}],disabled:[{type:i.Input,args:["mcPopoverDisabled"]}],mcMouseEnterDelay:[{type:i.Input,args:["mcPopoverMouseEnterDelay"]}],mcMouseLeaveDelay:[{type:i.Input,args:["mcPopoverMouseLeaveDelay"]}],mcTrigger:[{type:i.Input,args:["mcPopoverTrigger"]}],mcPopoverSize:[{type:i.Input,args:["mcPopoverSize"]}],mcPlacementPriority:[{type:i.Input,args:["mcPopoverPlacementPriority"]}],mcPlacement:[{type:i.Input,args:["mcPopoverPlacement"]}],classList:[{type:i.Input,args:["mcPopoverClass"]}],mcVisible:[{type:i.Input,args:["mcPopoverVisible"]}]};var x=function(){};x.decorators=[{type:i.NgModule,args:[{declarations:[P,O],exports:[t.A11yModule,P,O],imports:[r.CommonModule,o.OverlayModule],providers:[C],entryComponents:[P]}]}],e.MC_POPOVER_SCROLL_STRATEGY=_,e.MC_POPOVER_SCROLL_STRATEGY_FACTORY_PROVIDER=C,e.McPopover=O,e.McPopoverComponent=P,e.McPopoverModule=x,e.PopoverVisibility=b,e.getMcPopoverInvalidPositionError=function(e){return Error('McPopover position "'+e+'" is invalid.')},e.mcPopoverAnimations=d,e.mcPopoverScrollStrategyFactory=w,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-mosaic-popover.umd.min.js.map