{"version":3,"sources":["ng://@ptsecurity/mosaic/card/card.component.ts","ng://@ptsecurity/mosaic/card/card.module.ts"],"names":["McCard","_elementRef","_focusMonitor","this","readonly","selected","selectedChange","EventEmitter","_tabIndex","monitor","nativeElement","Object","defineProperty","prototype","value","ngOnDestroy","stopMonitoring","focus","hostElement","onClick","$event","stopPropagation","emit","onKeyDown","keyCode","SPACE","preventDefault","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","inputs","host","class","[class.mc-card_readonly]","[class.mc-card_selected]","(keydown)","(click)","ElementRef","FocusMonitor","HostBinding","type","Input","Output","McCardModule","NgModule","imports","CommonModule","A11yModule","PlatformModule","exports","declarations"],"mappings":"4pBAiDI,SAAAA,EAAoBC,EAAiCC,GAAjCC,KAAAF,YAAAA,EAAiCE,KAAAD,cAAAA,EAVrDC,KAAAC,UAAW,EAGXD,KAAAE,UAAW,EAGXF,KAAAG,eAAiB,IAAIC,EAAAA,aAEbJ,KAAAK,UAA2B,EAG/BL,KAAKD,cAAcO,QAAQN,KAAKF,YAAYS,eAAe,GAmCnE,OAzDIC,OAAAC,eAAIZ,EAAAa,UAAA,WAAQ,KAAZ,WACI,OAAOV,KAAKC,SAAW,KAAOD,KAAKK,eAGvC,SAEaM,GACTX,KAAKK,UAAYM,mCAkBrBd,EAAAa,UAAAE,YAAA,WACIZ,KAAKD,cAAcc,eAAeb,KAAKF,YAAYS,gBAGvDV,EAAAa,UAAAI,MAAA,WACId,KAAKe,YAAYD,SAGrBjB,EAAAa,UAAAM,QAAA,SAAQC,GACCjB,KAAKC,WACNgB,EAAOC,kBAEPlB,KAAKG,eAAegB,MAAMnB,KAAKE,YAIvCM,OAAAC,eAAYZ,EAAAa,UAAA,cAAW,KAAvB,WACI,OAAOV,KAAKF,YAAYS,+CAG5BV,EAAAa,UAAAU,UAAA,SAAUH,GAEN,OAAQA,EAAOI,SACX,KAAKC,EAAAA,MACItB,KAAKC,WACNgB,EAAOM,iBACPvB,KAAKG,eAAegB,MAAMnB,KAAKE,iCAnElDsB,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,UACVC,SAAA,oEAEAC,gBAAiBC,EAAAA,wBAAwBC,OACzCC,cAAeC,EAAAA,kBAAkBC,KACjCC,OAAQ,CAAC,SACTC,KAAM,CACFC,MAAO,UACPC,2BAA4B,WAC5BC,2BAA4B,WAC5BC,YAAa,oBACbC,UAAW,8XAnBfC,EAAAA,kBALKC,EAAAA,kDAgCJC,EAAAA,YAAWlB,KAAA,CAAC,kBAAe,CAAAmB,KAC3BC,EAAAA,wBAKAA,EAAAA,wBAGAA,EAAAA,8BAGAC,EAAAA,UAyCLjD,sBC3EA,SAAAkD,KAS2B,2BAT1BC,EAAAA,SAAQvB,KAAA,CAAC,CACNwB,QAAS,CACLC,EAAAA,aACAC,EAAAA,WACAC,EAAAA,gBAEJC,QAAS,CAACxD,GACVyD,aAAc,CAACzD,OAEQkD","sourcesContent":["import { FocusMonitor } from '@angular/cdk/a11y';\nimport {\n    Output,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef, Input,\n    OnDestroy, EventEmitter,\n    ViewEncapsulation, HostBinding\n} from '@angular/core';\nimport { SPACE } from '@ptsecurity/cdk/keycodes';\n\n\n@Component({\n    selector: 'mc-card',\n    templateUrl: './card.component.html',\n    styleUrls: ['./card.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    inputs: ['color'],\n    host: {\n        class: 'mc-card',\n        '[class.mc-card_readonly]': 'readonly',\n        '[class.mc-card_selected]': 'selected',\n        '(keydown)': 'onKeyDown($event)',\n        '(click)': 'onClick($event)'\n    }\n})\nexport class McCard implements OnDestroy {\n    get tabIndex(): number | null {\n        return this.readonly ? null : this._tabIndex;\n    }\n\n    @HostBinding('attr.tabIndex')\n    @Input()\n    set tabIndex(value: number | null) {\n        this._tabIndex = value;\n    }\n\n    @Input()\n    readonly = false;\n\n    @Input()\n    selected = false;\n\n    @Output()\n    selectedChange = new EventEmitter<boolean>();\n\n    private _tabIndex: number | null = 0;\n\n    constructor(private _elementRef: ElementRef, private _focusMonitor: FocusMonitor) {\n        this._focusMonitor.monitor(this._elementRef.nativeElement, false);\n    }\n\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.hostElement.focus();\n    }\n\n    onClick($event: MouseEvent) {\n        if (!this.readonly) {\n            $event.stopPropagation();\n\n            this.selectedChange.emit(!this.selected);\n        }\n    }\n\n    private get hostElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    onKeyDown($event: KeyboardEvent) {\n        // tslint:disable-next-line:deprecation\n        switch ($event.keyCode) {\n            case SPACE:\n                if (!this.readonly) {\n                    $event.preventDefault();\n                    this.selectedChange.emit(!this.selected);\n                }\n                break;\n            default:\n        }\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport {\n    McCard\n} from './card.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        PlatformModule\n    ],\n    exports: [McCard],\n    declarations: [McCard]\n})\nexport class McCardModule {}\n"]}