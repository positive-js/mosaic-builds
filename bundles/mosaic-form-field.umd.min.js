/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ptsecurity/cdk/keycodes"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@ptsecurity/mosaic/icon")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/formField",["exports","@angular/core","@ptsecurity/cdk/keycodes","rxjs","rxjs/operators","@angular/common","@ptsecurity/mosaic/icon"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.formField={}),e.ng.core,e.ng.cdk.keycodes,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.mosaic.icon)}(this,function(e,t,o,n,r,i,c){"use strict";function l(e,t){function o(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function s(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(){return Error("mc-form-field must contain a McFormFieldControl.")}var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},u=function(){function e(){}return e=s([t.Component({selector:"mc-cleaner",template:'<i mc-icon="mc-close-M_16" class="mc-cleaner__icon"></i>'})],e)}(),p=function(){function e(){}return e}(),m=0,h=function(){function e(){this.id="mc-hint-"+m++}return s([t.Input(),a("design:type",String)],e.prototype,"id",void 0),e=s([t.Directive({selector:"mc-hint",host:{class:"mc-hint","[attr.id]":"id"}})],e)}(),_=function(){function e(){}return e=s([t.Directive({selector:"[mcPrefix]"})],e)}(),g=function(){function e(){}return e=s([t.Directive({selector:"[mcSuffix]"})],e)}(),y=function(){function e(e){this._elementRef=e}return e}(),C=function(e){function i(t,o){var n=e.call(this,t)||this;return n._elementRef=t,n._changeDetectorRef=o,n}return l(i,e),i.prototype.ngAfterContentInit=function(){var e=this;this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add("mc-form-field-type-"+this._control.controlType),this._control.stateChanges.pipe(r.startWith()).subscribe(function(){e._changeDetectorRef.markForCheck()});var t=this._control.ngControl&&this._control.ngControl.valueChanges||n.EMPTY;n.merge(t).subscribe(function(){return e._changeDetectorRef.markForCheck()})},i.prototype.ngAfterContentChecked=function(){this._validateControlChild()},i.prototype.ngAfterViewInit=function(){this._changeDetectorRef.detectChanges()},i.prototype.clearValue=function(e){e.stopPropagation(),this._control&&this._control.ngControl&&this._control.ngControl.reset()},i.prototype.onContainerClick=function(e){return this._control.onContainerClick&&this._control.onContainerClick(e)},i.prototype.onKeyDown=function(e){e.keyCode===o.ESCAPE&&this._control.focused&&this.hasCleaner&&(this._control&&this._control.ngControl&&this._control.ngControl.reset(),e.preventDefault())},i.prototype._shouldForward=function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]},i.prototype._validateControlChild=function(){if(!this._control)throw f()},Object.defineProperty(i.prototype,"hasHint",{get:function(){return this._hint&&this._hint.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hasSuffix",{get:function(){return this._suffix&&this._suffix.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hasPrefix",{get:function(){return this._prefix&&this._prefix.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hasCleaner",{get:function(){return this._cleaner&&this._cleaner.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"canShowCleaner",{get:function(){return!!(this.hasCleaner&&this._control&&this._control.ngControl)&&(this._control.ngControl.value&&!this._control.disabled)},enumerable:!0,configurable:!0}),s([t.ContentChild(p),a("design:type",p)],i.prototype,"_control",void 0),s([t.ContentChildren(h),a("design:type",t.QueryList)],i.prototype,"_hint",void 0),s([t.ContentChildren(g),a("design:type",t.QueryList)],i.prototype,"_suffix",void 0),s([t.ContentChildren(_),a("design:type",t.QueryList)],i.prototype,"_prefix",void 0),s([t.ContentChildren(u),a("design:type",t.QueryList)],i.prototype,"_cleaner",void 0),i=s([t.Component({selector:"mc-form-field",exportAs:"mcFormField",template:'<div class="mc-form-field__wrapper"><div class="mc-form-field__container" (click)="onContainerClick($event)"><div class="mc-form-field__prefix" *ngIf="hasPrefix"><ng-content select="[mcPrefix]"></ng-content></div><div class="mc-form-field__infix"><ng-content></ng-content></div><div class="mc-form-field__suffix" *ngIf="hasSuffix"><ng-content select="[mcSuffix]"></ng-content></div><div class="mc-form-field__cleaner" *ngIf="canShowCleaner && !hasSuffix" (click)="clearValue($event)"><ng-content select="mc-cleaner"></ng-content></div></div><div class="mc-form-field__hint" *ngIf="hasHint"><ng-content select="mc-hint"></ng-content></div></div>',styles:[".mc-form-field{display:inline-block;position:relative}.mc-form-field__hint{margin-top:4px}.mc-form-field__container{position:relative;border-width:1px;border-style:solid;border-color:initial;border-radius:3px}.mc-form-field_without-borders .mc-form-field__container{border-color:transparent}.mc-form-field__prefix,.mc-form-field__suffix{position:absolute;top:0;bottom:0;width:32px;display:flex;flex-direction:row;justify-content:center;align-items:center}.mc-form-field__prefix{left:0}.mc-form-field__suffix{right:0}.mc-form-field_has-cleaner .mc-input,.mc-form-field_has-suffix .mc-input{padding-right:32px}.mc-form-field_has-prefix .mc-input{padding-left:32px}mc-cleaner{position:absolute;top:0;bottom:0;right:0;width:32px;cursor:pointer;display:flex;flex-direction:row;justify-content:center;align-items:center} .mc-input{background:0 0;padding:0;margin:0;border:none;outline:0;box-sizing:border-box;padding:5px 16px;width:100%}.mc-input::-ms-clear{display:none;width:0;height:0}.mc-input::-ms-reveal{display:none;width:0;height:0}.mc-input::-webkit-search-cancel-button,.mc-input::-webkit-search-decoration,.mc-input::-webkit-search-results-button,.mc-input::-webkit-search-results-decoration{display:none}.mc-input{display:inline-block}"],host:{class:"mc-form-field","[class.mc-form-field_invalid]":"_control.errorState","[class.mc-form-field_disabled]":"_control.disabled","[class.mc-form-field_has-prefix]":"hasPrefix","[class.mc-form-field_has-suffix]":"hasSuffix","[class.mc-form-field_has-cleaner]":"canShowCleaner","[class.mc-focused]":"_control.focused","[class.ng-untouched]":'_shouldForward("untouched")',"[class.ng-touched]":'_shouldForward("touched")',"[class.ng-pristine]":'_shouldForward("pristine")',"[class.ng-dirty]":'_shouldForward("dirty")',"[class.ng-valid]":'_shouldForward("valid")',"[class.ng-invalid]":'_shouldForward("invalid")',"[class.ng-pending]":'_shouldForward("pending")',"(keydown)":"onKeyDown($event)"},encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}),a("design:paramtypes",[t.ElementRef,t.ChangeDetectorRef])],i)}(y),x=function(){function e(){}return e=s([t.Directive({selector:"mc-form-field[mcFormFieldWithoutBorders]",exportAs:"mcFormFieldWithoutBorders",host:{class:"mc-form-field_without-borders"}})],e)}(),b=function(){function e(){}return e=s([t.NgModule({declarations:[C,x,h,_,g,u],imports:[i.CommonModule,c.McIconModule],exports:[C,x,h,_,g,u]})],e)}();e.McFormFieldModule=b,e.McFormFieldBase=y,e.McFormField=C,e.McFormFieldWithoutBorders=x,e.McFormFieldControl=p,e.getMcFormFieldMissingControlError=f,e.McHint=h,e.McSuffix=g,e.McPrefix=_,e.McCleaner=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-form-field.umd.min.js.map
