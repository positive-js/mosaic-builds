/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ptsecurity/cdk/a11y"),require("@ptsecurity/mosaic/core"),require("@angular/common"),require("@ptsecurity/cdk/platform")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/navbar",["exports","@angular/core","@ptsecurity/cdk/a11y","@ptsecurity/mosaic/core","@angular/common","@ptsecurity/cdk/platform"],t):t((e.ng=e.ng||{},e.ng.mosaic=e.ng.mosaic||{},e.ng.mosaic.navbar={}),e.ng.core,e.ng.cdk.a11y,e.ng.mosaic.core,e.ng.common,e.ng.cdk.platform)}(this,function(e,t,n,r,a,i){"use strict";function o(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s="mc-navbar-container",l="mc-navbar-item",m="mc-navbar-brand",p="mc-navbar-title",u=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:"mc-navbar-logo",host:{class:"mc-navbar-logo"}}]}],e}(),d=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:m,host:{class:m}}]}],e}(),f=function(){function e(){}return e.decorators=[{type:t.Directive,args:[{selector:p,host:{class:p}}]}],e}(),v=function(){function e(e){this._elementRef=e}return e}(),b=r.mixinDisabled(v),g=function(e){function r(t,n){var r=e.call(this,t)||this;return r.elementRef=t,r._focusMonitor=n,r.tabIndex=0,r}return o(r,e),Object.defineProperty(r.prototype,"collapsedTitle",{set:function(e){this.elementRef.nativeElement.setAttribute("calculatedTitle",encodeURI(e))},enumerable:!0,configurable:!0}),r.prototype.ngOnInit=function(){this._denyClickIfDisabled(),this._focusMonitor.monitor(this.elementRef.nativeElement,!0)},r.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this.elementRef.nativeElement)},r.prototype._denyClickIfDisabled=function(){for(var e=this,t=this.elementRef.nativeElement.eventListeners("click"),n=0,r=t;n<r.length;n++){var a=r[n];this.elementRef.nativeElement.removeEventListener("click",a)}this.elementRef.nativeElement.addEventListener("click",function(t){e.elementRef.nativeElement.hasAttribute("disabled")&&t.stopImmediatePropagation()},!0);for(var i=0,o=t;i<o.length;i++){var c=o[i];this.elementRef.nativeElement.addEventListener("click",c)}},r.decorators=[{type:t.Component,args:[{selector:l,template:'\n        <a [attr.tabindex]="disabled ? -1 : tabIndex" class="mc-navbar-item">\n            <ng-content>\n            </ng-content>\n        </a>\n    ',encapsulation:t.ViewEncapsulation.None,inputs:["disabled"],host:{"[attr.disabled]":"disabled || null"}}]}],r.ctorParameters=function(){return[{type:t.ElementRef},{type:n.FocusMonitor}]},r.propDecorators={tabIndex:[{type:t.Input}],collapsedTitle:[{type:t.Input}]},r}(b),h=function(){function e(){this.position="left"}return Object.defineProperty(e.prototype,"getCssClasses",{get:function(){return"left"===this.position?"mc-navbar-left":"mc-navbar-right"},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:s}]}],e.propDecorators={position:[{type:t.Input}],getCssClasses:[{type:t.HostBinding,args:["class"]}]},e}(),y=function(){function e(e){this._elementRef=e,this.collapsedClass="mc-navbar-collapsed-title",this.firstLevelElement=s,this.secondLevelElements=[l,m,p]}return e.prototype.collapse=function(){var e=this,t=this._elementRef.nativeElement.querySelector("nav").getBoundingClientRect().width;this._uncollapseAll();var n=this.secondLevelElements.map(function(t){return e.firstLevelElement+">"+t}),r=Array.from(this._elementRef.nativeElement.querySelectorAll(n)),a=r.reduce(function(e,t){return e+t.getBoundingClientRect().width},0);if(!(a<=t))for(var i=a-t,o=this._elementRef.nativeElement.querySelectorAll(l+","+m),c=o.length-1;c>=0;c--){var s=o[c],u=s.querySelector("[mc-icon],mc-navbar-logo,[mc-navbar-logo]");if(u){var d=Array.from(s.querySelectorAll(p)),f=s.getAttribute("calculatedTitle"),v=f?decodeURI(f):d.length>0?d[0].innerText:"";s.setAttribute("title",v);for(var b=0,g=d;b<g.length;b++){var h=g[b];i-=h.getBoundingClientRect().width,h.classList.add(this.collapsedClass)}if(i<0)return}}},e.prototype.ngAfterViewInit=function(){this.collapse()},e.prototype._uncollapseAll=function(){for(var e=Array.from(this._elementRef.nativeElement.querySelectorAll(p+"."+this.collapsedClass)),t=0,n=e;t<n.length;t++){n[t].classList.remove(this.collapsedClass)}},e.decorators=[{type:t.Component,args:[{selector:"mc-navbar",template:'\n        <nav class="mc-navbar">\n            <ng-content select="['+s+"],"+s+'"></ng-content>\n        </nav>\n    ',styles:[".mc-navbar-left,.mc-navbar-right,mc-navbar-container{height:100%;display:flex;flex-shrink:0;flex-direction:row;justify-content:space-between;align-items:center}.mc-navbar{min-width:1280px;position:relative;height:48px;padding:0 0;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.mc-navbar [mc-icon]+mc-navbar-title{margin-left:8px}.mc-navbar mc-navbar-title:not(.mc-navbar-collapsed-title)+[mc-icon]{margin-left:8px}.mc-navbar-brand,.mc-navbar-item,.mc-navbar-title,mc-navbar-brand,mc-navbar-item,mc-navbar-item:first-child{height:100%;position:relative;display:flex;align-items:center;padding-left:16px;padding-right:16px}.mc-navbar-brand,mc-navbar-brand{padding-left:12px;padding-right:12px}.mc-navbar-title{white-space:nowrap}@keyframes mc-progress{from{background-position:0 0}to{background-position:29px 0}}.mc-progress{position:relative}.mc-progress:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(135deg,rgba(0,0,0,.05) 10px,transparent 10px,transparent 20px,rgba(0,0,0,.05) 20px,rgba(0,0,0,.05) 30px,transparent 30px) repeat;background-size:29px 29px;animation:mc-progress 1s linear infinite}.mc-navbar-item:not([disabled]){cursor:pointer}.mc-navbar-item .mc-navbar-title,mc-navbar-brand,mc-navbar-item,mc-navbar-item:first-child{padding:0}mc-navbar-item.mc-progress:not([disabled]){cursor:pointer}.mc-navbar-item[disabled],mc-navbar-item[disabled] .mc-navbar-item{cursor:default}mc-navbar-title.mc-navbar-collapsed-title{display:none}"],encapsulation:t.ViewEncapsulation.None,host:{"(window:resize)":"collapse()"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}(),x=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[a.CommonModule,n.A11yModule,i.PlatformModule],exports:[y,h,f,g,d,u],declarations:[y,h,f,g,d,u]}]}],e}();e.McNavbarModule=x,e.McNavbarLogo=u,e.McNavbarBrand=d,e.McNavbarTitle=f,e.McNavbarItemBase=v,e._McNavbarMixinBase=b,e.McNavbarItem=g,e.McNavbarContainer=h,e.McNavbar=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-navbar.umd.min.js.map
