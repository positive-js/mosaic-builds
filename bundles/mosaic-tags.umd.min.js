/**
 * @license
 * Positive Technologies All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/coercion"),require("@ptsecurity/cdk/keycodes"),require("@ptsecurity/mosaic/core"),require("@ptsecurity/mosaic/icon"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/bidi"),require("@angular/cdk/collections"),require("@angular/forms"),require("@ptsecurity/cdk/a11y"),require("@ptsecurity/mosaic/form-field"),require("@angular/cdk/platform"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ptsecurity/mosaic/tags",["exports","@angular/core","@angular/cdk/coercion","@ptsecurity/cdk/keycodes","@ptsecurity/mosaic/core","@ptsecurity/mosaic/icon","rxjs","rxjs/operators","@angular/cdk/bidi","@angular/cdk/collections","@angular/forms","@ptsecurity/cdk/a11y","@ptsecurity/mosaic/form-field","@angular/cdk/platform","@angular/common"],e):e((t.ng=t.ng||{},t.ng.mosaic=t.ng.mosaic||{},t.ng.mosaic.tags={}),t.ng.core,t.ng.cdk.coercion,t.ng.cdk.keycodes,t.ng.mosaic.core,t.ng.mosaic.icon,t.rxjs,t.rxjs.operators,t.ng.cdk.bidi,t.ng.cdk.collections,t.ng.forms,t.ng.cdk.a11y,t.ng.mosaic.formField,t.ng.cdk.platform,t.ng.common)}(this,function(t,e,n,i,o,s,r,a,c,l,u,p,h,d,g){"use strict";function f(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},y=new e.InjectionToken("mc-tags-default-options"),b=function(){function t(t,e,n){void 0===n&&(n=!1),this.source=t,this.selected=e,this.isUserInput=n}return t}(),v=["mc-basic-tag"],C=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"mc-tag-avatar, [mcTagAvatar]",host:{class:"mc-tag-avatar"}}]}],t}(),_=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"mc-tag-trailing-icon, [mcTagTrailingIcon]",host:{class:"mc-tag-trailing-icon"}}]}],t}(),x=function(){function t(t){this._elementRef=t}return t}(),I=o.mixinColor(o.mixinDisabled(x)),S=function(t){function o(n,i,o){var s=t.call(this,n)||this;return s.elementRef=n,s.changeDetectorRef=i,s._ngZone=o,s.onFocus=new r.Subject,s.onBlur=new r.Subject,s.hasFocus=!1,s.tagListSelectable=!0,s.selectionChange=new e.EventEmitter,s.destroyed=new e.EventEmitter,s.removed=new e.EventEmitter,s._selected=!1,s._selectable=!0,s._removable=!0,s._disabled=!1,s.addHostClassName(),s.nativeElement=n.nativeElement,s}return f(o,t),Object.defineProperty(o.prototype,"selected",{get:function(){return this._selected},set:function(t){var e=n.coerceBooleanProperty(t);e!==this._selected&&(this._selected=e,this.dispatchSelectionChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return void 0!==this._value?this._value:this.elementRef.nativeElement.textContent},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectable",{get:function(){return this._selectable&&this.tagListSelectable},set:function(t){this._selectable=n.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"removable",{get:function(){return this._removable},set:function(t){this._removable=n.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tabindex",{get:function(){return this.selectable?this.disabled?null:-1:null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t!==this.disabled&&(this._disabled=t)},enumerable:!0,configurable:!0}),o.prototype.ngAfterContentInit=function(){this.addClassModificatorForIcons()},o.prototype.addClassModificatorForIcons=function(){var t=this.contentChildren.map(function(t){return t._elementRef.nativeElement});if(1===t.length){var e=t[0];e.previousElementSibling||e.nextElementSibling||(e.nextSibling&&(e.classList.add("mc-icon_left"),this.nativeElement.classList.add("mc-left-icon")),e.previousSibling&&(e.classList.add("mc-icon_right"),this.nativeElement.classList.add("mc-right-icon")))}else if(t.length>1){var n=t[0],i=t[1];n.classList.add("mc-icon_left"),i.classList.add("mc-icon_right")}},o.prototype.addHostClassName=function(){for(var t=0,e=v;t<e.length;t++){var n=e[t];if(this.elementRef.nativeElement.hasAttribute(n)||this.elementRef.nativeElement.tagName.toLowerCase()===n)return void this.elementRef.nativeElement.classList.add(n)}this.elementRef.nativeElement.classList.add("mc-standard-tag")},o.prototype.ngOnDestroy=function(){this.destroyed.emit({tag:this})},o.prototype.select=function(){this._selected||(this._selected=!0,this.dispatchSelectionChange())},o.prototype.deselect=function(){this._selected&&(this._selected=!1,this.dispatchSelectionChange())},o.prototype.selectViaInteraction=function(){this._selected||(this._selected=!0,this.dispatchSelectionChange(!0))},o.prototype.toggleSelected=function(t){return void 0===t&&(t=!1),this._selected=!this.selected,this.dispatchSelectionChange(t),this.selected},o.prototype.focus=function(){var t=this;this.selectable&&(this.hasFocus||(this.elementRef.nativeElement.focus(),this.onFocus.next({tag:this}),Promise.resolve().then(function(){t.hasFocus=!0,t.changeDetectorRef.markForCheck()})))},o.prototype.remove=function(){this.removable&&this.removed.emit({tag:this})},o.prototype.handleClick=function(t){this.disabled?t.preventDefault():t.stopPropagation()},o.prototype.handleKeydown=function(t){if(!this.disabled)switch(t.keyCode){case i.DELETE:case i.BACKSPACE:this.remove(),t.preventDefault();break;case i.SPACE:this.selectable&&this.toggleSelected(!0),t.preventDefault()}},o.prototype.blur=function(){var t=this;this._ngZone.onStable.asObservable().pipe(a.take(1)).subscribe(function(){t._ngZone.run(function(){t.hasFocus=!1,t.onBlur.next({tag:t})})})},o.prototype.dispatchSelectionChange=function(t){void 0===t&&(t=!1),this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})},o.decorators=[{type:e.Component,args:[{selector:"mc-tag, [mc-tag], mc-basic-tag, [mc-basic-tag]",exportAs:"mcTag",template:'<div class="mc-tag__wrapper"><span class="mc-tag__text"><ng-content></ng-content></span><ng-content select="[mc-icon]"></ng-content><div class="mc-tag-overlay"></div></div>',styles:[".mc-tag{position:relative;display:inline-block;overflow:hidden;margin:2px;height:22px;border-width:1px;border-style:solid;border-radius:4px;cursor:default;outline:0}.mc-tag.mc-left-icon{padding-left:3px}.mc-tag.mc-right-icon{padding-right:3px}.mc-tag__wrapper{display:flex;align-items:center;height:100%;flex:1 1 100%}.mc-tag__wrapper .mc-icon{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:22px;height:22px}.mc-tag__wrapper .mc-icon_left{margin-right:3px}.mc-tag__wrapper .mc-icon_right{margin-left:3px}.mc-tag-overlay{position:absolute;top:-1px;left:-1px;right:-1px;bottom:-1px;pointer-events:none;border-radius:inherit}.mc-tag__text{margin-left:7px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"],inputs:["color","disabled"],host:{class:"mc-tag","[attr.tabindex]":"tabindex","[attr.disabled]":"disabled || null","[class.mc-selected]":"selected","[class.mc-focused]":"hasFocus","[class.mc-tag-with-avatar]":"avatar","[class.mc-tag-with-trailing-icon]":"trailingIcon || removeIcon","[class.mc-tag-disabled]":"disabled","[class.mc-disabled]":"disabled","(click)":"handleClick($event)","(keydown)":"handleKeydown($event)","(focus)":"focus()","(blur)":"blur()"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],o.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.NgZone}]},o.propDecorators={contentChildren:[{type:e.ContentChildren,args:[s.McIcon]}],avatar:[{type:e.ContentChild,args:[C,{static:!1}]}],trailingIcon:[{type:e.ContentChild,args:[_,{static:!1}]}],removeIcon:[{type:e.ContentChild,args:[e.forwardRef(function(){return T}),{static:!1}]}],selectionChange:[{type:e.Output}],destroyed:[{type:e.Output}],removed:[{type:e.Output}],selected:[{type:e.Input}],value:[{type:e.Input}],selectable:[{type:e.Input}],removable:[{type:e.Input}]},o}(I),T=function(){function t(t){this.parentTag=t}return t.prototype.handleClick=function(t){this.parentTag.removable&&this.parentTag.remove(),t.stopPropagation()},t.decorators=[{type:e.Directive,args:[{selector:"[mcTagRemove]",host:{class:"mc-tag-remove mc-tag-trailing-icon","(click)":"handleClick($event)"}}]}],t.ctorParameters=function(){return[{type:S}]},t}(),E=function(){function t(t,e,n,i){this.defaultErrorStateMatcher=t,this.parentForm=e,this.parentFormGroup=n,this.ngControl=i}return t}(),k=o.mixinErrorState(E),O=0,w=function(){function t(t,e){this.source=t,this.value=e}return t}(),M=function(t){function s(n,i,o,s,a,c,l){var u=t.call(this,o,a,c,l)||this;return u.elementRef=n,u.changeDetectorRef=i,u.dir=s,u.ngControl=l,u.controlType="mc-tag-list",u.valueChange=new e.EventEmitter,u.uid="mc-tag-list-"+O++,u.userTabIndex=null,u.tagChanges=new e.EventEmitter,u.orientation="horizontal",u.change=new e.EventEmitter,u._tabIndex=0,u._required=!1,u._disabled=!1,u._selectable=!0,u._multiple=!1,u.lastDestroyedTagIndex=null,u.destroyed=new r.Subject,u.onTouched=function(){},u.onChange=function(){},u._compareWith=function(t,e){return t===e},u.ngControl&&(u.ngControl.valueAccessor=u),u}return f(s,t),Object.defineProperty(s.prototype,"tagSelectionChanges",{get:function(){return r.merge.apply(void 0,this.tags.map(function(t){return t.selectionChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tagFocusChanges",{get:function(){return r.merge.apply(void 0,this.tags.map(function(t){return t.onFocus}))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tagBlurChanges",{get:function(){return r.merge.apply(void 0,this.tags.map(function(t){return t.onBlur}))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tagRemoveChanges",{get:function(){return r.merge.apply(void 0,this.tags.map(function(t){return t.destroyed}))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selected",{get:function(){return this.multiple?this.selectionModel.selected:this.selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"multiple",{get:function(){return this._multiple},set:function(t){this._multiple=n.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compareWith",{get:function(){return this._compareWith},set:function(t){this._compareWith=t,this.selectionModel&&this.initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this.tagInput?this.tagInput.id:this.uid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.coerceBooleanProperty(t),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"placeholder",{get:function(){return this.tagInput?this.tagInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focused",{get:function(){return this.tagInput&&this.tagInput.focused||this.hasFocusedTag()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return(!this.tagInput||this.tagInput.empty)&&0===this.tags.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"shouldLabelFloat",{get:function(){return!this.empty||this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disabled",{get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=n.coerceBooleanProperty(t),this.syncTagsDisabledState()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectable",{get:function(){return this._selectable},set:function(t){var e=this;this._selectable=n.coerceBooleanProperty(t),this.tags&&this.tags.forEach(function(t){return t.tagListSelectable=e._selectable})},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tabIndex",{set:function(t){this.userTabIndex=t,this._tabIndex=t},enumerable:!0,configurable:!0}),s.prototype.ngAfterContentInit=function(){var t=this;this.keyManager=new p.FocusKeyManager(this.tags).withVerticalOrientation().withHorizontalOrientation(this.dir?this.dir.value:"ltr"),this.dir&&this.dir.change.pipe(a.takeUntil(this.destroyed)).subscribe(function(e){return t.keyManager.withHorizontalOrientation(e)}),this.keyManager.tabOut.pipe(a.takeUntil(this.destroyed)).subscribe(function(){t._tabIndex=-1,setTimeout(function(){t._tabIndex=t.userTabIndex||0,t.changeDetectorRef.markForCheck()})}),this.tags.changes.pipe(a.startWith(null),a.takeUntil(this.destroyed)).subscribe(function(){t.disabled&&Promise.resolve().then(function(){t.syncTagsDisabledState()}),t.resetTags(),t.initializeSelection(),t.updateTabIndex(),t.updateFocusForDestroyedTags(),Promise.resolve().then(function(){t.tagChanges.emit(t.tags.toArray())}),t.stateChanges.next()})},s.prototype.ngOnInit=function(){this.selectionModel=new l.SelectionModel(this.multiple,void 0,!1),this.stateChanges.next()},s.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},s.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete(),this.stateChanges.complete(),this.dropSubscriptions()},s.prototype.registerInput=function(t){this.tagInput=t},s.prototype.writeValue=function(t){this.tags&&this.setSelectionByValue(t,!1)},s.prototype.registerOnChange=function(t){this.onChange=t},s.prototype.registerOnTouched=function(t){this.onTouched=t},s.prototype.setDisabledState=function(t){this.disabled=t,this.stateChanges.next()},s.prototype.onContainerClick=function(t){this.originatesFromTag(t)||this.focus()},s.prototype.focus=function(){this.disabled||this.tagInput&&this.tagInput.focused||(this.tags.length>0?(this.keyManager.setFirstItemActive(),this.stateChanges.next()):(this.focusInput(),this.stateChanges.next()))},s.prototype.focusInput=function(){this.tagInput&&this.tagInput.focus()},s.prototype.keydown=function(t){var e=t.target;t.keyCode===i.BACKSPACE&&this.isInputEmpty(e)?(this.keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mc-tag")&&(t.keyCode===i.HOME?(this.keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===i.END?(this.keyManager.setLastItemActive(),t.preventDefault()):this.keyManager.onKeydown(t),this.stateChanges.next())},s.prototype.setSelectionByValue=function(t,e){var n=this;if(void 0===e&&(e=!0),this.clearSelection(),this.tags.forEach(function(t){return t.deselect()}),Array.isArray(t))t.forEach(function(t){return n.selectValue(t,e)}),this.sortValues();else{var i=this.selectValue(t,e);i&&e&&this.keyManager.setActiveItem(i)}},s.prototype.blur=function(){var t=this;this.hasFocusedTag()||this.keyManager.setActiveItem(-1),this.disabled||(this.tagInput?setTimeout(function(){t.focused||t.markAsTouched()}):this.markAsTouched())},s.prototype.markAsTouched=function(){this.onTouched(),this.changeDetectorRef.markForCheck(),this.stateChanges.next()},s.prototype.updateTabIndex=function(){this._tabIndex=this.userTabIndex||(0===this.tags.length?-1:0)},s.prototype.updateFocusForDestroyedTags=function(){if(null!=this.lastDestroyedTagIndex)if(this.tags.length){var t=Math.min(this.lastDestroyedTagIndex,this.tags.length-1);this.keyManager.setActiveItem(t)}else this.focusInput();this.lastDestroyedTagIndex=null},s.prototype.isValidIndex=function(t){return t>=0&&t<this.tags.length},s.prototype.isInputEmpty=function(t){if(t&&"input"===t.nodeName.toLowerCase()){return!t.value}return!1},s.prototype.selectValue=function(t,e){var n=this;void 0===e&&(e=!0);var i=this.tags.find(function(e){return null!=e.value&&n._compareWith(e.value,t)});return i&&(e?i.selectViaInteraction():i.select(),this.selectionModel.select(i)),i},s.prototype.initializeSelection=function(){var t=this;Promise.resolve().then(function(){(t.ngControl||t._value)&&(t.setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())})},s.prototype.clearSelection=function(t){this.selectionModel.clear(),this.tags.forEach(function(e){e!==t&&e.deselect()}),this.stateChanges.next()},s.prototype.sortValues=function(){var t=this;this._multiple&&(this.selectionModel.clear(),this.tags.forEach(function(e){e.selected&&t.selectionModel.select(e)}),this.stateChanges.next())},s.prototype.propagateChanges=function(t){var e=null;e=Array.isArray(this.selected)?this.selected.map(function(t){return t.value}):this.selected?this.selected.value:t,this._value=e,this.change.emit(new w(this,e)),this.valueChange.emit(e),this.onChange(e),this.changeDetectorRef.markForCheck()},s.prototype.resetTags=function(){this.dropSubscriptions(),this.listenToTagsFocus(),this.listenToTagsSelection(),this.listenToTagsRemoved()},s.prototype.dropSubscriptions=function(){this.tagFocusSubscription&&(this.tagFocusSubscription.unsubscribe(),this.tagFocusSubscription=null),this.tagBlurSubscription&&(this.tagBlurSubscription.unsubscribe(),this.tagBlurSubscription=null),this.tagSelectionSubscription&&(this.tagSelectionSubscription.unsubscribe(),this.tagSelectionSubscription=null),this.tagRemoveSubscription&&(this.tagRemoveSubscription.unsubscribe(),this.tagRemoveSubscription=null)},s.prototype.listenToTagsSelection=function(){var t=this;this.tagSelectionSubscription=this.tagSelectionChanges.subscribe(function(e){e.source.selected?t.selectionModel.select(e.source):t.selectionModel.deselect(e.source),t.multiple||t.tags.forEach(function(e){!t.selectionModel.isSelected(e)&&e.selected&&e.deselect()}),e.isUserInput&&t.propagateChanges()})},s.prototype.listenToTagsFocus=function(){var t=this;this.tagFocusSubscription=this.tagFocusChanges.subscribe(function(e){var n=t.tags.toArray().indexOf(e.tag);t.isValidIndex(n)&&t.keyManager.updateActiveItem(n),t.stateChanges.next()}),this.tagBlurSubscription=this.tagBlurChanges.subscribe(function(){t.blur(),t.stateChanges.next()})},s.prototype.listenToTagsRemoved=function(){var t=this;this.tagRemoveSubscription=this.tagRemoveChanges.subscribe(function(e){var n=e.tag,i=t.tags.toArray().indexOf(e.tag);t.isValidIndex(i)&&n.hasFocus&&(t.lastDestroyedTagIndex=i)})},s.prototype.originatesFromTag=function(t){for(var e=t.target;e&&e!==this.elementRef.nativeElement;){if(e.classList.contains("mc-tag"))return!0;e=e.parentElement}return!1},s.prototype.hasFocusedTag=function(){return this.tags.some(function(t){return t.hasFocus})},s.prototype.syncTagsDisabledState=function(){var t=this;this.tags&&this.tags.forEach(function(e){e.disabled=t._disabled})},s.decorators=[{type:e.Component,args:[{selector:"mc-tag-list",exportAs:"mcTagList",template:"<ng-content></ng-content>",host:{class:"mc-tag-list","[attr.tabindex]":"disabled ? null : _tabIndex","[class.mc-disabled]":"disabled","[class.mc-invalid]":"errorState","[class.mc-required]":"required","(focus)":"focus()","(blur)":"blur()","(keydown)":"keydown($event)","[id]":"uid"},providers:[{provide:h.McFormFieldControl,useExisting:s}],styles:[".mc-tag-list{display:flex;flex-wrap:wrap;min-height:28px;padding:2px 6px}.mc-tag-list .mc-tag-input{max-width:100%;flex:1 1 auto;height:22px;margin:2px 4px}.mc-tag-input{border:none;outline:0;background:0 0}"],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],s.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:o.ErrorStateMatcher},{type:c.Directionality,decorators:[{type:e.Optional}]},{type:u.NgForm,decorators:[{type:e.Optional}]},{type:u.FormGroupDirective,decorators:[{type:e.Optional}]},{type:u.NgControl,decorators:[{type:e.Optional},{type:e.Self}]}]},s.propDecorators={multiple:[{type:e.Input}],compareWith:[{type:e.Input}],value:[{type:e.Input}],required:[{type:e.Input}],placeholder:[{type:e.Input}],disabled:[{type:e.Input}],selectable:[{type:e.Input}],tabIndex:[{type:e.Input}],valueChange:[{type:e.Output}],errorStateMatcher:[{type:e.Input}],orientation:[{type:e.Input,args:["orientation"]}],change:[{type:e.Output}],tags:[{type:e.ContentChildren,args:[S,{descendants:!0}]}]},s}(k),P=0,F=function(){function t(t,n,i){this.elementRef=t,this.renderer=n,this.defaultOptions=i,this.focused=!1,this.separatorKeyCodes=this.defaultOptions.separatorKeyCodes,this.tagEnd=new e.EventEmitter,this.placeholder="",this.id="mc-tag-list-input-"+P++,this._addOnBlur=!0,this._disabled=!1,this.countOfSymbolsForUpdateWidth=3,this.inputElement=this.elementRef.nativeElement,this.setDefaultInputWidth()}return Object.defineProperty(t.prototype,"tagList",{set:function(t){t&&(this._tagList=t,this._tagList.registerInput(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addOnBlur",{get:function(){return this._addOnBlur},set:function(t){this._addOnBlur=n.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this._tagList&&this._tagList.disabled},set:function(t){this._disabled=n.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return!this.inputElement.value},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this._tagList.stateChanges.next()},t.prototype.keydown=function(t){this.emittagEnd(t)},t.prototype.blur=function(){this.addOnBlur&&this.emittagEnd(),this.focused=!1,this._tagList.focused||this._tagList.blur(),this._tagList.stateChanges.next()},t.prototype.emittagEnd=function(t){!this.inputElement.value&&t&&this._tagList.keydown(t),t&&!this.isSeparatorKey(t)||(this.tagEnd.emit({input:this.inputElement,value:this.inputElement.value}),this.updateInputWidth(),t&&t.preventDefault())},t.prototype.onInput=function(){this.updateInputWidth(),this._tagList.stateChanges.next()},t.prototype.updateInputWidth=function(){var t=this.inputElement.value.length;this.renderer.setStyle(this.inputElement,"max-width",0),this.oneSymbolWidth=this.inputElement.scrollWidth/t,this.renderer.setStyle(this.inputElement,"max-width",""),t>this.countOfSymbolsForUpdateWidth?this.renderer.setStyle(this.inputElement,"width",t*this.oneSymbolWidth+"px"):this.setDefaultInputWidth()},t.prototype.onFocus=function(){this.focused=!0,this._tagList.stateChanges.next()},t.prototype.focus=function(){this.inputElement.focus()},t.prototype.setDefaultInputWidth=function(){this.renderer.setStyle(this.inputElement,"width","30px")},t.prototype.isSeparatorKey=function(t){if(i.hasModifierKey(t))return!1;var e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)},t.decorators=[{type:e.Directive,args:[{selector:"input[mcTagInputFor]",exportAs:"mcTagInput, mcTagInputFor",host:{class:"mc-tag-input mc-input-element","[id]":"id","[attr.disabled]":"disabled || null","[attr.placeholder]":"placeholder || null","[attr.aria-invalid]":"_tagList && _tagList.ngControl ? _tagList.ngControl.invalid : null","(keydown)":"keydown($event)","(blur)":"blur()","(focus)":"onFocus()","(input)":"onInput()"}}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:void 0,decorators:[{type:e.Inject,args:[y]}]}]},t.propDecorators={separatorKeyCodes:[{type:e.Input,args:["mcTagInputSeparatorKeyCodes"]}],tagEnd:[{type:e.Output,args:["mcTagInputTokenEnd"]}],placeholder:[{type:e.Input}],id:[{type:e.Input}],tagList:[{type:e.Input,args:["mcTagInputFor"]}],addOnBlur:[{type:e.Input,args:["mcTagInputAddOnBlur"]}],disabled:[{type:e.Input}]},t}(),D={separatorKeyCodes:[i.ENTER]},j=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[g.CommonModule,d.PlatformModule],exports:[M,S,F,_,C,T],declarations:[M,S,F,_,C,T],providers:[{provide:y,useValue:D}]}]}],t}();t.McTagsModule=j,t.McTagSelectionChange=b,t.McTagAvatar=C,t.McTagTrailingIcon=_,t.McTagBase=x,t._McTagMixinBase=I,t.McTag=S,t.McTagRemove=T,t.McTagListBase=E,t._McTagListMixinBase=k,t.McTagListChange=w,t.McTagList=M,t.McTagInput=F,t.MC_TAGS_DEFAULT_OPTIONS=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=mosaic-tags.umd.min.js.map
