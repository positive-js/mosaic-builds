{"version":3,"file":"card.es5.js","sources":["../../../src/lib/card/index.ts","../../../src/lib/card/card.module.ts","../../../src/lib/card/card.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { A11yModule } from '@ptsecurity/cdk/a11y';\nimport { PlatformModule } from '@ptsecurity/cdk/platform';\n\nimport {\n    McCard\n} from './card.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        PlatformModule\n    ],\n    exports: [\n        McCard\n    ],\n    declarations: [\n        McCard\n    ]\n})\nexport class McCardModule {}\n","import {\n    Output,\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef, Input,\n    OnDestroy, EventEmitter,\n    ViewEncapsulation, HostBinding, Directive, ContentChild\n} from '@angular/core';\n\nimport { FocusMonitor } from '@ptsecurity/cdk/a11y';\nimport { SPACE } from '@ptsecurity/cdk/keycodes';\n\n\nexport enum Status {\n    Info,\n    Success,\n    Warning,\n    Error\n}\n\nconst name = 'mc-card';\n\n@Component({\n    selector: name,\n    templateUrl: './card.component.html',\n    styleUrls: ['./card.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    inputs: ['color'],\n    host: {\n        class: name,\n        '[class.mc-card_readonly]': 'readonly',\n        '(keydown)': 'onKeyDown($event)'\n    }\n})\nexport class McCard implements OnDestroy {\n    get tabIndex(): number | null {\n        return this.readonly ? null : this._tabIndex;\n    }\n\n    @HostBinding('attr.tabIndex')\n    @Input()\n    set tabIndex(value: number | null) {\n        this._tabIndex = value;\n    }\n\n    @Input()\n    readonly = false;\n\n    @Input()\n    selected = false;\n\n    @Output()\n    selectedChange = new EventEmitter<boolean>();\n\n    @Input()\n    mode: 'color' | 'white' = 'color';\n\n    @Input()\n    status: Status = Status.Info;\n\n    private _tabIndex: number | null = 0;\n\n    constructor(private _elementRef: ElementRef, private _focusMonitor: FocusMonitor) {\n        this._focusMonitor.monitor(this._elementRef.nativeElement, false);\n    }\n\n    get statusClass() {\n        switch (this.status) {\n            case Status.Error:\n                return `${name}_error`;\n            case Status.Info:\n                return `${name}_info`;\n            case Status.Success:\n                return `${name}_success`;\n            case Status.Warning:\n                return `${name}_warning`;\n            default:\n                return '';\n        }\n    }\n\n    get isWhiteMode() {\n        return this.mode === 'white';\n    }\n\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef.nativeElement);\n    }\n\n    focus(): void {\n        this.hostElement.focus();\n    }\n\n    clicked($event: MouseEvent) {\n        if (!this.readonly) {\n            $event.stopPropagation();\n            this.selectedChange.emit(!this.selected);\n        }\n    }\n\n    private get hostElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    onKeyDown($event: KeyboardEvent) {\n        const keyCode = $event.keyCode;\n        switch (keyCode) {\n            case SPACE:\n                if (!this.readonly) {\n                    $event.preventDefault();\n                    this.selectedChange.emit(!this.selected);\n                }\n                break;\n            default:\n        }\n    }\n}\n"],"names":["tslib_1.__decorate","tslib_1.__metadata"],"mappings":"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"}