{"version":3,"file":"ptsecurity-mosaic-navbar.mjs","sources":["../../../packages/mosaic/navbar/navbar.component.ts","../../../packages/mosaic/navbar/vertical-navbar.animation.ts","../../../packages/mosaic/navbar/vertical-navbar.component.ts","../../../packages/mosaic/navbar/navbar-item.component.ts","../../../packages/mosaic/navbar/navbar-item.component.html","../../../packages/mosaic/navbar/navbar.module.ts","../../../packages/mosaic/navbar/ptsecurity-mosaic-navbar.ts"],"sourcesContent":["import {\n    AfterContentInit,\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChildren,\n    Directive,\n    ElementRef,\n    forwardRef,\n    Input,\n    OnDestroy,\n    QueryList,\n    ViewEncapsulation\n} from '@angular/core';\nimport { FocusKeyManager } from '@ptsecurity/cdk/a11y';\nimport {\n    ENTER,\n    isVerticalMovement,\n    LEFT_ARROW,\n    RIGHT_ARROW,\n    SPACE,\n    TAB\n} from '@ptsecurity/cdk/keycodes';\nimport { merge, Observable, Subject, Subscription } from 'rxjs';\nimport { debounceTime, startWith, takeUntil } from 'rxjs/operators';\n\nimport {\n    McNavbarFocusableItem,\n    McNavbarFocusableItemEvent,\n    McNavbarItem,\n    McNavbarRectangleElement\n} from './navbar-item.component';\n\n\nexport type McNavbarContainerPositionType = 'left' | 'right';\n\n\n@Directive()\nexport class McFocusableComponent implements AfterContentInit, OnDestroy {\n    @ContentChildren(forwardRef(() => McNavbarFocusableItem), { descendants: true })\n    focusableItems: QueryList<McNavbarFocusableItem>;\n\n    keyManager: FocusKeyManager<McNavbarFocusableItem>;\n\n    @Input()\n    get tabIndex(): any {\n        return this._tabIndex;\n    }\n\n    set tabIndex(value: any) {\n        this._tabIndex = value;\n    }\n\n    private _tabIndex = 0;\n\n    get optionFocusChanges(): Observable<McNavbarFocusableItemEvent> {\n        return merge(...this.focusableItems.map((item) => item.onFocus));\n    }\n\n    get optionBlurChanges(): Observable<McNavbarFocusableItemEvent> {\n        return merge(...this.focusableItems.map((option) => option.onBlur));\n    }\n\n    protected readonly destroyed = new Subject<void>();\n\n    private optionFocusSubscription: Subscription | null;\n    private optionBlurSubscription: Subscription | null;\n\n    constructor(protected changeDetectorRef: ChangeDetectorRef) {}\n\n    ngAfterContentInit(): void {\n        this.keyManager = new FocusKeyManager<McNavbarFocusableItem>(this.focusableItems)\n        .withTypeAhead();\n\n        this.keyManager.setFocusOrigin('keyboard');\n\n        this.keyManager.tabOut\n            .pipe(takeUntil(this.destroyed))\n            .subscribe(() => {\n                this.tabIndex = -1;\n\n                setTimeout(() => {\n                    this.tabIndex = 0;\n                    this.changeDetectorRef.markForCheck();\n                });\n            });\n\n        this.focusableItems.changes\n            .pipe(startWith(null), takeUntil(this.destroyed))\n            .subscribe(() => {\n                this.resetOptions();\n\n                // Check to see if we need to update our tab index\n                this.updateTabIndex();\n            });\n    }\n\n    ngOnDestroy() {\n        this.destroyed.next();\n\n        this.destroyed.complete();\n    }\n\n    focus(): void {\n        if (this.focusableItems.length === 0) { return; }\n\n        this.keyManager.setFirstItemActive();\n    }\n\n    blur() {\n        if (!this.hasFocusedItem()) {\n            this.keyManager.setActiveItem(-1);\n        }\n\n        this.changeDetectorRef.markForCheck();\n    }\n\n    protected resetOptions() {\n        this.dropSubscriptions();\n        this.listenToOptionsFocus();\n    }\n\n    protected dropSubscriptions() {\n        if (this.optionFocusSubscription) {\n            this.optionFocusSubscription.unsubscribe();\n            this.optionFocusSubscription = null;\n        }\n\n        if (this.optionBlurSubscription) {\n            this.optionBlurSubscription.unsubscribe();\n            this.optionBlurSubscription = null;\n        }\n    }\n\n    private listenToOptionsFocus(): void {\n        this.optionFocusSubscription = this.optionFocusChanges\n            .subscribe((event) => {\n                const index: number = this.focusableItems.toArray().indexOf(event.item);\n\n                if (this.isValidIndex(index)) {\n                    this.keyManager.updateActiveItem(index);\n                }\n            });\n\n        this.optionBlurSubscription = this.optionBlurChanges\n            .subscribe(() => this.blur());\n    }\n\n    private updateTabIndex(): void {\n        this.tabIndex = this.focusableItems.length === 0 ? -1 : 0;\n    }\n\n    private isValidIndex(index: number): boolean {\n        return index >= 0 && index < this.focusableItems.length;\n    }\n\n    private hasFocusedItem() {\n        return this.focusableItems.some((item) => item.hasFocus);\n    }\n}\n\n\n@Directive({\n    selector: 'mc-navbar-container',\n    host: {\n        class: 'mc-navbar-container'\n    }\n})\nexport class McNavbarContainer {}\n\n@Component({\n    selector: 'mc-navbar',\n    template: `<ng-content select=\"[mc-navbar-container], mc-navbar-container\"></ng-content>`,\n    styleUrls: [\n        './navbar.scss',\n        './navbar-item.scss',\n        './navbar-brand.scss',\n        './navbar-divider.scss'\n    ],\n    host: {\n        class: 'mc-navbar',\n\n        '[attr.tabindex]': 'tabIndex',\n\n        '(focus)': 'focus()',\n        '(blur)': 'blur()',\n\n        '(keydown)': 'onKeyDown($event)',\n\n        '(window:resize)': 'resizeStream.next($event)'\n    },\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class McNavbar extends McFocusableComponent implements AfterViewInit, AfterContentInit, OnDestroy {\n    @ContentChildren(forwardRef(() => McNavbarRectangleElement), { descendants: true })\n    rectangleElements: QueryList<McNavbarRectangleElement>;\n\n    @ContentChildren(forwardRef(() => McNavbarItem), { descendants: true }) navbarItems: QueryList<McNavbarItem>;\n\n    readonly resizeStream = new Subject<Event>();\n\n    private readonly resizeDebounceInterval: number = 100;\n\n    private get width(): number {\n        return this.elementRef.nativeElement.getBoundingClientRect().width;\n    }\n\n    private get totalItemsWidth(): number {\n        return this.rectangleElements\n            .reduce((acc, item) => acc + item.getOuterElementWidth(), 0);\n    }\n\n    private get collapsableItems(): McNavbarItem[] {\n        return this.navbarItems\n            .toArray()\n            .filter((item) => item.icon && item.title && item.collapsable)\n            .reverse();\n    }\n\n    private resizeSubscription: Subscription;\n\n    constructor(\n        private elementRef: ElementRef,\n        changeDetectorRef: ChangeDetectorRef\n    ) {\n        super(changeDetectorRef);\n\n        this.resizeSubscription = this.resizeStream\n            .pipe(debounceTime(this.resizeDebounceInterval))\n            .subscribe(this.updateExpandedStateForItems);\n    }\n\n    ngAfterContentInit(): void {\n        this.setItemsState();\n\n        this.rectangleElements.changes\n            .subscribe(this.setItemsState);\n\n        super.ngAfterContentInit();\n\n        this.keyManager.withHorizontalOrientation('ltr');\n    }\n\n    ngAfterViewInit(): void {\n        // Note: this wait is required for loading and rendering fonts for icons;\n        // unfortunately we cannot control font rendering\n        setTimeout(this.updateExpandedStateForItems);\n    }\n\n    ngOnDestroy() {\n        this.resizeSubscription.unsubscribe();\n\n        super.ngOnDestroy();\n    }\n\n    onKeyDown(event: KeyboardEvent) {\n        // tslint:disable-next-line: deprecation\n        const keyCode = event.keyCode;\n\n        if ([SPACE, ENTER, LEFT_ARROW, RIGHT_ARROW].includes(keyCode) || isVerticalMovement(event)) {\n            event.preventDefault();\n        }\n\n        if (keyCode === TAB) {\n            this.keyManager.tabOut.next();\n\n            return;\n        } else if (keyCode === RIGHT_ARROW) {\n            this.keyManager.setNextItemActive();\n        } else if (keyCode === LEFT_ARROW) {\n            this.keyManager.setPreviousItemActive();\n        } else {\n            this.keyManager.onKeydown(event);\n        }\n    }\n\n    updateExpandedStateForItems = () => {\n        const collapseDelta = this.totalItemsWidth - this.width;\n\n        const needCollapse = collapseDelta > 0;\n\n        if (needCollapse) {\n            this.collapseItems(collapseDelta);\n        } else {\n            this.expandItems(collapseDelta);\n        }\n    }\n\n    private collapseItems(collapseDelta: number) {\n        let delta = collapseDelta;\n\n        const unCollapsedItems = this.collapsableItems\n            .filter((item) => !item.collapsed);\n\n        for (const item of unCollapsedItems) {\n            item.collapsed = true;\n            delta -= item.getTitleWidth();\n\n            if (delta < 0) { break; }\n        }\n    }\n\n    private expandItems(collapseDelta: number) {\n        let delta = collapseDelta;\n\n        this.collapsableItems\n            .filter((item) => item.collapsed)\n            .forEach((item) => {\n                if (delta + item.getTitleWidth() < 0) {\n                    item.collapsed = false;\n                    delta += item.getTitleWidth();\n                }\n            });\n    }\n\n    private setItemsState = () => {\n        Promise.resolve()\n            .then(() => this.rectangleElements?.forEach((item) => item.horizontal = true));\n    }\n}\n","import { animate, AnimationTriggerMetadata, style, transition, trigger, state } from '@angular/animations';\nimport {\n    VerticalNavbarSizeStatesCollapsedWidth as closedWidth,\n    VerticalNavbarSizeStatesExpandedWidth as openedWidth\n} from '@ptsecurity/mosaic/design-tokens';\n\n\nexport function toggleVerticalNavbarAnimation(): AnimationTriggerMetadata {\n    return trigger('toggle', [\n        state('0', style({ width: `var(--mc-vertical-navbar-size-states-closed-width, ${closedWidth})` })),\n        state('1',  style({ width: `var(--mc-vertical-navbar-size-states-opened-width, ${openedWidth})` })),\n        transition('0 <=> 1', animate('200ms cubic-bezier(0, 1, 0.5, 1)'))\n    ]);\n}\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChild,\n    ContentChildren,\n    forwardRef,\n    Input,\n    QueryList,\n    ViewEncapsulation\n} from '@angular/core';\nimport {\n    DOWN_ARROW,\n    ENTER,\n    isVerticalMovement,\n    LEFT_ARROW,\n    RIGHT_ARROW,\n    SPACE,\n    TAB,\n    UP_ARROW\n} from '@ptsecurity/cdk/keycodes';\nimport { Subject } from 'rxjs';\n\nimport {\n    McNavbarBento,\n    McNavbarItem,\n    McNavbarRectangleElement\n} from './navbar-item.component';\nimport { McFocusableComponent } from './navbar.component';\nimport { toggleVerticalNavbarAnimation } from './vertical-navbar.animation';\n\n\n@Component({\n    selector: 'mc-vertical-navbar',\n    exportAs: 'McVerticalNavbar',\n    template: `\n        <div class=\"mc-vertical-navbar__container\"\n             [@toggle]=\"expanded\"\n             (@toggle.done)=\"animationDone.next()\"\n             [class.mc-collapsed]=\"!expanded\"\n             [class.mc-expanded]=\"expanded\">\n\n            <ng-content select=\"[mc-navbar-container], mc-navbar-container\"></ng-content>\n            <ng-content select=\"[mc-navbar-toggle], mc-navbar-toggle\"></ng-content>\n        </div>\n    `,\n    styleUrls: [\n        './vertical-navbar.scss',\n        './navbar-item.scss',\n        './navbar-brand.scss',\n        './navbar-divider.scss'\n    ],\n    host: {\n        class: 'mc-vertical-navbar',\n        '[attr.tabindex]': 'tabIndex',\n\n        '(focus)': 'focus()',\n        '(blur)': 'blur()',\n\n        '(keydown)': 'onKeyDown($event)'\n    },\n    animations: [toggleVerticalNavbarAnimation()],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class McVerticalNavbar extends McFocusableComponent implements AfterContentInit {\n    @ContentChildren(forwardRef(() => McNavbarRectangleElement), { descendants: true })\n    rectangleElements: QueryList<McNavbarRectangleElement>;\n\n    @ContentChildren(forwardRef(() => McNavbarItem), { descendants: true }) items: QueryList<McNavbarItem>;\n\n    @ContentChild(forwardRef(() => McNavbarBento)) bento: McNavbarBento;\n\n    readonly animationDone = new Subject<void>();\n\n    @Input()\n    get expanded() {\n        return this._expanded;\n    }\n\n    set expanded(value: boolean) {\n        this._expanded = coerceBooleanProperty(value);\n\n        this.updateExpandedStateForItems();\n    }\n\n    private _expanded: boolean = false;\n\n    constructor(changeDetectorRef: ChangeDetectorRef) {\n        super(changeDetectorRef);\n\n        this.animationDone\n            .subscribe(this.updateTooltipForItems);\n    }\n\n    ngAfterContentInit(): void {\n        this.setItemsState();\n        this.updateExpandedStateForItems();\n        this.updateTooltipForItems();\n\n        this.rectangleElements.changes\n            .subscribe(this.setItemsState);\n\n        super.ngAfterContentInit();\n\n        this.keyManager.withVerticalOrientation(true);\n    }\n\n    toggle(): void {\n        this.expanded = !this.expanded;\n\n        this.changeDetectorRef.markForCheck();\n    }\n\n    onKeyDown(event: KeyboardEvent) {\n        // tslint:disable-next-line: deprecation\n        const keyCode = event.keyCode;\n\n        if ([SPACE, ENTER, LEFT_ARROW, RIGHT_ARROW].includes(keyCode) || isVerticalMovement(event)) {\n            event.preventDefault();\n        }\n\n        if (keyCode === TAB) {\n            this.keyManager.tabOut.next();\n\n            return;\n        } else if (keyCode === DOWN_ARROW) {\n            this.keyManager.setNextItemActive();\n        } else if (keyCode === UP_ARROW) {\n            this.keyManager.setPreviousItemActive();\n        } else {\n            this.keyManager.onKeydown(event);\n        }\n    }\n\n    private updateExpandedStateForItems = () => {\n        this.rectangleElements?.forEach((item) => {\n            item.collapsed = !this.expanded;\n            setTimeout(() => item.button?.updateClassModifierForIcons());\n        });\n    }\n\n    private updateTooltipForItems = () => {\n        this.items.forEach((item) => item.updateTooltip());\n    }\n\n    private setItemsState = () => {\n        Promise.resolve()\n            .then(() => this.rectangleElements?.forEach((item) => item.vertical = true));\n    }\n}\n","import { FocusMonitor, FocusOrigin } from '@angular/cdk/a11y';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Overlay, ScrollDispatcher } from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n    AfterContentInit,\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChild,\n    Directive,\n    ElementRef,\n    Inject,\n    Input,\n    NgZone,\n    OnDestroy,\n    Optional,\n    TemplateRef,\n    ViewContainerRef,\n    ViewEncapsulation\n} from '@angular/core';\nimport { IFocusableOption } from '@ptsecurity/cdk/a11y';\nimport { DOWN_ARROW, ENTER, NUMPAD_DIVIDE, SLASH, SPACE } from '@ptsecurity/cdk/keycodes';\nimport { McButton, McButtonCssStyler } from '@ptsecurity/mosaic/button';\nimport { PopUpPlacements, toBoolean } from '@ptsecurity/mosaic/core';\nimport { McDropdownTrigger } from '@ptsecurity/mosaic/dropdown';\nimport { McIcon } from '@ptsecurity/mosaic/icon';\nimport { MC_TOOLTIP_SCROLL_STRATEGY, McTooltipTrigger, TooltipModifier } from '@ptsecurity/mosaic/tooltip';\nimport { EMPTY, merge, Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\n\nimport { McVerticalNavbar } from './vertical-navbar.component';\n\n\n// tslint:disable-next-line:naming-convention\nexport interface McNavbarFocusableItemEvent {\n    item: McNavbarFocusableItem;\n}\n\n\n@Directive({\n    selector: 'mc-navbar-logo, [mc-navbar-logo]',\n    host: {\n        class: 'mc-navbar-logo',\n        '(mouseenter)': 'hovered.next(true)',\n        '(mouseleave)': 'hovered.next(false)'\n    }\n})\nexport class McNavbarLogo {\n    readonly hovered = new Subject<boolean>();\n}\n\n\n@Directive({\n    selector: 'mc-navbar-item[bento], [mc-navbar-item][bento]',\n    host: {\n        class: 'mc-navbar-bento'\n    }\n})\nexport class McNavbarBento {}\n\n\n@Directive({\n    selector: 'mc-navbar-title, [mc-navbar-title]',\n    host: {\n        class: 'mc-navbar-title',\n        '[class.mc-navbar-title_small]': 'isTextOverflown',\n\n        '(mouseenter)': 'hovered.next(true)',\n        '(mouseleave)': 'hovered.next(false)'\n    }\n})\nexport class McNavbarTitle implements AfterViewInit {\n    readonly hovered = new Subject<boolean>();\n\n    outerElementWidth: number;\n    isTextOverflown: boolean = false;\n\n    get text(): string {\n        return this.elementRef.nativeElement.innerText;\n    }\n\n    get isOverflown() {\n        return this.elementRef.nativeElement.scrollWidth > this.elementRef.nativeElement.clientWidth;\n    }\n\n    constructor(private elementRef: ElementRef) {}\n\n    getOuterElementWidth(): number {\n        const { width, marginLeft, marginRight } = window.getComputedStyle(this.elementRef.nativeElement);\n\n        return [width, marginLeft, marginRight].reduce((acc, item) => acc + parseInt(item) || 0, 0);\n    }\n\n    checkTextOverflown() {\n        // tslint:disable-next-line:no-magic-numbers\n        this.isTextOverflown = this.text.length > 18;\n    }\n\n    ngAfterViewInit(): void {\n        this.outerElementWidth = this.getOuterElementWidth();\n    }\n}\n\n@Directive({\n    selector: 'mc-navbar-subtitle, [mc-navbar-subtitle]',\n    host: {\n        class: 'mc-navbar-subtitle',\n        '(mouseenter)': 'hovered.next(true)',\n        '(mouseleave)': 'hovered.next(false)'\n    }\n})\nexport class McNavbarSubTitle implements AfterContentInit {\n    readonly hovered = new Subject<boolean>();\n\n    outerElementWidth: number;\n\n    get text(): string {\n        return this.elementRef.nativeElement.innerText;\n    }\n\n    get isOverflown() {\n        return this.elementRef.nativeElement.scrollWidth > this.elementRef.nativeElement.clientWidth;\n    }\n\n    constructor(private elementRef: ElementRef) {}\n\n    getOuterElementWidth(): number {\n        const { width, marginLeft, marginRight } = window.getComputedStyle(this.elementRef.nativeElement);\n\n        return [width, marginLeft, marginRight].reduce((acc, item) => acc + parseInt(item) || 0, 0);\n    }\n\n    ngAfterContentInit(): void {\n        this.outerElementWidth = this.getOuterElementWidth();\n    }\n}\n\n\n@Component({\n    selector: 'mc-navbar-brand, [mc-navbar-brand]',\n    exportAs: 'mcNavbarBrand',\n    template: `\n        <ng-content></ng-content>\n        <div class=\"mc-navbar-item__overlay\"></div>\n    `,\n    host: {\n        class: 'mc-navbar-brand',\n        '[class.mc-hovered]': 'hovered',\n        '[class.layout-column]': 'hasBento',\n        '[class.layout-row]': '!hasBento'\n    }\n})\nexport class McNavbarBrand implements AfterContentInit, OnDestroy {\n    @ContentChild(McNavbarLogo) logo: McNavbarLogo;\n    @ContentChild(McNavbarTitle) title: McNavbarTitle;\n\n    hovered = false;\n\n    get hasBento(): boolean {\n        return !!this.navbar?.bento;\n    }\n\n    private destroyed = new Subject<void>();\n\n    constructor(@Optional() private navbar: McVerticalNavbar) {\n    }\n\n    ngAfterContentInit(): void {\n        merge(\n            this.logo ? this.logo.hovered : EMPTY,\n            this.title ? this.title.hovered : EMPTY\n        )\n        .pipe(takeUntil(this.destroyed))\n        .subscribe((value: boolean) => this.hovered = value);\n\n        this.navbar?.animationDone\n            .subscribe(() => this.title?.checkTextOverflown());\n    }\n\n    ngOnDestroy(): void {\n        this.destroyed.next();\n        this.destroyed.complete();\n    }\n}\n\n\n@Directive({\n    selector: 'mc-navbar-divider',\n    host: {\n        class: 'mc-navbar-divider'\n    }\n})\nexport class McNavbarDivider {}\n\n\n@Directive({\n    selector: 'mc-navbar-item, [mc-navbar-item], mc-navbar-brand, [mc-navbar-brand], mc-navbar-toggle',\n    host: {\n        '[attr.tabindex]': 'tabIndex',\n        '[attr.disabled]': 'disabled || null',\n\n        class: 'mc-navbar-focusable-item',\n        '[class.mc-navbar-item_button]': 'button',\n\n        '(focus)': 'onFocusHandler()',\n        '(blur)': 'blur()'\n    }\n})\nexport class McNavbarFocusableItem implements IFocusableOption, AfterContentInit, OnDestroy {\n    @ContentChild(McNavbarTitle) title: McNavbarTitle;\n\n    @ContentChild(McButton) button: McButton;\n\n    readonly onFocus = new Subject<McNavbarFocusableItemEvent>();\n\n    readonly onBlur = new Subject<McNavbarFocusableItemEvent>();\n\n    get hasFocus(): boolean {\n        return !!this.button?.hasFocus || this._hasFocus;\n    }\n\n    set hasFocus(value: boolean) {\n        this._hasFocus = value;\n    }\n\n    private _hasFocus: boolean = false;\n\n    @Input()\n    get disabled() {\n        return this._disabled;\n    }\n\n    set disabled(value: any) {\n        const newValue = toBoolean(value);\n\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this.changeDetector.markForCheck();\n        }\n    }\n\n    private _disabled = false;\n\n    get tabIndex(): number {\n        return -1;\n    }\n\n    constructor(\n        private elementRef: ElementRef<HTMLElement>,\n        private changeDetector: ChangeDetectorRef,\n        private focusMonitor: FocusMonitor,\n        private ngZone: NgZone\n    ) {}\n\n    ngAfterContentInit(): void {\n        if (this.button) {\n            this.button.tabIndex = -1;\n        }\n\n        this.focusMonitor.monitor(this.elementRef);\n    }\n\n    ngOnDestroy() {\n        this.focusMonitor.stopMonitoring(this.elementRef);\n    }\n\n    onFocusHandler() {\n        if (this.disabled || this.hasFocus) { return; }\n\n        this.onFocus.next({ item: this });\n\n        this.hasFocus = true;\n\n        this.changeDetector.markForCheck();\n\n        this.elementRef.nativeElement.focus();\n    }\n\n    focus(origin?: FocusOrigin) {\n        if (this.disabled || this.hasFocus) { return origin; }\n\n        if (origin === 'keyboard') {\n            this.focusMonitor.focusVia(this.elementRef, origin);\n        }\n\n        if (this.button) {\n            this.button.focusViaKeyboard();\n\n            this.changeDetector.markForCheck();\n\n            return;\n        }\n\n        this.onFocusHandler();\n    }\n\n    blur(): void {\n        // When animations are enabled, Angular may end up removing the option from the DOM a little\n        // earlier than usual, causing it to be blurred and throwing off the logic in the list\n        // that moves focus not the next item. To work around the issue, we defer marking the option\n        // as not focused until the next time the zone stabilizes.\n        this.ngZone.onStable\n            .asObservable()\n            .pipe(take(1))\n            .subscribe(() => {\n                this.ngZone.run(() => {\n                    this._hasFocus = false;\n\n                    if (this.button?.hasFocus) { return; }\n\n                    this.onBlur.next({ item: this });\n                });\n            });\n    }\n\n    getLabel(): string {\n        return this.title?.text || '';\n    }\n}\n\n\n@Component({\n    selector: 'mc-navbar-item, [mc-navbar-item]',\n    exportAs: 'mcNavbarItem',\n    templateUrl: './navbar-item.component.html',\n    host: {\n        class: 'mc-navbar-item',\n        '[class.mc-navbar-item_collapsed]': 'collapsed',\n\n        '(keydown)': 'onKeyDown($event)'\n    },\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class McNavbarItem extends McTooltipTrigger {\n    @ContentChild(McNavbarTitle) title: McNavbarTitle;\n    @ContentChild(McNavbarSubTitle) subTitle: McNavbarSubTitle;\n\n    @ContentChild(McIcon) icon: McIcon;\n\n    @Input() collapsedText: string;\n\n    @Input()\n    get collapsed(): boolean {\n        return this._collapsed;\n    }\n\n    set collapsed(value: boolean) {\n        if (this._collapsed !== value) {\n            this._collapsed = value;\n\n            this.updateTooltip();\n        }\n    }\n\n    private _collapsed = false;\n\n    get croppedText(): string {\n        const croppedTitleText = this.title?.isOverflown ? this.titleText : '';\n        const croppedSubTitleText = this.subTitle?.isOverflown ? this.subTitleText : '';\n\n        return `${croppedTitleText}\\n ${croppedSubTitleText}`;\n    }\n\n    @Input()\n    get collapsable(): boolean {\n        return this._collapsable;\n    }\n\n    set collapsable(value: boolean) {\n        this._collapsable = coerceBooleanProperty(value);\n    }\n\n    private _collapsable: boolean = true;\n\n    get titleText(): string | null {\n        return this.collapsedText || this.title?.text || null;\n    }\n\n    get subTitleText(): string | null {\n        return this.subTitle?.text || null;\n    }\n\n    get disabled(): boolean {\n        if (this._disabled !== undefined) {\n            return this._disabled;\n        }\n\n        return (!this.collapsed && !this.hasCroppedText) || !this.title;\n    }\n\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n\n    get hasDropDownTrigger(): boolean {\n        return !!this.dropdownTrigger;\n    }\n\n    get showVerticalDropDownAngle(): boolean {\n        return !this.bento && this.hasDropDownTrigger && this.rectangleElement.vertical && !this.collapsed;\n    }\n\n    get showHorizontalDropDownAngle(): boolean {\n        return this.hasDropDownTrigger && this.rectangleElement.horizontal && !this.collapsed ;\n    }\n\n    get hasCroppedText(): boolean {\n        return !!(this.title?.isOverflown || this.subTitle?.isOverflown);\n    }\n\n    constructor(\n        public rectangleElement: McNavbarRectangleElement,\n        private changeDetectorRef: ChangeDetectorRef,\n        overlay: Overlay,\n        elementRef: ElementRef,\n        ngZone: NgZone,\n        scrollDispatcher: ScrollDispatcher,\n        hostView: ViewContainerRef,\n        @Inject(MC_TOOLTIP_SCROLL_STRATEGY) scrollStrategy,\n        @Optional() direction: Directionality,\n        @Optional() private dropdownTrigger: McDropdownTrigger,\n        @Optional() private bento: McNavbarBento\n    ) {\n        super(overlay, elementRef, ngZone, scrollDispatcher, hostView, scrollStrategy, direction);\n\n        if (this.hasDropDownTrigger) {\n            this.dropdownTrigger.openByArrowDown = false;\n        }\n\n        this.rectangleElement.state\n            .subscribe(() => {\n                this.collapsed = this.rectangleElement.collapsed;\n\n                this.changeDetectorRef.detectChanges();\n            });\n    }\n\n    ngAfterContentInit(): void {\n        this.updateTooltip();\n    }\n\n    updateTooltip(): void {\n        if (this.collapsed) {\n            this.content = `${this.titleText}\\n ${this.subTitleText || ''}`;\n        } else if (!this.collapsed && this.hasCroppedText) {\n            this.content = this.croppedText;\n        }\n\n        if (this.rectangleElement.vertical) {\n            this.placement = PopUpPlacements.Right;\n        }\n\n        this.changeDetectorRef.markForCheck();\n    }\n\n    getTitleWidth(): number {\n        return this.title.outerElementWidth;\n    }\n\n    onKeyDown($event: KeyboardEvent) {\n        if (!this.hasDropDownTrigger) { return; }\n\n        if (\n            [ENTER, SPACE].includes($event.keyCode) ||\n            (this.rectangleElement.horizontal && $event.keyCode === DOWN_ARROW)\n        ) {\n            this.dropdownTrigger.openedBy = 'keyboard';\n            this.dropdownTrigger.open();\n\n            $event.preventDefault();\n        }\n    }\n}\n\n\n@Directive({\n    selector: 'mc-navbar-item, [mc-navbar-item], mc-navbar-divider, mc-navbar-brand, [mc-navbar-brand]',\n    host: {\n        '[class.mc-vertical]': 'vertical',\n        '[class.mc-horizontal]': 'horizontal',\n\n        '[class.mc-expanded]': 'vertical && !collapsed',\n        '[class.mc-collapsed]': 'vertical && collapsed'\n    }\n})\nexport class McNavbarRectangleElement {\n    readonly state = new Subject<void>();\n\n    get horizontal(): boolean {\n        return this._horizontal;\n    }\n\n    set horizontal(value: boolean) {\n        this._horizontal = value;\n\n        this.state.next();\n    }\n\n    private _horizontal: boolean;\n\n    get vertical(): boolean {\n        return this._vertical;\n    }\n\n    set vertical(value: boolean) {\n        this._vertical = value;\n\n        this.state.next();\n    }\n\n    private _vertical: boolean;\n\n    get collapsed(): boolean {\n        return this._collapsed;\n    }\n\n    set collapsed(value: boolean) {\n        this._collapsed = value;\n\n        this.state.next();\n    }\n\n    private _collapsed: boolean;\n\n    @ContentChild(McButtonCssStyler) button: McButtonCssStyler;\n\n    constructor(public elementRef: ElementRef) {}\n\n    getOuterElementWidth(): number {\n        const { width, marginLeft, marginRight } = window.getComputedStyle(this.elementRef.nativeElement);\n\n        return [width, marginLeft, marginRight].reduce((acc, item) => acc + parseInt(item), 0);\n    }\n}\n\n\n@Component({\n    selector: 'mc-navbar-toggle',\n    template: `\n        <i mc-icon\n           [class.mc-angle-left-M_24]=\"navbar.expanded\"\n           [class.mc-angle-right-M_24]=\"!navbar.expanded\"\n           *ngIf=\"!customIcon\">\n        </i>\n\n        <ng-content select=\"[mc-icon]\"></ng-content>\n\n        <div class=\"mc-navbar-item__title\" *ngIf=\"navbar.expanded\">\n            <ng-content select=\"mc-navbar-title\"></ng-content>\n        </div>\n\n        <div class=\"mc-navbar-item__overlay\"></div>\n    `,\n    styleUrls: ['./navbar.scss'],\n    host: {\n        class: 'mc-navbar-item mc-navbar-toggle mc-vertical',\n        '[class.mc-tooltip_open]': 'isOpen',\n\n        '(keydown)': 'onKeydown($event)',\n        '(click)': 'toggle()',\n        '(touchend)': 'handleTouchend()'\n    },\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class McNavbarToggle extends McTooltipTrigger implements OnDestroy {\n    @ContentChild(McIcon) customIcon: McIcon;\n\n    @Input('mcCollapsedTooltip')\n    get content(): string | TemplateRef<any> {\n        return this._content;\n    }\n\n    set content(content: string | TemplateRef<any>) {\n        this._content = content;\n\n        this.updateData();\n    }\n\n    get disabled(): boolean {\n        return this.navbar.expanded;\n    }\n\n    protected modifier: TooltipModifier = TooltipModifier.Default;\n\n    constructor(\n        public navbar: McVerticalNavbar,\n        private changeDetectorRef: ChangeDetectorRef,\n        overlay: Overlay,\n        elementRef: ElementRef,\n        ngZone: NgZone,\n        scrollDispatcher: ScrollDispatcher,\n        hostView: ViewContainerRef,\n        @Inject(MC_TOOLTIP_SCROLL_STRATEGY) scrollStrategy,\n        @Optional() direction: Directionality,\n        @Optional() @Inject(DOCUMENT) private document: any\n    ) {\n        super(overlay, elementRef, ngZone, scrollDispatcher, hostView, scrollStrategy, direction);\n\n        this.placement = PopUpPlacements.Right;\n\n        const window = this.getWindow();\n\n        if (window) {\n            this.ngZone.runOutsideAngular(() => {\n                window.addEventListener('keydown', this.windowToggleHandler);\n            });\n        }\n    }\n\n    onKeydown($event: KeyboardEvent) {\n        if ([SPACE, ENTER].includes($event.keyCode)) {\n            this.toggle();\n\n            $event.stopPropagation();\n            $event.preventDefault();\n        }\n\n        super.handleKeydown($event);\n    }\n\n    ngOnDestroy(): void {\n        const window = this.getWindow();\n\n        if (window) {\n            window.removeEventListener('keydown', this.windowToggleHandler);\n        }\n    }\n\n    toggle = () => {\n        this.navbar.toggle();\n\n        this.changeDetectorRef.markForCheck();\n\n        this.hide();\n    }\n\n    private getWindow(): Window {\n        return this.document?.defaultView || window;\n    }\n\n    private windowToggleHandler = (event: KeyboardEvent) => {\n        if (event.ctrlKey && [NUMPAD_DIVIDE, SLASH].includes(event.keyCode)) {\n            this.ngZone.run(this.toggle);\n        }\n    }\n}\n","<ng-content select=\"[mc-icon]\"></ng-content>\n\n<div class=\"mc-navbar-item__container\" *ngIf=\"title\">\n    <div class=\"mc-navbar-item__title\">\n        <ng-content select=\"mc-navbar-title, [mc-navbar-title]\"></ng-content>\n        <ng-content select=\"mc-navbar-subtitle, [mc-navbar-subtitle]\"></ng-content>\n    </div>\n\n    <i class=\"mc-navbar-item__arrow-icon\" mc-icon=\"mc-angle-right-M_24\" *ngIf=\"showVerticalDropDownAngle\"></i>\n    <i class=\"mc-navbar-item__arrow-icon\" mc-icon=\"mc-angle-down-S_16\" *ngIf=\"showHorizontalDropDownAngle\"></i>\n\n</div>\n\n<ng-content></ng-content>\n\n<div class=\"mc-navbar-item__overlay\"></div>\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\nimport { McToolTipModule } from '@ptsecurity/mosaic/tooltip';\n\nimport {\n    McNavbarFocusableItem,\n    McNavbarBrand,\n    McNavbarDivider,\n    McNavbarItem,\n    McNavbarLogo,\n    McNavbarTitle,\n    McNavbarRectangleElement,\n    McNavbarToggle,\n    McNavbarSubTitle,\n    McNavbarBento\n} from './navbar-item.component';\nimport { McNavbar, McNavbarContainer } from './navbar.component';\nimport { McVerticalNavbar } from './vertical-navbar.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        PlatformModule,\n        McIconModule,\n        McToolTipModule\n    ],\n    exports: [\n        McNavbar,\n        McNavbarContainer,\n        McNavbarTitle,\n        McNavbarItem,\n        McNavbarBrand,\n        McNavbarLogo,\n        McNavbarToggle,\n        McVerticalNavbar,\n        McNavbarDivider,\n        McNavbarFocusableItem,\n        McNavbarRectangleElement,\n        McNavbarSubTitle,\n        McNavbarBento\n    ],\n    declarations: [\n        McNavbar,\n        McNavbarContainer,\n        McNavbarTitle,\n        McNavbarItem,\n        McNavbarBrand,\n        McNavbarLogo,\n        McNavbarToggle,\n        McVerticalNavbar,\n        McNavbarDivider,\n        McNavbarFocusableItem,\n        McNavbarRectangleElement,\n        McNavbarSubTitle,\n        McNavbarBento\n    ]\n})\nexport class McNavbarModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["closedWidth","openedWidth"],"mappings":"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"}